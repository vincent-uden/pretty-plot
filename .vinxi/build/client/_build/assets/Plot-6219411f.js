import{y as xo,s as bo,D as To,f as Mo,A as Ao,k as wo,h as Lo,G as So,t as Co}from"./web-b1c3e1d3.js";var Do=["src"];function ko(Ir){const aa=document.createElement("script"),[xa,ma]=xo(Ir,Do);return bo(aa,ma,!1,!0),To(()=>{const _r=typeof xa.src=="string"?xa.src:xa.src(),ba=/^(https?:|\w[\.\w-_%]+|)\//.test(_r)?"src":"textContent";aa[ba]!==_r&&(aa[ba]=_r,document.head.appendChild(aa))}),Mo(()=>document.head.contains(aa)&&document.head.removeChild(aa)),aa}var Ri={exports:{}};(function(Ir,aa){(function(ma,_r){Ir.exports=_r()})(self,function(){return function(){var xa={8847:function(te,I,e){var o=e(1828),g={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var s in g){var i=s.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");o.addStyleRule(i,g[s])}},8222:function(te,I,e){te.exports=e(2887)},7206:function(te,I,e){te.exports=e(822)},9509:function(te,I,e){te.exports=e(2201)},9548:function(te,I,e){te.exports=e(8729)},1039:function(te,I,e){te.exports=e(4382)},4296:function(te,I,e){te.exports=e(3102)},2576:function(te,I,e){var o=e(9548);o.register([e(7206),e(4201),e(8222),e(1039),e(4296),e(6398),e(9509)]),te.exports=o},4201:function(te,I,e){te.exports=e(8810)},6398:function(te,I,e){te.exports=e(2275)},2884:function(te){te.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},215:function(te,I,e){var o=e(2884),g=e(1940),s=e(5555),i=e(4467).templatedArray;e(4695),te.exports=i("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:g({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:o.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:o.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",s.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",s.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",s.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",s.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:g({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(te,I,e){var o=e(1828),g=e(9298),s=e(2605).draw;te.exports=function(l){var n=l._fullLayout,t=o.filterVisible(n.annotations);if(t.length&&l._fullData.length)return o.syncOrAsync([s,i],l)};function i(f){var l=f._fullLayout;o.filterVisible(l.annotations).forEach(function(n){var t=g.getFromId(f,n.xref),u=g.getFromId(f,n.yref),h=g.getRefType(n.xref),m=g.getRefType(n.yref);n._extremes={},h==="range"&&r(n,t),m==="range"&&r(n,u)})}function r(f,l){var n=l._id,t=n.charAt(0),u=f[t],h=f["a"+t],m=f[t+"ref"],y=f["a"+t+"ref"],d=f["_"+t+"padplus"],T=f["_"+t+"padminus"],x={x:1,y:-1}[t]*f[t+"shift"],M=3*f.arrowsize*f.arrowwidth||0,c=M+x,p=M-x,v=3*f.startarrowsize*f.arrowwidth||0,b=v+x,w=v-x,_;if(y===m){var D=g.findExtremes(l,[l.r2c(u)],{ppadplus:c,ppadminus:p}),B=g.findExtremes(l,[l.r2c(h)],{ppadplus:Math.max(d,b),ppadminus:Math.max(T,w)});_={min:[D.min[0],B.min[0]],max:[D.max[0],B.max[0]]}}else b=h?b+h:b,w=h?w-h:w,_=g.findExtremes(l,[l.r2c(u)],{ppadplus:Math.max(d,c,b),ppadminus:Math.max(T,p,w)});f._extremes[n]=_}},4317:function(te,I,e){var o=e(1828),g=e(3972),s=e(4467).arrayEditor;te.exports={hasClickToShow:i,onClick:r};function i(n,t){var u=f(n,t);return u.on.length>0||u.explicitOff.length>0}function r(n,t){var u=f(n,t),h=u.on,m=u.off.concat(u.explicitOff),y={},d=n._fullLayout.annotations,T,x;if(h.length||m.length){for(T=0;T<h.length;T++)x=s(n.layout,"annotations",d[h[T]]),x.modifyItem("visible",!0),o.extendFlat(y,x.getUpdateObj());for(T=0;T<m.length;T++)x=s(n.layout,"annotations",d[m[T]]),x.modifyItem("visible",!1),o.extendFlat(y,x.getUpdateObj());return g.call("update",n,{},y)}}function f(n,t){var u=n._fullLayout.annotations,h=[],m=[],y=[],d=(t||[]).length,T,x,M,c,p,v,b,w;for(T=0;T<u.length;T++)if(M=u[T],c=M.clicktoshow,c){for(x=0;x<d;x++)if(p=t[x],v=p.xaxis,b=p.yaxis,v._id===M.xref&&b._id===M.yref&&v.d2r(p.x)===l(M._xclick,v)&&b.d2r(p.y)===l(M._yclick,b)){M.visible?c==="onout"?w=m:w=y:w=h,w.push(T);break}x===d&&M.visible&&c==="onout"&&m.push(T)}return{on:h,off:m,explicitOff:y}}function l(n,t){return t.type==="log"?t.l2r(n):t.d2r(n)}},5625:function(te,I,e){var o=e(1828),g=e(7901);te.exports=function(i,r,f,l){l("opacity");var n=l("bgcolor"),t=l("bordercolor"),u=g.opacity(t);l("borderpad");var h=l("borderwidth"),m=l("showarrow");l("text",m?" ":f._dfltTitle.annotation),l("textangle"),o.coerceFont(l,"font",f.font),l("width"),l("align");var y=l("height");if(y&&l("valign"),m){var d=l("arrowside"),T,x;d.indexOf("end")!==-1&&(T=l("arrowhead"),x=l("arrowsize")),d.indexOf("start")!==-1&&(l("startarrowhead",T),l("startarrowsize",x)),l("arrowcolor",u?r.bordercolor:g.defaultLine),l("arrowwidth",(u&&h||1)*2),l("standoff"),l("startstandoff")}var M=l("hovertext"),c=f.hoverlabel||{};if(M){var p=l("hoverlabel.bgcolor",c.bgcolor||(g.opacity(n)?g.rgb(n):g.defaultLine)),v=l("hoverlabel.bordercolor",c.bordercolor||g.contrast(p));o.coerceFont(l,"hoverlabel.font",{family:c.font.family,size:c.font.size,color:c.font.color||v})}l("captureevents",!!M)}},4128:function(te,I,e){var o=e(2770),g=e(8163);te.exports=function(i,r,f,l){r=r||{};var n=f==="log"&&r.type==="linear",t=f==="linear"&&r.type==="log";if(!(n||t))return;var u=i._fullLayout.annotations,h=r._id.charAt(0),m,y;function d(x){var M=m[x],c=null;n?c=g(M,r.range):c=Math.pow(10,M),o(c)||(c=null),l(y+x,c)}for(var T=0;T<u.length;T++)m=u[T],y="annotations["+T+"].",m[h+"ref"]===r._id&&d(h),m["a"+h+"ref"]===r._id&&d("a"+h)}},4046:function(te,I,e){var o=e(1828),g=e(9298),s=e(5501),i=e(5625),r=e(215);te.exports=function(n,t){s(n,t,{name:"annotations",handleItemDefaults:f})};function f(l,n,t){function u(U,L){return o.coerce(l,n,r,U,L)}var h=u("visible"),m=u("clicktoshow");if(h||m){i(l,n,t,u);for(var y=n.showarrow,d=["x","y"],T=[-10,-30],x={_fullLayout:t},M=0;M<2;M++){var c=d[M],p=g.coerceRef(l,n,x,c,"","paper");if(p!=="paper"){var v=g.getFromId(x,p);v._annIndices.push(n._index)}if(g.coercePosition(n,x,u,p,c,.5),y){var b="a"+c,w=g.coerceRef(l,n,x,b,"pixel",["pixel","paper"]);w!=="pixel"&&w!==p&&(w=n[b]="pixel");var _=w==="pixel"?T[M]:.4;g.coercePosition(n,x,u,w,b,_)}u(c+"anchor"),u(c+"shift")}if(o.noneOrAll(l,n,["x","y"]),y&&o.noneOrAll(l,n,["ax","ay"]),m){var D=u("xclick"),B=u("yclick");n._xclick=D===void 0?n.x:g.cleanPosition(D,x,n.xref),n._yclick=B===void 0?n.y:g.cleanPosition(B,x,n.yref)}}}},2605:function(te,I,e){var o=e(9898),g=e(3972),s=e(4875),i=e(1828),r=i.strTranslate,f=e(9298),l=e(7901),n=e(1424),t=e(211),u=e(3893),h=e(6964),m=e(8569),y=e(4467).arrayEditor,d=e(3011);te.exports={draw:T,drawOne:x,drawRaw:c};function T(p){var v=p._fullLayout;v._infolayer.selectAll(".annotation").remove();for(var b=0;b<v.annotations.length;b++)v.annotations[b].visible&&x(p,b);return s.previousPromises(p)}function x(p,v){var b=p._fullLayout,w=b.annotations[v]||{},_=f.getFromId(p,w.xref),D=f.getFromId(p,w.yref);_&&_.setScale(),D&&D.setScale(),c(p,w,v,!1,_,D)}function M(p,v,b,w,_){var D=_[b],B=_[b+"ref"],U=b.indexOf("y")!==-1,L=f.getRefType(B)==="domain",O=U?w.h:w.w;return p?L?D+(U?-v:v)/p._length:p.p2r(p.r2p(D)+v):D+(U?-v:v)/O}function c(p,v,b,w,_,D){var B=p._fullLayout,U=p._fullLayout._size,L=p._context.edits,O,R;w?(O="annotation-"+w,R=w+".annotations"):(O="annotation",R="annotations");var Z=y(p.layout,R,v),$=Z.modifyBase,ie=Z.modifyItem,N=Z.getUpdateObj;B._infolayer.selectAll("."+O+'[data-index="'+b+'"]').remove();var F="clip"+B._uid+"_ann"+b;if(!v._input||v.visible===!1){o.selectAll("#"+F).remove();return}var G={x:{},y:{}},W=+v.textangle||0,X=B._infolayer.append("g").classed(O,!0).attr("data-index",String(b)).style("opacity",v.opacity),J=X.append("g").classed("annotation-text-g",!0),ne=L[v.showarrow?"annotationTail":"annotationPosition"],fe=v.captureevents||L.annotationText||ne;function ye(ae){var ue={index:b,annotation:v._input,fullAnnotation:v,event:ae};return w&&(ue.subplotId=w),ue}var Me=J.append("g").style("pointer-events",fe?"all":null).call(h,"pointer").on("click",function(){p._dragging=!1,p.emit("plotly_clickannotation",ye(o.event))});v.hovertext&&Me.on("mouseover",function(){var ae=v.hoverlabel,ue=ae.font,he=this.getBoundingClientRect(),Ae=p.getBoundingClientRect();t.loneHover({x0:he.left-Ae.left,x1:he.right-Ae.left,y:(he.top+he.bottom)/2-Ae.top,text:v.hovertext,color:ae.bgcolor,borderColor:ae.bordercolor,fontFamily:ue.family,fontSize:ue.size,fontColor:ue.color},{container:B._hoverlayer.node(),outerContainer:B._paper.node(),gd:p})}).on("mouseout",function(){t.loneUnhover(B._hoverlayer.node())});var le=v.borderwidth,ve=v.borderpad,H=le+ve,Y=Me.append("rect").attr("class","bg").style("stroke-width",le+"px").call(l.stroke,v.bordercolor).call(l.fill,v.bgcolor),S=v.width||v.height,E=B._topclips.selectAll("#"+F).data(S?[0]:[]);E.enter().append("clipPath").classed("annclip",!0).attr("id",F).append("rect"),E.exit().remove();var z=v.font,C=B._meta?i.templateString(v.text,B._meta):v.text,K=Me.append("text").classed("annotation-text",!0).text(C);function P(ae){return ae.call(n.font,z).attr({"text-anchor":{left:"start",right:"end"}[v.align]||"middle"}),u.convertToTspans(ae,p,j),ae}function j(){var ae=K.selectAll("a");if(ae.size()===1&&ae.text()===K.text()){var ue=Me.insert("a",":first-child").attr({"xlink:xlink:href":ae.attr("xlink:href"),"xlink:xlink:show":ae.attr("xlink:show")}).style({cursor:"pointer"});ue.node().appendChild(Y.node())}var he=Me.select(".annotation-text-math-group"),Ae=!he.empty(),ke=n.bBox((Ae?he:K).node()),ce=ke.width,me=ke.height,pe=v.width||ce,Ee=v.height||me,we=Math.round(pe+2*H),xe=Math.round(Ee+2*H);function Fe(Ut,St){return St==="auto"&&(Ut<.3333333333333333?St="left":Ut>.6666666666666666?St="right":St="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[St]}for(var Ke=!1,je=["x","y"],Je=0;Je<je.length;Je++){var ht=je[Je],Tt=v[ht+"ref"]||ht,gt=v["a"+ht+"ref"],tt={x:_,y:D}[ht],Ct=(W+(ht==="x"?0:-90))*Math.PI/180,rt=we*Math.cos(Ct),Mt=xe*Math.sin(Ct),Dt=Math.abs(rt)+Math.abs(Mt),kt=v[ht+"anchor"],At=v[ht+"shift"]*(ht==="x"?1:-1),Le=G[ht],Te,Pe,Ce,Oe,oe,be=f.getRefType(Tt);if(tt&&be!=="domain"){var De=tt.r2fraction(v[ht]);(De<0||De>1)&&(gt===Tt?(De=tt.r2fraction(v["a"+ht]),(De<0||De>1)&&(Ke=!0)):Ke=!0),Te=tt._offset+tt.r2p(v[ht]),Oe=.5}else{var Se=be==="domain";ht==="x"?(Ce=v[ht],Te=Se?tt._offset+tt._length*Ce:Te=U.l+U.w*Ce):(Ce=1-v[ht],Te=Se?tt._offset+tt._length*Ce:Te=U.t+U.h*Ce),Oe=v.showarrow?.5:Ce}if(v.showarrow){Le.head=Te;var ze=v["a"+ht];if(oe=rt*Fe(.5,v.xanchor)-Mt*Fe(.5,v.yanchor),gt===Tt){var _e=f.getRefType(gt);_e==="domain"?(ht==="y"&&(ze=1-ze),Le.tail=tt._offset+tt._length*ze):_e==="paper"?ht==="y"?(ze=1-ze,Le.tail=U.t+U.h*ze):Le.tail=U.l+U.w*ze:Le.tail=tt._offset+tt.r2p(ze),Pe=oe}else Le.tail=Te+ze,Pe=oe+ze;Le.text=Le.tail+oe;var ct=B[ht==="x"?"width":"height"];if(Tt==="paper"&&(Le.head=i.constrain(Le.head,1,ct-1)),gt==="pixel"){var ot=-Math.max(Le.tail-3,Le.text),$e=Math.min(Le.tail+3,Le.text)-ct;ot>0?(Le.tail+=ot,Le.text+=ot):$e>0&&(Le.tail-=$e,Le.text-=$e)}Le.tail+=At,Le.head+=At}else oe=Dt*Fe(Oe,kt),Pe=oe,Le.text=Te+oe;Le.text+=At,oe+=At,Pe+=At,v["_"+ht+"padplus"]=Dt/2+Pe,v["_"+ht+"padminus"]=Dt/2-Pe,v["_"+ht+"size"]=Dt,v["_"+ht+"shift"]=oe}if(Ke){Me.remove();return}var Ye=0,it=0;if(v.align!=="left"&&(Ye=(pe-ce)*(v.align==="center"?.5:1)),v.valign!=="top"&&(it=(Ee-me)*(v.valign==="middle"?.5:1)),Ae)he.select("svg").attr({x:H+Ye-1,y:H+it}).call(n.setClipUrl,S?F:null,p);else{var wt=H+it-ke.top,Rt=H+Ye-ke.left;K.call(u.positionText,Rt,wt).call(n.setClipUrl,S?F:null,p)}E.select("rect").call(n.setRect,H,H,pe,Ee),Y.call(n.setRect,le/2,le/2,we-le,xe-le),Me.call(n.setTranslate,Math.round(G.x.text-we/2),Math.round(G.y.text-xe/2)),J.attr({transform:"rotate("+W+","+G.x.text+","+G.y.text+")"});var Ht=function(Ut,St){X.selectAll(".annotation-arrow-g").remove();var Gt=G.x.head,Ot=G.y.head,It=G.x.tail+Ut,Qt=G.y.tail+St,Bt=G.x.text+Ut,xt=G.y.text+St,_t=i.rotationXYMatrix(W,Bt,xt),Nt=i.apply2DTransform(_t),Jt=i.apply2DTransform2(_t),rr=+Y.attr("width"),lr=+Y.attr("height"),Yt=Bt-.5*rr,re=Yt+rr,q=xt-.5*lr,He=q+lr,Ie=[[Yt,q,Yt,He],[Yt,He,re,He],[re,He,re,q],[re,q,Yt,q]].map(Jt);if(!Ie.reduce(function(ut,Pt){return ut^!!i.segmentsIntersect(Gt,Ot,Gt+1e6,Ot+1e6,Pt[0],Pt[1],Pt[2],Pt[3])},!1)){Ie.forEach(function(ut){var Pt=i.segmentsIntersect(It,Qt,Gt,Ot,ut[0],ut[1],ut[2],ut[3]);Pt&&(It=Pt.x,Qt=Pt.y)});var Ue=v.arrowwidth,Ve=v.arrowcolor,Xe=v.arrowside,Ge=X.append("g").style({opacity:l.opacity(Ve)}).classed("annotation-arrow-g",!0),Be=Ge.append("path").attr("d","M"+It+","+Qt+"L"+Gt+","+Ot).style("stroke-width",Ue+"px").call(l.stroke,l.rgb(Ve));if(d(Be,Xe,v),L.annotationPosition&&Be.node().parentNode&&!w){var qe=Gt,at=Ot;if(v.standoff){var st=Math.sqrt(Math.pow(Gt-It,2)+Math.pow(Ot-Qt,2));qe+=v.standoff*(It-Gt)/st,at+=v.standoff*(Qt-Ot)/st}var nt=Ge.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(It-qe)+","+(Qt-at),transform:r(qe,at)}).style("stroke-width",Ue+6+"px").call(l.stroke,"rgba(0,0,0,0)").call(l.fill,"rgba(0,0,0,0)"),pt,dt;m.init({element:nt.node(),gd:p,prepFn:function(){var ut=n.getTranslate(Me);pt=ut.x,dt=ut.y,_&&_.autorange&&$(_._name+".autorange",!0),D&&D.autorange&&$(D._name+".autorange",!0)},moveFn:function(ut,Pt){var Lt=Nt(pt,dt),$t=Lt[0]+ut,Et=Lt[1]+Pt;Me.call(n.setTranslate,$t,Et),ie("x",M(_,ut,"x",U,v)),ie("y",M(D,Pt,"y",U,v)),v.axref===v.xref&&ie("ax",M(_,ut,"ax",U,v)),v.ayref===v.yref&&ie("ay",M(D,Pt,"ay",U,v)),Ge.attr("transform",r(ut,Pt)),J.attr({transform:"rotate("+W+","+$t+","+Et+")"})},doneFn:function(){g.call("_guiRelayout",p,N());var ut=document.querySelector(".js-notes-box-panel");ut&&ut.redraw(ut.selectedObj)}})}}};if(v.showarrow&&Ht(0,0),ne){var Vt;m.init({element:Me.node(),gd:p,prepFn:function(){Vt=J.attr("transform")},moveFn:function(Ut,St){var Gt="pointer";if(v.showarrow)v.axref===v.xref?ie("ax",M(_,Ut,"ax",U,v)):ie("ax",v.ax+Ut),v.ayref===v.yref?ie("ay",M(D,St,"ay",U.w,v)):ie("ay",v.ay+St),Ht(Ut,St);else{if(w)return;var Ot,It;if(_)Ot=M(_,Ut,"x",U,v);else{var Qt=v._xsize/U.w,Bt=v.x+(v._xshift-v.xshift)/U.w-Qt/2;Ot=m.align(Bt+Ut/U.w,Qt,0,1,v.xanchor)}if(D)It=M(D,St,"y",U,v);else{var xt=v._ysize/U.h,_t=v.y-(v._yshift+v.yshift)/U.h-xt/2;It=m.align(_t-St/U.h,xt,0,1,v.yanchor)}ie("x",Ot),ie("y",It),(!_||!D)&&(Gt=m.getCursor(_?.5:Ot,D?.5:It,v.xanchor,v.yanchor))}J.attr({transform:r(Ut,St)+Vt}),h(Me,Gt)},clickFn:function(Ut,St){v.captureevents&&p.emit("plotly_clickannotation",ye(St))},doneFn:function(){h(Me),g.call("_guiRelayout",p,N());var Ut=document.querySelector(".js-notes-box-panel");Ut&&Ut.redraw(Ut.selectedObj)}})}}L.annotationText?K.call(u.makeEditable,{delegate:Me,gd:p}).call(P).on("edit",function(ae){v.text=ae,this.call(P),ie("text",ae),_&&_.autorange&&$(_._name+".autorange",!0),D&&D.autorange&&$(D._name+".autorange",!0),g.call("_guiRelayout",p,N())}):K.call(P)}},3011:function(te,I,e){var o=e(9898),g=e(7901),s=e(2884),i=e(1828),r=i.strScale,f=i.strRotate,l=i.strTranslate;te.exports=function(t,u,h){var m=t.node(),y=s[h.arrowhead||0],d=s[h.startarrowhead||0],T=(h.arrowwidth||1)*(h.arrowsize||1),x=(h.arrowwidth||1)*(h.startarrowsize||1),M=u.indexOf("start")>=0,c=u.indexOf("end")>=0,p=y.backoff*T+h.standoff,v=d.backoff*x+h.startstandoff,b,w,_,D;if(m.nodeName==="line"){b={x:+t.attr("x1"),y:+t.attr("y1")},w={x:+t.attr("x2"),y:+t.attr("y2")};var B=b.x-w.x,U=b.y-w.y;if(_=Math.atan2(U,B),D=_+Math.PI,p&&v&&p+v>Math.sqrt(B*B+U*U)){J();return}if(p){if(p*p>B*B+U*U){J();return}var L=p*Math.cos(_),O=p*Math.sin(_);w.x+=L,w.y+=O,t.attr({x2:w.x,y2:w.y})}if(v){if(v*v>B*B+U*U){J();return}var R=v*Math.cos(_),Z=v*Math.sin(_);b.x-=R,b.y-=Z,t.attr({x1:b.x,y1:b.y})}}else if(m.nodeName==="path"){var $=m.getTotalLength(),ie="";if($<p+v){J();return}var N=m.getPointAtLength(0),F=m.getPointAtLength(.1);_=Math.atan2(N.y-F.y,N.x-F.x),b=m.getPointAtLength(Math.min(v,$)),ie="0px,"+v+"px,";var G=m.getPointAtLength($),W=m.getPointAtLength($-.1);D=Math.atan2(G.y-W.y,G.x-W.x),w=m.getPointAtLength(Math.max(0,$-p));var X=ie?v+p:p;ie+=$-X+"px,"+$+"px",t.style("stroke-dasharray",ie)}function J(){t.style("stroke-dasharray","0px,100px")}function ne(fe,ye,Me,le){fe.path&&(fe.noRotate&&(Me=0),o.select(m.parentNode).append("path").attr({class:t.attr("class"),d:fe.path,transform:l(ye.x,ye.y)+f(Me*180/Math.PI)+r(le)}).style({fill:g.rgb(h.arrowcolor),"stroke-width":0}))}M&&ne(d,b,_,x),c&&ne(y,w,D,T)}},2745:function(te,I,e){var o=e(2605),g=e(4317);te.exports={moduleType:"component",name:"annotations",layoutAttributes:e(215),supplyLayoutDefaults:e(4046),includeBasePlot:e(6325)("annotations"),calcAutorange:e(3749),draw:o.draw,drawOne:o.drawOne,drawRaw:o.drawRaw,hasClickToShow:g.hasClickToShow,onClick:g.onClick,convertCoords:e(4128)}},6997:function(te,I,e){var o=e(215),g=e(962).overrideAll,s=e(4467).templatedArray;te.exports=g(s("annotation",{visible:o.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:o.xanchor,xshift:o.xshift,yanchor:o.yanchor,yshift:o.yshift,text:o.text,textangle:o.textangle,font:o.font,width:o.width,height:o.height,opacity:o.opacity,align:o.align,valign:o.valign,bgcolor:o.bgcolor,bordercolor:o.bordercolor,borderpad:o.borderpad,borderwidth:o.borderwidth,showarrow:o.showarrow,arrowcolor:o.arrowcolor,arrowhead:o.arrowhead,startarrowhead:o.startarrowhead,arrowside:o.arrowside,arrowsize:o.arrowsize,startarrowsize:o.startarrowsize,arrowwidth:o.arrowwidth,standoff:o.standoff,startstandoff:o.startstandoff,hovertext:o.hovertext,hoverlabel:o.hoverlabel,captureevents:o.captureevents}),"calc","from-root")},5485:function(te,I,e){var o=e(1828),g=e(9298);te.exports=function(r){for(var f=r.fullSceneLayout,l=f.annotations,n=0;n<l.length;n++)s(l[n],r);r.fullLayout._infolayer.selectAll(".annotation-"+r.id).remove()};function s(i,r){var f=r.fullSceneLayout,l=f.domain,n=r.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};i._xa={},o.extendFlat(i._xa,t),g.setConvert(i._xa),i._xa._offset=n.l+l.x[0]*n.w,i._xa.l2p=function(){return .5*(1+i._pdata[0]/i._pdata[3])*n.w*(l.x[1]-l.x[0])},i._ya={},o.extendFlat(i._ya,t),g.setConvert(i._ya),i._ya._offset=n.t+(1-l.y[1])*n.h,i._ya.l2p=function(){return .5*(1-i._pdata[1]/i._pdata[3])*n.h*(l.y[1]-l.y[0])}}},226:function(te,I,e){var o=e(1828),g=e(9298),s=e(5501),i=e(5625),r=e(6997);te.exports=function(n,t,u){s(n,t,{name:"annotations",handleItemDefaults:f,fullLayout:u.fullLayout})};function f(l,n,t,u){function h(d,T){return o.coerce(l,n,r,d,T)}function m(d){var T=d+"axis",x={_fullLayout:{}};return x._fullLayout[T]=t[T],g.coercePosition(n,x,h,d,d,.5)}var y=h("visible");y&&(i(l,n,u.fullLayout,h),m("x"),m("y"),m("z"),o.noneOrAll(l,n,["x","y","z"]),n.xref="x",n.yref="y",n.zref="z",h("xanchor"),h("yanchor"),h("xshift"),h("yshift"),n.showarrow&&(n.axref="pixel",n.ayref="pixel",h("ax",-10),h("ay",-30),o.noneOrAll(l,n,["ax","ay"])))}},2188:function(te,I,e){var o=e(2605).drawRaw,g=e(3538),s=["x","y","z"];te.exports=function(r){for(var f=r.fullSceneLayout,l=r.dataScale,n=f.annotations,t=0;t<n.length;t++){for(var u=n[t],h=!1,m=0;m<3;m++){var y=s[m],d=u[y],T=f[y+"axis"],x=T.r2fraction(d);if(x<0||x>1){h=!0;break}}h?r.fullLayout._infolayer.select(".annotation-"+r.id+'[data-index="'+t+'"]').remove():(u._pdata=g(r.glplot.cameraParams,[f.xaxis.r2l(u.x)*l[0],f.yaxis.r2l(u.y)*l[1],f.zaxis.r2l(u.z)*l[2]]),o(r.graphDiv,u,t,r.id,u._xa,u._ya))}}},2468:function(te,I,e){var o=e(3972),g=e(1828);te.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(6997)}}},layoutAttributes:e(6997),handleDefaults:e(226),includeBasePlot:s,convert:e(5485),draw:e(2188)};function s(i,r){var f=o.subplotsRegistry.gl3d;if(f)for(var l=f.attrRegex,n=Object.keys(i),t=0;t<n.length;t++){var u=n[t];l.test(u)&&(i[u].annotations||[]).length&&(g.pushUnique(r._basePlotModules,f),g.pushUnique(r._subplots.gl3d,u))}}},7561:function(te,I,e){te.exports=e(3489),e(4338),e(3961),e(8751),e(6825),e(7715),e(9384),e(3805),e(8874),e(3290),e(9108),e(5422),e(4320),e(1320),e(1367),e(1457)},2201:function(te,I,e){var o=e(7561),g=e(1828),s=e(606),i=s.EPOCHJD,r=s.ONEDAY,f={valType:"enumerated",values:g.sortObjectKeys(o.calendars),editType:"calc",dflt:"gregorian"},l=function(_,D,B,U){var L={};return L[B]=f,g.coerce(_,D,L,B,U)},n=function(_,D,B,U){for(var L=0;L<B.length;L++)l(_,D,B[L]+"calendar",U.calendar)},t={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},u={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},h={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},m="##",y={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:m,w:m,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function d(_,D,B){for(var U=Math.floor((D+.05)/r)+i,L=x(B).fromJD(U),O=0,R,Z,$,ie,N;(O=_.indexOf("%",O))!==-1;)R=_.charAt(O+1),R==="0"||R==="-"||R==="_"?($=3,Z=_.charAt(O+2),R==="_"&&(R="-")):(Z=R,R="0",$=2),ie=y[Z],ie?(ie===m?N=m:N=L.formatDate(ie[R]),_=_.substr(0,O)+N+_.substr(O+$),O+=N.length):O+=$;return _}var T={};function x(_){var D=T[_];return D||(D=T[_]=o.instance(_),D)}function M(_){return g.extendFlat({},f,{description:_})}function c(_){return"Sets the calendar system to use with `"+_+"` date data."}var p={xcalendar:M(c("x"))},v=g.extendFlat({},p,{ycalendar:M(c("y"))}),b=g.extendFlat({},v,{zcalendar:M(c("z"))}),w=M(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));te.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:v,bar:v,box:v,heatmap:v,contour:v,histogram:v,histogram2d:v,histogram2dcontour:v,scatter3d:b,surface:b,mesh3d:b,scattergl:v,ohlc:p,candlestick:p},layout:{calendar:M(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:w},yaxis:{calendar:w},scene:{xaxis:{calendar:w},yaxis:{calendar:w},zaxis:{calendar:w}},polar:{radialaxis:{calendar:w}}},transforms:{filter:{valuecalendar:M(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:M(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:f,handleDefaults:l,handleTraceDefaults:n,CANONICAL_SUNDAY:u,CANONICAL_TICK:t,DFLTRANGE:h,getCal:x,worldCalFmt:d}},2399:function(te,I){I.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],I.defaultLine="#444",I.lightLine="#eee",I.background="#fff",I.borderLine="#BEC8D9",I.lightFraction=90.9090909090909},7901:function(te,I,e){var o=e(4267),g=e(2770),s=e(3627).isTypedArray,i=te.exports={},r=e(2399);i.defaults=r.defaults;var f=i.defaultLine=r.defaultLine;i.lightLine=r.lightLine;var l=i.background=r.background;i.tinyRGB=function(t){var u=t.toRgb();return"rgb("+Math.round(u.r)+", "+Math.round(u.g)+", "+Math.round(u.b)+")"},i.rgb=function(t){return i.tinyRGB(o(t))},i.opacity=function(t){return t?o(t).getAlpha():0},i.addOpacity=function(t,u){var h=o(t).toRgb();return"rgba("+Math.round(h.r)+", "+Math.round(h.g)+", "+Math.round(h.b)+", "+u+")"},i.combine=function(t,u){var h=o(t).toRgb();if(h.a===1)return o(t).toRgbString();var m=o(u||l).toRgb(),y=m.a===1?m:{r:255*(1-m.a)+m.r*m.a,g:255*(1-m.a)+m.g*m.a,b:255*(1-m.a)+m.b*m.a},d={r:y.r*(1-h.a)+h.r*h.a,g:y.g*(1-h.a)+h.g*h.a,b:y.b*(1-h.a)+h.b*h.a};return o(d).toRgbString()},i.contrast=function(t,u,h){var m=o(t);m.getAlpha()!==1&&(m=o(i.combine(t,l)));var y=m.isDark()?u?m.lighten(u):l:h?m.darken(h):f;return y.toString()},i.stroke=function(t,u){var h=o(u);t.style({stroke:i.tinyRGB(h),"stroke-opacity":h.getAlpha()})},i.fill=function(t,u){var h=o(u);t.style({fill:i.tinyRGB(h),"fill-opacity":h.getAlpha()})},i.clean=function(t){if(!(!t||typeof t!="object")){var u=Object.keys(t),h,m,y,d;for(h=0;h<u.length;h++)if(y=u[h],d=t[y],y.substr(y.length-5)==="color")if(Array.isArray(d))for(m=0;m<d.length;m++)d[m]=n(d[m]);else t[y]=n(d);else if(y.substr(y.length-10)==="colorscale"&&Array.isArray(d))for(m=0;m<d.length;m++)Array.isArray(d[m])&&(d[m][1]=n(d[m][1]));else if(Array.isArray(d)){var T=d[0];if(!Array.isArray(T)&&T&&typeof T=="object")for(m=0;m<d.length;m++)i.clean(d[m])}else d&&typeof d=="object"&&!s(d)&&i.clean(d)}};function n(t){if(g(t)||typeof t!="string")return t;var u=t.trim();if(u.substr(0,3)!=="rgb")return t;var h=u.match(/^rgba?\s*\(([^()]*)\)$/);if(!h)return t;var m=h[1].trim().split(/\s*[\s,]\s*/),y=u.charAt(3)==="a"&&m.length===4;if(!y&&m.length!==3)return t;for(var d=0;d<m.length;d++){if(!m[d].length||(m[d]=Number(m[d]),!(m[d]>=0)))return t;if(d===3)m[d]>1&&(m[d]=1);else if(m[d]>=1)return t}var T=Math.round(m[0]*255)+", "+Math.round(m[1]*255)+", "+Math.round(m[2]*255);return y?"rgba("+T+", "+m[3]+")":"rgb("+T+")"}},3583:function(te,I,e){var o=e(3838),g=e(1940),s=e(1426).extendFlat,i=e(962).overrideAll;te.exports=i({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:o.linecolor,outlinewidth:o.linewidth,bordercolor:o.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:o.minor.tickmode,nticks:o.nticks,tick0:o.tick0,dtick:o.dtick,tickvals:o.tickvals,ticktext:o.ticktext,ticks:s({},o.ticks,{dflt:""}),ticklabeloverflow:s({},o.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:o.ticklen,tickwidth:o.tickwidth,tickcolor:o.tickcolor,ticklabelstep:o.ticklabelstep,showticklabels:o.showticklabels,labelalias:o.labelalias,tickfont:g({}),tickangle:o.tickangle,tickformat:o.tickformat,tickformatstops:o.tickformatstops,tickprefix:o.tickprefix,showtickprefix:o.showtickprefix,ticksuffix:o.ticksuffix,showticksuffix:o.showticksuffix,separatethousands:o.separatethousands,exponentformat:o.exponentformat,minexponent:o.minexponent,showexponent:o.showexponent,title:{text:{valType:"string"},font:g({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:g({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},939:function(te){te.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},2499:function(te,I,e){var o=e(1828),g=e(4467),s=e(6218),i=e(8701),r=e(6115),f=e(9426),l=e(3583);te.exports=function(t,u,h){var m=g.newContainer(u,"colorbar"),y=t.colorbar||{};function d(G,W){return o.coerce(y,m,l,G,W)}var T=h.margin||{t:0,b:0,l:0,r:0},x=h.width-T.l-T.r,M=h.height-T.t-T.b,c=d("orientation"),p=c==="v",v=d("thicknessmode");d("thickness",v==="fraction"?30/(p?x:M):30);var b=d("lenmode");d("len",b==="fraction"?1:p?M:x);var w=d("yref"),_=d("xref"),D=w==="paper",B=_==="paper",U,L,O,R="left";p?(O="middle",R=B?"left":"right",U=B?1.02:1,L=.5):(O=D?"bottom":"top",R="center",U=.5,L=D?1.02:1),o.coerce(y,m,{x:{valType:"number",min:B?-2:0,max:B?3:1,dflt:U}},"x"),o.coerce(y,m,{y:{valType:"number",min:D?-2:0,max:D?3:1,dflt:L}},"y"),d("xanchor",R),d("xpad"),d("yanchor",O),d("ypad"),o.noneOrAll(y,m,["x","y"]),d("outlinecolor"),d("outlinewidth"),d("bordercolor"),d("borderwidth"),d("bgcolor");var Z=o.coerce(y,m,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:p?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");d("ticklabeloverflow",Z.indexOf("inside")!==-1?"hide past domain":"hide past div"),s(y,m,d,"linear");var $=h.font,ie={outerTicks:!1,font:$};Z.indexOf("inside")!==-1&&(ie.bgColor="black"),f(y,m,d,"linear",ie),r(y,m,d,"linear",ie),i(y,m,d,"linear",ie),d("title.text",h._dfltTitle.colorbar);var N=m.showticklabels?m.tickfont:$,F=o.extendFlat({},N,{color:$.color,size:o.bigFont(N.size)});o.coerceFont(d,"title.font",F),d("title.side",p?"top":"right")}},8981:function(te,I,e){var o=e(9898),g=e(4267),s=e(4875),i=e(3972),r=e(9298),f=e(8569),l=e(1828),n=l.strTranslate,t=e(1426).extendFlat,u=e(6964),h=e(1424),m=e(7901),y=e(2998),d=e(3893),T=e(2869).flipScale,x=e(1453),M=e(2830),c=e(3838),p=e(8783),v=p.LINE_SPACING,b=p.FROM_TL,w=p.FROM_BR,_=e(939).cn;function D(Z){var $=Z._fullLayout,ie=$._infolayer.selectAll("g."+_.colorbar).data(B(Z),function(N){return N._id});ie.enter().append("g").attr("class",function(N){return N._id}).classed(_.colorbar,!0),ie.each(function(N){var F=o.select(this);l.ensureSingle(F,"rect",_.cbbg),l.ensureSingle(F,"g",_.cbfills),l.ensureSingle(F,"g",_.cblines),l.ensureSingle(F,"g",_.cbaxis,function(W){W.classed(_.crisp,!0)}),l.ensureSingle(F,"g",_.cbtitleunshift,function(W){W.append("g").classed(_.cbtitle,!0)}),l.ensureSingle(F,"rect",_.cboutline);var G=U(F,N,Z);G&&G.then&&(Z._promises||[]).push(G),Z._context.edits.colorbarPosition&&L(F,N,Z)}),ie.exit().each(function(N){s.autoMargin(Z,N._id)}).remove(),ie.order()}function B(Z){var $=Z._fullLayout,ie=Z.calcdata,N=[],F,G,W,X;function J(z){return t(z,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function ne(){typeof X.calc=="function"?X.calc(Z,W,F):(F._fillgradient=G.reversescale?T(G.colorscale):G.colorscale,F._zrange=[G[X.min],G[X.max]])}for(var fe=0;fe<ie.length;fe++){var ye=ie[fe];if(W=ye[0].trace,!!W._module){var Me=W._module.colorbar;if(W.visible===!0&&Me)for(var le=Array.isArray(Me),ve=le?Me:[Me],H=0;H<ve.length;H++){X=ve[H];var Y=X.container;G=Y?W[Y]:W,G&&G.showscale&&(F=J(G.colorbar),F._id="cb"+W.uid+(le&&Y?"-"+Y:""),F._traceIndex=W.index,F._propPrefix=(Y?Y+".":"")+"colorbar.",F._meta=W._meta,ne(),N.push(F))}}}for(var S in $._colorAxes)if(G=$[S],G.showscale){var E=$._colorAxes[S];F=J(G.colorbar),F._id="cb"+S,F._propPrefix=S+".colorbar.",F._meta=$._meta,X={min:"cmin",max:"cmax"},E[0]!=="heatmap"&&(W=E[1],X.calc=W._module.colorbar.calc),ne(),N.push(F)}return N}function U(Z,$,ie){var N=$.orientation==="v",F=$.len,G=$.lenmode,W=$.thickness,X=$.thicknessmode,J=$.outlinewidth,ne=$.borderwidth,fe=$.bgcolor,ye=$.xanchor,Me=$.yanchor,le=$.xpad,ve=$.ypad,H=$.x,Y=N?$.y:1-$.y,S=$.yref==="paper",E=$.xref==="paper",z=ie._fullLayout,C=z._size,K=$._fillcolor,P=$._line,j=$.title,ae=j.side,ue=$._zrange||o.extent((typeof K=="function"?K:P.color).domain()),he=typeof P.color=="function"?P.color:function(){return P.color},Ae=typeof K=="function"?K:function(){return K},ke=$._levels,ce=O(ie,$,ue),me=ce.fill,pe=ce.line,Ee=Math.round(W*(X==="fraction"?N?C.w:C.h:1)),we=Ee/(N?C.w:C.h),xe=Math.round(F*(G==="fraction"?N?C.h:C.w:1)),Fe=xe/(N?C.h:C.w),Ke=E?C.w:ie._fullLayout.width,je=S?C.h:ie._fullLayout.height,Je=Math.round(N?H*Ke+le:Y*je+ve),ht={center:.5,right:1}[ye]||0,Tt={top:1,middle:.5}[Me]||0,gt=N?H-ht*we:Y-Tt*we,tt=N?Y-Tt*Fe:H-ht*Fe,Ct=Math.round(N?je*(1-tt):Ke*tt);$._lenFrac=Fe,$._thickFrac=we,$._uFrac=gt,$._vFrac=tt;var rt=$._axis=R(ie,$,ue);rt.position=we+(N?H+le/C.w:Y+ve/C.h);var Mt=["top","bottom"].indexOf(ae)!==-1;if(N&&Mt&&(rt.title.side=ae,rt.titlex=H+le/C.w,rt.titley=tt+(j.side==="top"?Fe-ve/C.h:ve/C.h)),!N&&!Mt&&(rt.title.side=ae,rt.titley=Y+ve/C.h,rt.titlex=tt+le/C.w),P.color&&$.tickmode==="auto"){rt.tickmode="linear",rt.tick0=ke.start;var Dt=ke.size,kt=l.constrain(xe/50,4,15)+1,At=(ue[1]-ue[0])/(($.nticks||kt)*Dt);if(At>1){var Le=Math.pow(10,Math.floor(Math.log(At)/Math.LN10));Dt*=Le*l.roundUp(At/Le,[2,5,10]),(Math.abs(ke.start)/ke.size+1e-6)%1<2e-6&&(rt.tick0=0)}rt.dtick=Dt}rt.domain=N?[tt+ve/C.h,tt+Fe-ve/C.h]:[tt+le/C.w,tt+Fe-le/C.w],rt.setScale(),Z.attr("transform",n(Math.round(C.l),Math.round(C.t)));var Te=Z.select("."+_.cbtitleunshift).attr("transform",n(-Math.round(C.l),-Math.round(C.t))),Pe=rt.ticklabelposition,Ce=rt.title.font.size,Oe=Z.select("."+_.cbaxis),oe,be=0,De=0;function Se($e,Ye){var it={propContainer:rt,propName:$._propPrefix+"title",traceIndex:$._traceIndex,_meta:$._meta,placeholder:z._dfltTitle.colorbar,containerGroup:Z.select("."+_.cbtitle)},wt=$e.charAt(0)==="h"?$e.substr(1):"h"+$e;Z.selectAll("."+wt+",."+wt+"-math-group").remove(),y.draw(ie,$e,t(it,Ye||{}))}function ze(){if(N&&Mt||!N&&!Mt){var $e,Ye;ae==="top"&&($e=le+C.l+Ke*H,Ye=ve+C.t+je*(1-tt-Fe)+3+Ce*.75),ae==="bottom"&&($e=le+C.l+Ke*H,Ye=ve+C.t+je*(1-tt)-3-Ce*.25),ae==="right"&&(Ye=ve+C.t+je*Y+3+Ce*.75,$e=le+C.l+Ke*tt),Se(rt._id+"title",{attributes:{x:$e,y:Ye,"text-anchor":N?"start":"middle"}})}}function _e(){if(N&&!Mt||!N&&Mt){var $e=rt.position||0,Ye=rt._offset+rt._length/2,it,wt;if(ae==="right")wt=Ye,it=C.l+Ke*$e+10+Ce*(rt.showticklabels?1:.5);else if(it=Ye,ae==="bottom"&&(wt=C.t+je*$e+10+(Pe.indexOf("inside")===-1?rt.tickfont.size:0)+(rt.ticks!=="intside"&&$.ticklen||0)),ae==="top"){var Rt=j.text.split("<br>").length;wt=C.t+je*$e+10-Ee-v*Ce*Rt}Se((N?"h":"v")+rt._id+"title",{avoid:{selection:o.select(ie).selectAll("g."+rt._id+"tick"),side:ae,offsetTop:N?0:C.t,offsetLeft:N?C.l:0,maxShift:N?z.width:z.height},attributes:{x:it,y:wt,"text-anchor":"middle"},transform:{rotate:N?-90:0,offset:0}})}}function ct(){if(!N&&!Mt||N&&Mt){var $e=Z.select("."+_.cbtitle),Ye=$e.select("text"),it=[-J/2,J/2],wt=$e.select(".h"+rt._id+"title-math-group").node(),Rt=15.6;Ye.node()&&(Rt=parseInt(Ye.node().style.fontSize,10)*v);var Ht;if(wt?(Ht=h.bBox(wt),De=Ht.width,be=Ht.height,be>Rt&&(it[1]-=(be-Rt)/2)):Ye.node()&&!Ye.classed(_.jsPlaceholder)&&(Ht=h.bBox(Ye.node()),De=Ht.width,be=Ht.height),N){if(be){if(be+=5,ae==="top")rt.domain[1]-=be/C.h,it[1]*=-1;else{rt.domain[0]+=be/C.h;var Vt=d.lineCount(Ye);it[1]+=(1-Vt)*Rt}$e.attr("transform",n(it[0],it[1])),rt.setScale()}}else De&&(ae==="right"&&(rt.domain[0]+=(De+Ce/2)/C.w),$e.attr("transform",n(it[0],it[1])),rt.setScale())}Z.selectAll("."+_.cbfills+",."+_.cblines).attr("transform",N?n(0,Math.round(C.h*(1-rt.domain[1]))):n(Math.round(C.w*rt.domain[0]),0)),Oe.attr("transform",N?n(0,Math.round(-C.t)):n(Math.round(-C.l),0));var Ut=Z.select("."+_.cbfills).selectAll("rect."+_.cbfill).attr("style","").data(me);Ut.enter().append("rect").classed(_.cbfill,!0).attr("style",""),Ut.exit().remove();var St=ue.map(rt.c2p).map(Math.round).sort(function(Bt,xt){return Bt-xt});Ut.each(function(Bt,xt){var _t=[xt===0?ue[0]:(me[xt]+me[xt-1])/2,xt===me.length-1?ue[1]:(me[xt]+me[xt+1])/2].map(rt.c2p).map(Math.round);N&&(_t[1]=l.constrain(_t[1]+(_t[1]>_t[0])?1:-1,St[0],St[1]));var Nt=o.select(this).attr(N?"x":"y",Je).attr(N?"y":"x",o.min(_t)).attr(N?"width":"height",Math.max(Ee,2)).attr(N?"height":"width",Math.max(o.max(_t)-o.min(_t),2));if($._fillgradient)h.gradient(Nt,ie,$._id,N?"vertical":"horizontalreversed",$._fillgradient,"fill");else{var Jt=Ae(Bt).replace("e-","");Nt.attr("fill",g(Jt).toHexString())}});var Gt=Z.select("."+_.cblines).selectAll("path."+_.cbline).data(P.color&&P.width?pe:[]);Gt.enter().append("path").classed(_.cbline,!0),Gt.exit().remove(),Gt.each(function(Bt){var xt=Je,_t=Math.round(rt.c2p(Bt))+P.width/2%1;o.select(this).attr("d","M"+(N?xt+","+_t:_t+","+xt)+(N?"h":"v")+Ee).call(h.lineGroupStyle,P.width,he(Bt),P.dash)}),Oe.selectAll("g."+rt._id+"tick,path").remove();var Ot=Je+Ee+(J||0)/2-($.ticks==="outside"?1:0),It=r.calcTicks(rt),Qt=r.getTickSigns(rt)[2];return r.drawTicks(ie,rt,{vals:rt.ticks==="inside"?r.clipEnds(rt,It):It,layer:Oe,path:r.makeTickPath(rt,Ot,Qt),transFn:r.makeTransTickFn(rt)}),r.drawLabels(ie,rt,{vals:It,layer:Oe,transFn:r.makeTransTickLabelFn(rt),labelFns:r.makeLabelFns(rt,Ot)})}function ot(){var $e,Ye=Ee+J/2;Pe.indexOf("inside")===-1&&($e=h.bBox(Oe.node()),Ye+=N?$e.width:$e.height),oe=Te.select("text");var it=0,wt=N&&ae==="top",Rt=!N&&ae==="right",Ht=0;if(oe.node()&&!oe.classed(_.jsPlaceholder)){var Vt,Ut=Te.select(".h"+rt._id+"title-math-group").node();Ut&&(N&&Mt||!N&&!Mt)?($e=h.bBox(Ut),it=$e.width,Vt=$e.height):($e=h.bBox(Te.node()),it=$e.right-C.l-(N?Je:Ct),Vt=$e.bottom-C.t-(N?Ct:Je),!N&&ae==="top"&&(Ye+=$e.height,Ht=$e.height)),Rt&&(oe.attr("transform",n(it/2+Ce/2,0)),it*=2),Ye=Math.max(Ye,N?it:Vt)}var St=(N?le:ve)*2+Ye+ne+J/2,Gt=0;!N&&j.text&&Me==="bottom"&&Y<=0&&(Gt=St/2,St+=Gt,Ht+=Gt),z._hColorbarMoveTitle=Gt,z._hColorbarMoveCBTitle=Ht;var Ot=ne+J,It=(N?Je:Ct)-Ot/2-(N?le:0),Qt=(N?Ct:Je)-(N?xe:ve+Ht-Gt);Z.select("."+_.cbbg).attr("x",It).attr("y",Qt).attr(N?"width":"height",Math.max(St-Gt,2)).attr(N?"height":"width",Math.max(xe+Ot,2)).call(m.fill,fe).call(m.stroke,$.bordercolor).style("stroke-width",ne);var Bt=Rt?Math.max(it-10,0):0;Z.selectAll("."+_.cboutline).attr("x",(N?Je:Ct+le)+Bt).attr("y",(N?Ct+ve-xe:Je)+(wt?be:0)).attr(N?"width":"height",Math.max(Ee,2)).attr(N?"height":"width",Math.max(xe-(N?2*ve+be:2*le+Bt),2)).call(m.stroke,$.outlinecolor).style({fill:"none","stroke-width":J});var xt=N?ht*St:0,_t=N?0:(1-Tt)*St-Ht;if(xt=E?C.l-xt:-xt,_t=S?C.t-_t:-_t,Z.attr("transform",n(xt,_t)),!N&&(ne||g(fe).getAlpha()&&!g.equals(z.paper_bgcolor,fe))){var Nt=Oe.selectAll("text"),Jt=Nt[0].length,rr=Z.select("."+_.cbbg).node(),lr=h.bBox(rr),Yt=h.getTranslate(Z),re=2;Nt.each(function(at,st){var nt=0,pt=Jt-1;if(st===nt||st===pt){var dt=h.bBox(this),ut=h.getTranslate(this),Pt;if(st===pt){var Lt=dt.right+ut.x,$t=lr.right+Yt.x+Ct-ne-re+H;Pt=$t-Lt,Pt>0&&(Pt=0)}else if(st===nt){var Et=dt.left+ut.x,ar=lr.left+Yt.x+Ct+ne+re;Pt=ar-Et,Pt<0&&(Pt=0)}Pt&&(Jt<3?this.setAttribute("transform","translate("+Pt+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var q={},He=b[ye],Ie=w[ye],Ue=b[Me],Ve=w[Me],Xe=St-Ee;N?(G==="pixels"?(q.y=Y,q.t=xe*Ue,q.b=xe*Ve):(q.t=q.b=0,q.yt=Y+F*Ue,q.yb=Y-F*Ve),X==="pixels"?(q.x=H,q.l=St*He,q.r=St*Ie):(q.l=Xe*He,q.r=Xe*Ie,q.xl=H-W*He,q.xr=H+W*Ie)):(G==="pixels"?(q.x=H,q.l=xe*He,q.r=xe*Ie):(q.l=q.r=0,q.xl=H+F*He,q.xr=H-F*Ie),X==="pixels"?(q.y=1-Y,q.t=St*Ue,q.b=St*Ve):(q.t=Xe*Ue,q.b=Xe*Ve,q.yt=Y-W*Ue,q.yb=Y+W*Ve));var Ge=$.y<.5?"b":"t",Be=$.x<.5?"l":"r";ie._fullLayout._reservedMargin[$._id]={};var qe={r:z.width-It-xt,l:It+q.r,b:z.height-Qt-_t,t:Qt+q.b};E&&S?s.autoMargin(ie,$._id,q):E?ie._fullLayout._reservedMargin[$._id][Ge]=qe[Ge]:S||N?ie._fullLayout._reservedMargin[$._id][Be]=qe[Be]:ie._fullLayout._reservedMargin[$._id][Ge]=qe[Ge]}return l.syncOrAsync([s.previousPromises,ze,ct,_e,s.previousPromises,ot],ie)}function L(Z,$,ie){var N=$.orientation==="v",F=ie._fullLayout,G=F._size,W,X,J;f.init({element:Z.node(),gd:ie,prepFn:function(){W=Z.attr("transform"),u(Z)},moveFn:function(ne,fe){Z.attr("transform",W+n(ne,fe)),X=f.align((N?$._uFrac:$._vFrac)+ne/G.w,N?$._thickFrac:$._lenFrac,0,1,$.xanchor),J=f.align((N?$._vFrac:1-$._uFrac)-fe/G.h,N?$._lenFrac:$._thickFrac,0,1,$.yanchor);var ye=f.getCursor(X,J,$.xanchor,$.yanchor);u(Z,ye)},doneFn:function(){if(u(Z),X!==void 0&&J!==void 0){var ne={};ne[$._propPrefix+"x"]=X,ne[$._propPrefix+"y"]=J,$._traceIndex!==void 0?i.call("_guiRestyle",ie,ne,$._traceIndex):i.call("_guiRelayout",ie,ne)}}})}function O(Z,$,ie){var N=$._levels,F=[],G=[],W,X,J=N.end+N.size/100,ne=N.size,fe=1.001*ie[0]-.001*ie[1],ye=1.001*ie[1]-.001*ie[0];for(X=0;X<1e5&&(W=N.start+X*ne,!(ne>0?W>=J:W<=J));X++)W>fe&&W<ye&&F.push(W);if($._fillgradient)G=[0];else if(typeof $._fillcolor=="function"){var Me=$._filllevels;if(Me)for(J=Me.end+Me.size/100,ne=Me.size,X=0;X<1e5&&(W=Me.start+X*ne,!(ne>0?W>=J:W<=J));X++)W>ie[0]&&W<ie[1]&&G.push(W);else G=F.map(function(le){return le-N.size/2}),G.push(G[G.length-1]+N.size)}else $._fillcolor&&typeof $._fillcolor=="string"&&(G=[0]);return N.size<0&&(F.reverse(),G.reverse()),{line:F,fill:G}}function R(Z,$,ie){var N=Z._fullLayout,F=$.orientation==="v",G={type:"linear",range:ie,tickmode:$.tickmode,nticks:$.nticks,tick0:$.tick0,dtick:$.dtick,tickvals:$.tickvals,ticktext:$.ticktext,ticks:$.ticks,ticklen:$.ticklen,tickwidth:$.tickwidth,tickcolor:$.tickcolor,showticklabels:$.showticklabels,labelalias:$.labelalias,ticklabelposition:$.ticklabelposition,ticklabeloverflow:$.ticklabeloverflow,ticklabelstep:$.ticklabelstep,tickfont:$.tickfont,tickangle:$.tickangle,tickformat:$.tickformat,exponentformat:$.exponentformat,minexponent:$.minexponent,separatethousands:$.separatethousands,showexponent:$.showexponent,showtickprefix:$.showtickprefix,tickprefix:$.tickprefix,showticksuffix:$.showticksuffix,ticksuffix:$.ticksuffix,title:$.title,showline:!0,anchor:"free",side:F?"right":"bottom",position:1},W=F?"y":"x",X={type:"linear",_id:W+$._id},J={letter:W,font:N.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:N.calendar};function ne(fe,ye){return l.coerce(G,X,c,fe,ye)}return x(G,X,ne,J,N),M(G,X,ne,J),X}te.exports={draw:D}},6228:function(te,I,e){var o=e(1828);te.exports=function(s){return o.isPlainObject(s.colorbar)}},2311:function(te,I,e){te.exports={moduleType:"component",name:"colorbar",attributes:e(3583),supplyDefaults:e(2499),draw:e(8981).draw,hasColorbar:e(6228)}},693:function(te,I,e){var o=e(3583),g=e(587).counter,s=e(8607),i=e(3282).scales;s(i),te.exports=function(f,l){f=f||"",l=l||{};var n=l.cLetter||"c";"onlyIfNumerical"in l&&l.onlyIfNumerical;var t="noScale"in l?l.noScale:f==="marker.line",u="showScaleDflt"in l?l.showScaleDflt:n==="z",h=typeof l.colorscaleDflt=="string"?i[l.colorscaleDflt]:null,m=l.editTypeOverride||"",y;"colorAttr"in l?(y=l.colorAttr,l.colorAttr):y={z:"z",c:"color"}[n];var d=n+"auto",T=n+"min",x=n+"max",M=n+"mid",c={};c[T]=c[x]=void 0;var p={};p[d]=!1;var v={};return y==="color"&&(v.color={valType:"color",arrayOk:!0,editType:m||"style"},l.anim&&(v.color.anim=!0)),v[d]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:c},v[T]={valType:"number",dflt:null,editType:m||"plot",impliedEdits:p},v[x]={valType:"number",dflt:null,editType:m||"plot",impliedEdits:p},v[M]={valType:"number",dflt:null,editType:"calc",impliedEdits:c},v.colorscale={valType:"colorscale",editType:"calc",dflt:h,impliedEdits:{autocolorscale:!1}},v.autocolorscale={valType:"boolean",dflt:l.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},v.reversescale={valType:"boolean",dflt:!1,editType:"plot"},t||(v.showscale={valType:"boolean",dflt:u,editType:"calc"},v.colorbar=o),l.noColorAxis||(v.coloraxis={valType:"subplotid",regex:g("coloraxis"),dflt:null,editType:"calc"}),v}},8803:function(te,I,e){var o=e(2770),g=e(1828),s=e(2869).extractOpts;te.exports=function(r,f,l){var n=r._fullLayout,t=l.vals,u=l.containerStr,h=u?g.nestedProperty(f,u).get():f,m=s(h),y=m.auto!==!1,d=m.min,T=m.max,x=m.mid,M=function(){return g.aggNums(Math.min,null,t)},c=function(){return g.aggNums(Math.max,null,t)};if(d===void 0?d=M():y&&(h._colorAx&&o(d)?d=Math.min(d,M()):d=M()),T===void 0?T=c():y&&(h._colorAx&&o(T)?T=Math.max(T,c()):T=c()),y&&x!==void 0&&(T-x>x-d?d=x-(T-x):T-x<x-d&&(T=x+(x-d))),d===T&&(d-=.5,T+=.5),m._sync("min",d),m._sync("max",T),m.autocolorscale){var p;d*T<0?p=n.colorscale.diverging:d>=0?p=n.colorscale.sequential:p=n.colorscale.sequentialminus,m._sync("colorscale",p)}}},3046:function(te,I,e){var o=e(1828),g=e(2869).hasColorscale,s=e(2869).extractOpts;te.exports=function(r,f){function l(d,T){var x=d["_"+T];x!==void 0&&(d[T]=x)}function n(d,T){var x=T.container?o.nestedProperty(d,T.container).get():d;if(x)if(x.coloraxis)x._colorAx=f[x.coloraxis];else{var M=s(x),c=M.auto;(c||M.min===void 0)&&l(x,T.min),(c||M.max===void 0)&&l(x,T.max),M.autocolorscale&&l(x,"colorscale")}}for(var t=0;t<r.length;t++){var u=r[t],h=u._module.colorbar;if(h)if(Array.isArray(h))for(var m=0;m<h.length;m++)n(u,h[m]);else n(u,h);g(u,"marker.line")&&n(u,{container:"marker.line",min:"cmin",max:"cmax"})}for(var y in f._colorAxes)n(f[y],{min:"cmin",max:"cmax"})}},1586:function(te,I,e){var o=e(2770),g=e(1828),s=e(6228),i=e(2499),r=e(3282).isValid,f=e(3972).traceIs;function l(n,t){var u=t.slice(0,t.length-1);return t?g.nestedProperty(n,u).get()||{}:n}te.exports=function n(t,u,h,m,y){var d=y.prefix,T=y.cLetter,x="_module"in u,M=l(t,d),c=l(u,d),p=l(u._template||{},d)||{},v=function(){return delete t.coloraxis,delete u.coloraxis,n(t,u,h,m,y)};if(x){var b=h._colorAxes||{},w=m(d+"coloraxis");if(w){var _=f(u,"contour")&&g.nestedProperty(u,"contours.coloring").get()||"heatmap",D=b[w];D?(D[2].push(v),D[0]!==_&&(D[0]=!1,g.warn(["Ignoring coloraxis:",w,"setting","as it is linked to incompatible colorscales."].join(" ")))):b[w]=[_,u,[v]];return}}var B=M[T+"min"],U=M[T+"max"],L=o(B)&&o(U)&&B<U,O=m(d+T+"auto",!L);O?m(d+T+"mid"):(m(d+T+"min"),m(d+T+"max"));var R=M.colorscale,Z=p.colorscale,$;if(R!==void 0&&($=!r(R)),Z!==void 0&&($=!r(Z)),m(d+"autocolorscale",$),m(d+"colorscale"),m(d+"reversescale"),d!=="marker.line."){var ie;d&&x&&(ie=s(M));var N=m(d+"showscale",ie);N&&(d&&p&&(c._template=p),i(M,c,h))}}},2869:function(te,I,e){var o=e(9898),g=e(4267),s=e(2770),i=e(1828),r=e(7901),f=e(3282).isValid;function l(x,M,c){var p=M?i.nestedProperty(x,M).get()||{}:x,v=p[c||"color"],b=!1;if(i.isArrayOrTypedArray(v)){for(var w=0;w<v.length;w++)if(s(v[w])){b=!0;break}}return i.isPlainObject(p)&&(b||p.showscale===!0||s(p.cmin)&&s(p.cmax)||f(p.colorscale)||i.isPlainObject(p.colorbar))}var n=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function u(x){var M=x._colorAx,c=M||x,p={},v,b,w;for(b=0;b<n.length;b++)w=n[b],p[w]=c[w];if(M)for(v="c",b=0;b<t.length;b++)w=t[b],p[w]=c["c"+w];else{var _;for(b=0;b<t.length;b++){if(w=t[b],_="c"+w,_ in c){p[w]=c[_];continue}_="z"+w,_ in c&&(p[w]=c[_])}v=_.charAt(0)}return p._sync=function(D,B){var U=t.indexOf(D)!==-1?v+D:D;c[U]=c["_"+U]=B},p}function h(x){for(var M=u(x),c=M.min,p=M.max,v=M.reversescale?m(M.colorscale):M.colorscale,b=v.length,w=new Array(b),_=new Array(b),D=0;D<b;D++){var B=v[D];w[D]=c+B[0]*(p-c),_[D]=B[1]}return{domain:w,range:_}}function m(x){for(var M=x.length,c=new Array(M),p=M-1,v=0;p>=0;p--,v++){var b=x[p];c[v]=[1-b[0],b[1]]}return c}function y(x,M){M=M||{};for(var c=x.domain,p=x.range,v=p.length,b=new Array(v),w=0;w<v;w++){var _=g(p[w]).toRgb();b[w]=[_.r,_.g,_.b,_.a]}var D=o.scale.linear().domain(c).range(b).clamp(!0),B=M.noNumericCheck,U=M.returnArray,L;return B&&U?L=D:B?L=function(O){return T(D(O))}:U?L=function(O){return s(O)?D(O):g(O).isValid()?O:r.defaultLine}:L=function(O){return s(O)?T(D(O)):g(O).isValid()?O:r.defaultLine},L.domain=D.domain,L.range=function(){return p},L}function d(x,M){return y(h(x),M)}function T(x){var M={r:x[0],g:x[1],b:x[2],a:x[3]};return g(M).toRgbString()}te.exports={hasColorscale:l,extractOpts:u,extractScale:h,flipScale:m,makeColorScaleFunc:y,makeColorScaleFuncFromTrace:d}},1081:function(te,I,e){var o=e(3282),g=e(2869);te.exports={moduleType:"component",name:"colorscale",attributes:e(693),layoutAttributes:e(2673),supplyLayoutDefaults:e(959),handleDefaults:e(1586),crossTraceDefaults:e(3046),calc:e(8803),scales:o.scales,defaultScale:o.defaultScale,getScale:o.get,isValidScale:o.isValid,hasColorscale:g.hasColorscale,extractOpts:g.extractOpts,extractScale:g.extractScale,flipScale:g.flipScale,makeColorScaleFunc:g.makeColorScaleFunc,makeColorScaleFuncFromTrace:g.makeColorScaleFuncFromTrace}},2673:function(te,I,e){var o=e(1426).extendFlat,g=e(693),s=e(3282).scales;te.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:s.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:s.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:s.RdBu,editType:"calc"}},coloraxis:o({_isSubplotObj:!0,editType:"calc"},g("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},959:function(te,I,e){var o=e(1828),g=e(4467),s=e(2673),i=e(1586);te.exports=function(f,l){function n(x,M){return o.coerce(f,l,s,x,M)}n("colorscale.sequential"),n("colorscale.sequentialminus"),n("colorscale.diverging");var t=l._colorAxes,u,h;function m(x,M){return o.coerce(u,h,s.coloraxis,x,M)}for(var y in t){var d=t[y];if(d[0])u=f[y]||{},h=g.newContainer(l,y,"coloraxis"),h._name=y,i(u,h,l,m,{prefix:"",cLetter:"c"});else{for(var T=0;T<d[2].length;T++)d[2][T]();delete l._colorAxes[y]}}}},3282:function(te,I,e){var o=e(4267),g={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},s=g.RdBu;function i(l,n){if(n||(n=s),!l)return n;function t(){try{l=g[l]||JSON.parse(l)}catch{l=n}}return typeof l=="string"&&(t(),typeof l=="string"&&t()),r(l)?l:n}function r(l){var n=0;if(!Array.isArray(l)||l.length<2||!l[0]||!l[l.length-1]||+l[0][0]!=0||+l[l.length-1][0]!=1)return!1;for(var t=0;t<l.length;t++){var u=l[t];if(u.length!==2||+u[0]<n||!o(u[1]).isValid())return!1;n=+u[0]}return!0}function f(l){return g[l]!==void 0?!0:r(l)}te.exports={scales:g,defaultScale:s,get:i,isValid:f}},2807:function(te){te.exports=function(e,o,g,s,i){var r=(e-g)/(s-g),f=r+o/(s-g),l=(r+f)/2;return i==="left"||i==="bottom"?r:i==="center"||i==="middle"?l:i==="right"||i==="top"?f:r<.6666666666666666-l?r:f>1.3333333333333333-l?f:l}},461:function(te,I,e){var o=e(1828),g=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];te.exports=function(i,r,f,l){return f==="left"?i=0:f==="center"?i=1:f==="right"?i=2:i=o.constrain(Math.floor(i*3),0,2),l==="bottom"?r=0:l==="middle"?r=1:l==="top"?r=2:r=o.constrain(Math.floor(r*3),0,2),g[r][i]}},4505:function(te,I){I.selectMode=function(e){return e==="lasso"||e==="select"},I.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},I.openMode=function(e){return e==="drawline"||e==="drawopenpath"},I.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},I.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},I.selectingOrDrawing=function(e){return I.freeMode(e)||I.rectMode(e)}},8569:function(te,I,e){var o=e(8956),g=e(7035),s=e(8520),i=e(1828).removeElement,r=e(5555),f=te.exports={};f.align=e(2807),f.getCursor=e(461);var l=e(6041);f.unhover=l.wrapped,f.unhoverRaw=l.raw,f.init=function(h){var m=h.gd,y=1,d=m._context.doubleClickDelay,T=h.element,x,M,c,p,v,b,w,_;m._mouseDownTime||(m._mouseDownTime=0),T.style.pointerEvents="all",T.onmousedown=U,s?(T._ontouchstart&&T.removeEventListener("touchstart",T._ontouchstart),T._ontouchstart=U,T.addEventListener("touchstart",U,{passive:!1})):T.ontouchstart=U;function D(R,Z,$){return Math.abs(R)<$&&(R=0),Math.abs(Z)<$&&(Z=0),[R,Z]}var B=h.clampFn||D;function U(R){m._dragged=!1,m._dragging=!0;var Z=t(R);x=Z[0],M=Z[1],w=R.target,b=R,_=R.buttons===2||R.ctrlKey,typeof R.clientX>"u"&&typeof R.clientY>"u"&&(R.clientX=x,R.clientY=M),c=new Date().getTime(),c-m._mouseDownTime<d?y+=1:(y=1,m._mouseDownTime=c),h.prepFn&&h.prepFn(R,x,M),g&&!_?(v=n(),v.style.cursor=window.getComputedStyle(T).cursor):g||(v=document,p=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(T).cursor),document.addEventListener("mouseup",O),document.addEventListener("touchend",O),h.dragmode!==!1&&(R.preventDefault(),document.addEventListener("mousemove",L),document.addEventListener("touchmove",L,{passive:!1}))}function L(R){R.preventDefault();var Z=t(R),$=h.minDrag||r.MINDRAG,ie=B(Z[0]-x,Z[1]-M,$),N=ie[0],F=ie[1];(N||F)&&(m._dragged=!0,f.unhover(m,R)),m._dragged&&h.moveFn&&!_&&(m._dragdata={element:T,dx:N,dy:F},h.moveFn(N,F))}function O(R){if(delete m._dragdata,h.dragmode!==!1&&(R.preventDefault(),document.removeEventListener("mousemove",L),document.removeEventListener("touchmove",L)),document.removeEventListener("mouseup",O),document.removeEventListener("touchend",O),g?i(v):p&&(v.documentElement.style.cursor=p,p=null),!m._dragging){m._dragged=!1;return}if(m._dragging=!1,new Date().getTime()-m._mouseDownTime>d&&(y=Math.max(y-1,1)),m._dragged)h.doneFn&&h.doneFn();else if(h.clickFn&&h.clickFn(y,b),!_){var Z;try{Z=new MouseEvent("click",R)}catch{var $=t(R);Z=document.createEvent("MouseEvents"),Z.initMouseEvent("click",R.bubbles,R.cancelable,R.view,R.detail,R.screenX,R.screenY,$[0],$[1],R.ctrlKey,R.altKey,R.shiftKey,R.metaKey,R.button,R.relatedTarget)}w.dispatchEvent(Z)}m._dragging=!1,m._dragged=!1}};function n(){var u=document.createElement("div");u.className="dragcover";var h=u.style;return h.position="fixed",h.left=0,h.right=0,h.top=0,h.bottom=0,h.zIndex=999999999,h.background="none",document.body.appendChild(u),u}f.coverSlip=n;function t(u){return o(u.changedTouches?u.changedTouches[0]:u,document.body)}},6041:function(te,I,e){var o=e(1086),g=e(9990),s=e(4401).getGraphDiv,i=e(6675),r=te.exports={};r.wrapped=function(f,l,n){f=s(f),f._fullLayout&&g.clear(f._fullLayout._uid+i.HOVERID),r.raw(f,l,n)},r.raw=function(l,n){var t=l._fullLayout,u=l._hoverdata;n||(n={}),!(n.target&&!l._dragged&&o.triggerHandler(l,"plotly_beforehover",n)===!1)&&(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),l._hoverdata=void 0,n.target&&u&&l.emit("plotly_unhover",{event:n,points:u}))}},9952:function(te,I){I.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},I.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},1424:function(te,I,e){var o=e(9898),g=e(1828),s=g.numberFormat,i=e(2770),r=e(4267),f=e(3972),l=e(7901),n=e(1081),t=g.strTranslate,u=e(3893),h=e(7922),m=e(8783),y=m.LINE_SPACING,d=e(7822).DESELECTDIM,T=e(4098),x=e(9984),M=e(3469).appendArrayPointValue,c=te.exports={};c.font=function(ce,me,pe,Ee){g.isPlainObject(me)&&(Ee=me.color,pe=me.size,me=me.family),me&&ce.style("font-family",me),pe+1&&ce.style("font-size",pe+"px"),Ee&&ce.call(l.fill,Ee)},c.setPosition=function(ce,me,pe){ce.attr("x",me).attr("y",pe)},c.setSize=function(ce,me,pe){ce.attr("width",me).attr("height",pe)},c.setRect=function(ce,me,pe,Ee,we){ce.call(c.setPosition,me,pe).call(c.setSize,Ee,we)},c.translatePoint=function(ce,me,pe,Ee){var we=pe.c2p(ce.x),xe=Ee.c2p(ce.y);if(i(we)&&i(xe)&&me.node())me.node().nodeName==="text"?me.attr("x",we).attr("y",xe):me.attr("transform",t(we,xe));else return!1;return!0},c.translatePoints=function(ce,me,pe){ce.each(function(Ee){var we=o.select(this);c.translatePoint(Ee,we,me,pe)})},c.hideOutsideRangePoint=function(ce,me,pe,Ee,we,xe){me.attr("display",pe.isPtWithinRange(ce,we)&&Ee.isPtWithinRange(ce,xe)?null:"none")},c.hideOutsideRangePoints=function(ce,me){if(me._hasClipOnAxisFalse){var pe=me.xaxis,Ee=me.yaxis;ce.each(function(we){var xe=we[0].trace,Fe=xe.xcalendar,Ke=xe.ycalendar,je=f.traceIs(xe,"bar-like")?".bartext":".point,.textpoint";ce.selectAll(je).each(function(Je){c.hideOutsideRangePoint(Je,o.select(this),pe,Ee,Fe,Ke)})})}},c.crispRound=function(ce,me,pe){return!me||!i(me)?pe||0:ce._context.staticPlot?me:me<1?1:Math.round(me)},c.singleLineStyle=function(ce,me,pe,Ee,we){me.style("fill","none");var xe=(((ce||[])[0]||{}).trace||{}).line||{},Fe=pe||xe.width||0,Ke=we||xe.dash||"";l.stroke(me,Ee||xe.color),c.dashLine(me,Ke,Fe)},c.lineGroupStyle=function(ce,me,pe,Ee){ce.style("fill","none").each(function(we){var xe=(((we||[])[0]||{}).trace||{}).line||{},Fe=me||xe.width||0,Ke=Ee||xe.dash||"";o.select(this).call(l.stroke,pe||xe.color).call(c.dashLine,Ke,Fe)})},c.dashLine=function(ce,me,pe){pe=+pe||0,me=c.dashStyle(me,pe),ce.style({"stroke-dasharray":me,"stroke-width":pe+"px"})},c.dashStyle=function(ce,me){me=+me||1;var pe=Math.max(me,3);return ce==="solid"?ce="":ce==="dot"?ce=pe+"px,"+pe+"px":ce==="dash"?ce=3*pe+"px,"+3*pe+"px":ce==="longdash"?ce=5*pe+"px,"+5*pe+"px":ce==="dashdot"?ce=3*pe+"px,"+pe+"px,"+pe+"px,"+pe+"px":ce==="longdashdot"&&(ce=5*pe+"px,"+2*pe+"px,"+pe+"px,"+2*pe+"px"),ce};function p(ce,me,pe){var Ee=me.fillpattern,we=Ee&&c.getPatternAttr(Ee.shape,0,"");if(we){var xe=c.getPatternAttr(Ee.bgcolor,0,null),Fe=c.getPatternAttr(Ee.fgcolor,0,null),Ke=Ee.fgopacity,je=c.getPatternAttr(Ee.size,0,8),Je=c.getPatternAttr(Ee.solidity,0,.3),ht=me.uid;c.pattern(ce,"point",pe,ht,we,je,Je,void 0,Ee.fillmode,xe,Fe,Ke)}else me.fillcolor&&ce.call(l.fill,me.fillcolor)}c.singleFillStyle=function(ce,me){var pe=o.select(ce.node()),Ee=pe.data(),we=((Ee[0]||[])[0]||{}).trace||{};p(ce,we,me)},c.fillGroupStyle=function(ce,me){ce.style("stroke-width",0).each(function(pe){var Ee=o.select(this);pe[0].trace&&p(Ee,pe[0].trace,me)})};var v=e(998);c.symbolNames=[],c.symbolFuncs=[],c.symbolBackOffs=[],c.symbolNeedLines={},c.symbolNoDot={},c.symbolNoFill={},c.symbolList=[],Object.keys(v).forEach(function(ce){var me=v[ce],pe=me.n;c.symbolList.push(pe,String(pe),ce,pe+100,String(pe+100),ce+"-open"),c.symbolNames[pe]=ce,c.symbolFuncs[pe]=me.f,c.symbolBackOffs[pe]=me.backoff||0,me.needLine&&(c.symbolNeedLines[pe]=!0),me.noDot?c.symbolNoDot[pe]=!0:c.symbolList.push(pe+200,String(pe+200),ce+"-dot",pe+300,String(pe+300),ce+"-open-dot"),me.noFill&&(c.symbolNoFill[pe]=!0)});var b=c.symbolNames.length,w="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";c.symbolNumber=function(ce){if(i(ce))ce=+ce;else if(typeof ce=="string"){var me=0;ce.indexOf("-open")>0&&(me=100,ce=ce.replace("-open","")),ce.indexOf("-dot")>0&&(me+=200,ce=ce.replace("-dot","")),ce=c.symbolNames.indexOf(ce),ce>=0&&(ce+=me)}return ce%100>=b||ce>=400?0:Math.floor(Math.max(ce,0))};function _(ce,me,pe,Ee){var we=ce%100;return c.symbolFuncs[we](me,pe,Ee)+(ce>=200?w:"")}var D={x1:1,x2:0,y1:0,y2:0},B={x1:0,x2:0,y1:1,y2:0},U=s("~f"),L={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:D},horizontalreversed:{node:"linearGradient",attrs:D,reversed:!0},vertical:{node:"linearGradient",attrs:B},verticalreversed:{node:"linearGradient",attrs:B,reversed:!0}};c.gradient=function(ce,me,pe,Ee,we,xe){for(var Fe=we.length,Ke=L[Ee],je=new Array(Fe),Je=0;Je<Fe;Je++)Ke.reversed?je[Fe-1-Je]=[U((1-we[Je][0])*100),we[Je][1]]:je[Je]=[U(we[Je][0]*100),we[Je][1]];var ht=me._fullLayout,Tt="g"+ht._uid+"-"+pe,gt=ht._defs.select(".gradients").selectAll("#"+Tt).data([Ee+je.join(";")],g.identity);gt.exit().remove(),gt.enter().append(Ke.node).each(function(){var tt=o.select(this);Ke.attrs&&tt.attr(Ke.attrs),tt.attr("id",Tt);var Ct=tt.selectAll("stop").data(je);Ct.exit().remove(),Ct.enter().append("stop"),Ct.each(function(rt){var Mt=r(rt[1]);o.select(this).attr({offset:rt[0]+"%","stop-color":l.tinyRGB(Mt),"stop-opacity":Mt.getAlpha()})})}),ce.style(xe,ve(Tt,me)).style(xe+"-opacity",null),ce.classed("gradient_filled",!0)},c.pattern=function(ce,me,pe,Ee,we,xe,Fe,Ke,je,Je,ht,Tt){var gt=me==="legend";Ke&&(je==="overlay"?(Je=Ke,ht=l.contrast(Je)):(Je=void 0,ht=Ke));var tt=pe._fullLayout,Ct="p"+tt._uid+"-"+Ee,rt,Mt,Dt=function(ze,_e,ct,ot,$e){return ot+($e-ot)*(ze-_e)/(ct-_e)},kt,At,Le,Te,Pe={},Ce=r(ht),Oe=l.tinyRGB(Ce),oe=Ce.getAlpha(),be=Tt*oe;switch(we){case"/":rt=xe*Math.sqrt(2),Mt=xe*Math.sqrt(2),kt="M-"+rt/4+","+Mt/4+"l"+rt/2+",-"+Mt/2+"M0,"+Mt+"L"+rt+",0M"+rt/4*3+","+Mt/4*5+"l"+rt/2+",-"+Mt/2,At=Fe*xe,Te="path",Pe={d:kt,opacity:be,stroke:Oe,"stroke-width":At+"px"};break;case"\\":rt=xe*Math.sqrt(2),Mt=xe*Math.sqrt(2),kt="M"+rt/4*3+",-"+Mt/4+"l"+rt/2+","+Mt/2+"M0,0L"+rt+","+Mt+"M-"+rt/4+","+Mt/4*3+"l"+rt/2+","+Mt/2,At=Fe*xe,Te="path",Pe={d:kt,opacity:be,stroke:Oe,"stroke-width":At+"px"};break;case"x":rt=xe*Math.sqrt(2),Mt=xe*Math.sqrt(2),kt="M-"+rt/4+","+Mt/4+"l"+rt/2+",-"+Mt/2+"M0,"+Mt+"L"+rt+",0M"+rt/4*3+","+Mt/4*5+"l"+rt/2+",-"+Mt/2+"M"+rt/4*3+",-"+Mt/4+"l"+rt/2+","+Mt/2+"M0,0L"+rt+","+Mt+"M-"+rt/4+","+Mt/4*3+"l"+rt/2+","+Mt/2,At=xe-xe*Math.sqrt(1-Fe),Te="path",Pe={d:kt,opacity:be,stroke:Oe,"stroke-width":At+"px"};break;case"|":rt=xe,Mt=xe,Te="path",kt="M"+rt/2+",0L"+rt/2+","+Mt,At=Fe*xe,Te="path",Pe={d:kt,opacity:be,stroke:Oe,"stroke-width":At+"px"};break;case"-":rt=xe,Mt=xe,Te="path",kt="M0,"+Mt/2+"L"+rt+","+Mt/2,At=Fe*xe,Te="path",Pe={d:kt,opacity:be,stroke:Oe,"stroke-width":At+"px"};break;case"+":rt=xe,Mt=xe,Te="path",kt="M"+rt/2+",0L"+rt/2+","+Mt+"M0,"+Mt/2+"L"+rt+","+Mt/2,At=xe-xe*Math.sqrt(1-Fe),Te="path",Pe={d:kt,opacity:be,stroke:Oe,"stroke-width":At+"px"};break;case".":rt=xe,Mt=xe,Fe<Math.PI/4?Le=Math.sqrt(Fe*xe*xe/Math.PI):Le=Dt(Fe,Math.PI/4,1,xe/2,xe/Math.sqrt(2)),Te="circle",Pe={cx:rt/2,cy:Mt/2,r:Le,opacity:be,fill:Oe};break}var De=[we||"noSh",Je||"noBg",ht||"noFg",xe,Fe].join(";"),Se=tt._defs.select(".patterns").selectAll("#"+Ct).data([De],g.identity);Se.exit().remove(),Se.enter().append("pattern").each(function(){var ze=o.select(this);if(ze.attr({id:Ct,width:rt+"px",height:Mt+"px",patternUnits:"userSpaceOnUse",patternTransform:gt?"scale(0.8)":""}),Je){var _e=r(Je),ct=l.tinyRGB(_e),ot=_e.getAlpha(),$e=ze.selectAll("rect").data([0]);$e.exit().remove(),$e.enter().append("rect").attr({width:rt+"px",height:Mt+"px",fill:ct,"fill-opacity":ot})}var Ye=ze.selectAll(Te).data([0]);Ye.exit().remove(),Ye.enter().append(Te).attr(Pe)}),ce.style("fill",ve(Ct,pe)).style("fill-opacity",null),ce.classed("pattern_filled",!0)},c.initGradients=function(ce){var me=ce._fullLayout,pe=g.ensureSingle(me._defs,"g","gradients");pe.selectAll("linearGradient,radialGradient").remove(),o.select(ce).selectAll(".gradient_filled").classed("gradient_filled",!1)},c.initPatterns=function(ce){var me=ce._fullLayout,pe=g.ensureSingle(me._defs,"g","patterns");pe.selectAll("pattern").remove(),o.select(ce).selectAll(".pattern_filled").classed("pattern_filled",!1)},c.getPatternAttr=function(ce,me,pe){return ce&&g.isArrayOrTypedArray(ce)?me<ce.length?ce[me]:pe:ce},c.pointStyle=function(ce,me,pe,Ee){if(ce.size()){var we=c.makePointStyleFns(me);ce.each(function(xe){c.singlePointStyle(xe,o.select(this),me,we,pe,Ee)})}},c.singlePointStyle=function(ce,me,pe,Ee,we,xe){var Fe=pe.marker,Ke=Fe.line;if(xe&&xe.i>=0&&ce.i===void 0&&(ce.i=xe.i),me.style("opacity",Ee.selectedOpacityFn?Ee.selectedOpacityFn(ce):ce.mo===void 0?Fe.opacity:ce.mo),Ee.ms2mrc){var je;ce.ms==="various"||Fe.size==="various"?je=3:je=Ee.ms2mrc(ce.ms),ce.mrc=je,Ee.selectedSizeFn&&(je=ce.mrc=Ee.selectedSizeFn(ce));var Je=c.symbolNumber(ce.mx||Fe.symbol)||0;ce.om=Je%200>=100;var ht=ke(ce,pe),Tt=S(ce,pe);me.attr("d",_(Je,je,ht,Tt))}var gt=!1,tt,Ct,rt;if(ce.so)rt=Ke.outlierwidth,Ct=Ke.outliercolor,tt=Fe.outliercolor;else{var Mt=(Ke||{}).width;rt=(ce.mlw+1||Mt+1||(ce.trace?(ce.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in ce?Ct=ce.mlcc=Ee.lineScale(ce.mlc):g.isArrayOrTypedArray(Ke.color)?Ct=l.defaultLine:Ct=Ke.color,g.isArrayOrTypedArray(Fe.color)&&(tt=l.defaultLine,gt=!0),"mc"in ce?tt=ce.mcc=Ee.markerScale(ce.mc):tt=Fe.color||Fe.colors||"rgba(0,0,0,0)",Ee.selectedColorFn&&(tt=Ee.selectedColorFn(ce))}if(ce.om)me.call(l.stroke,tt).style({"stroke-width":(rt||1)+"px",fill:"none"});else{me.style("stroke-width",(ce.isBlank?0:rt)+"px");var Dt=Fe.gradient,kt=ce.mgt;kt?gt=!0:kt=Dt&&Dt.type,g.isArrayOrTypedArray(kt)&&(kt=kt[0],L[kt]||(kt=0));var At=Fe.pattern,Le=At&&c.getPatternAttr(At.shape,ce.i,"");if(kt&&kt!=="none"){var Te=ce.mgc;Te?gt=!0:Te=Dt.color;var Pe=pe.uid;gt&&(Pe+="-"+ce.i),c.gradient(me,we,Pe,kt,[[0,Te],[1,tt]],"fill")}else if(Le){var Ce=!1,Oe=At.fgcolor;!Oe&&xe&&xe.color&&(Oe=xe.color,Ce=!0);var oe=c.getPatternAttr(Oe,ce.i,xe&&xe.color||null),be=c.getPatternAttr(At.bgcolor,ce.i,null),De=At.fgopacity,Se=c.getPatternAttr(At.size,ce.i,8),ze=c.getPatternAttr(At.solidity,ce.i,.3);Ce=Ce||ce.mcc||g.isArrayOrTypedArray(At.shape)||g.isArrayOrTypedArray(At.bgcolor)||g.isArrayOrTypedArray(At.fgcolor)||g.isArrayOrTypedArray(At.size)||g.isArrayOrTypedArray(At.solidity);var _e=pe.uid;Ce&&(_e+="-"+ce.i),c.pattern(me,"point",we,_e,Le,Se,ze,ce.mcc,At.fillmode,be,oe,De)}else g.isArrayOrTypedArray(tt)?l.fill(me,tt[ce.i]):l.fill(me,tt);rt&&l.stroke(me,Ct)}},c.makePointStyleFns=function(ce){var me={},pe=ce.marker;return me.markerScale=c.tryColorscale(pe,""),me.lineScale=c.tryColorscale(pe,"line"),f.traceIs(ce,"symbols")&&(me.ms2mrc=T.isBubble(ce)?x(ce):function(){return(pe.size||6)/2}),ce.selectedpoints&&g.extendFlat(me,c.makeSelectedPointStyleFns(ce)),me},c.makeSelectedPointStyleFns=function(ce){var me={},pe=ce.selected||{},Ee=ce.unselected||{},we=ce.marker||{},xe=pe.marker||{},Fe=Ee.marker||{},Ke=we.opacity,je=xe.opacity,Je=Fe.opacity,ht=je!==void 0,Tt=Je!==void 0;(g.isArrayOrTypedArray(Ke)||ht||Tt)&&(me.selectedOpacityFn=function(Le){var Te=Le.mo===void 0?we.opacity:Le.mo;return Le.selected?ht?je:Te:Tt?Je:d*Te});var gt=we.color,tt=xe.color,Ct=Fe.color;(tt||Ct)&&(me.selectedColorFn=function(Le){var Te=Le.mcc||gt;return Le.selected?tt||Te:Ct||Te});var rt=we.size,Mt=xe.size,Dt=Fe.size,kt=Mt!==void 0,At=Dt!==void 0;return f.traceIs(ce,"symbols")&&(kt||At)&&(me.selectedSizeFn=function(Le){var Te=Le.mrc||rt/2;return Le.selected?kt?Mt/2:Te:At?Dt/2:Te}),me},c.makeSelectedTextStyleFns=function(ce){var me={},pe=ce.selected||{},Ee=ce.unselected||{},we=ce.textfont||{},xe=pe.textfont||{},Fe=Ee.textfont||{},Ke=we.color,je=xe.color,Je=Fe.color;return me.selectedTextColorFn=function(ht){var Tt=ht.tc||Ke;return ht.selected?je||Tt:Je||(je?Tt:l.addOpacity(Tt,d))},me},c.selectedPointStyle=function(ce,me){if(!(!ce.size()||!me.selectedpoints)){var pe=c.makeSelectedPointStyleFns(me),Ee=me.marker||{},we=[];pe.selectedOpacityFn&&we.push(function(xe,Fe){xe.style("opacity",pe.selectedOpacityFn(Fe))}),pe.selectedColorFn&&we.push(function(xe,Fe){l.fill(xe,pe.selectedColorFn(Fe))}),pe.selectedSizeFn&&we.push(function(xe,Fe){var Ke=Fe.mx||Ee.symbol||0,je=pe.selectedSizeFn(Fe);xe.attr("d",_(c.symbolNumber(Ke),je,ke(Fe,me),S(Fe,me))),Fe.mrc2=je}),we.length&&ce.each(function(xe){for(var Fe=o.select(this),Ke=0;Ke<we.length;Ke++)we[Ke](Fe,xe)})}},c.tryColorscale=function(ce,me){var pe=me?g.nestedProperty(ce,me).get():ce;if(pe){var Ee=pe.color;if((pe.colorscale||pe._colorAx)&&g.isArrayOrTypedArray(Ee))return n.makeColorScaleFuncFromTrace(pe)}return g.identity};var O={start:1,end:-1,middle:0,bottom:1,top:-1};function R(ce,me,pe,Ee,we){var xe=o.select(ce.node().parentNode),Fe=me.indexOf("top")!==-1?"top":me.indexOf("bottom")!==-1?"bottom":"middle",Ke=me.indexOf("left")!==-1?"end":me.indexOf("right")!==-1?"start":"middle",je=Ee?Ee/.8+1:0,Je=(u.lineCount(ce)-1)*y+1,ht=O[Ke]*je,Tt=pe*.75+O[Fe]*je+(O[Fe]-1)*Je*pe/2;ce.attr("text-anchor",Ke),we||xe.attr("transform",t(ht,Tt))}function Z(ce,me){var pe=ce.ts||me.textfont.size;return i(pe)&&pe>0?pe:0}c.textPointStyle=function(ce,me,pe){if(ce.size()){var Ee;if(me.selectedpoints){var we=c.makeSelectedTextStyleFns(me);Ee=we.selectedTextColorFn}var xe=me.texttemplate,Fe=pe._fullLayout;ce.each(function(Ke){var je=o.select(this),Je=xe?g.extractOption(Ke,me,"txt","texttemplate"):g.extractOption(Ke,me,"tx","text");if(!Je&&Je!==0){je.remove();return}if(xe){var ht=me._module.formatLabels,Tt=ht?ht(Ke,me,Fe):{},gt={};M(gt,me,Ke.i);var tt=me._meta||{};Je=g.texttemplateString(Je,Tt,Fe._d3locale,gt,Ke,tt)}var Ct=Ke.tp||me.textposition,rt=Z(Ke,me),Mt=Ee?Ee(Ke):Ke.tc||me.textfont.color;je.call(c.font,Ke.tf||me.textfont.family,rt,Mt).text(Je).call(u.convertToTspans,pe).call(R,Ct,rt,Ke.mrc)})}},c.selectedTextStyle=function(ce,me){if(!(!ce.size()||!me.selectedpoints)){var pe=c.makeSelectedTextStyleFns(me);ce.each(function(Ee){var we=o.select(this),xe=pe.selectedTextColorFn(Ee),Fe=Ee.tp||me.textposition,Ke=Z(Ee,me);l.fill(we,xe);var je=f.traceIs(me,"bar-like");R(we,Fe,Ke,Ee.mrc2||Ee.mrc,je)})}};var $=.5;c.smoothopen=function(ce,me){if(ce.length<3)return"M"+ce.join("L");var pe="M"+ce[0],Ee=[],we;for(we=1;we<ce.length-1;we++)Ee.push(X(ce[we-1],ce[we],ce[we+1],me));for(pe+="Q"+Ee[0][0]+" "+ce[1],we=2;we<ce.length-1;we++)pe+="C"+Ee[we-2][1]+" "+Ee[we-1][0]+" "+ce[we];return pe+="Q"+Ee[ce.length-3][1]+" "+ce[ce.length-1],pe},c.smoothclosed=function(ce,me){if(ce.length<3)return"M"+ce.join("L")+"Z";var pe="M"+ce[0],Ee=ce.length-1,we=[X(ce[Ee],ce[0],ce[1],me)],xe;for(xe=1;xe<Ee;xe++)we.push(X(ce[xe-1],ce[xe],ce[xe+1],me));for(we.push(X(ce[Ee-1],ce[Ee],ce[0],me)),xe=1;xe<=Ee;xe++)pe+="C"+we[xe-1][1]+" "+we[xe][0]+" "+ce[xe];return pe+="C"+we[Ee][1]+" "+we[0][0]+" "+ce[0]+"Z",pe};var ie,N;function F(ce,me,pe){return pe&&(ce=fe(ce)),me?W(ce[1]):G(ce[0])}function G(ce){var me=o.round(ce,2);return ie=me,me}function W(ce){var me=o.round(ce,2);return N=me,me}function X(ce,me,pe,Ee){var we=ce[0]-me[0],xe=ce[1]-me[1],Fe=pe[0]-me[0],Ke=pe[1]-me[1],je=Math.pow(we*we+xe*xe,$/2),Je=Math.pow(Fe*Fe+Ke*Ke,$/2),ht=(Je*Je*we-je*je*Fe)*Ee,Tt=(Je*Je*xe-je*je*Ke)*Ee,gt=3*Je*(je+Je),tt=3*je*(je+Je);return[[G(me[0]+(gt&&ht/gt)),W(me[1]+(gt&&Tt/gt))],[G(me[0]-(tt&&ht/tt)),W(me[1]-(tt&&Tt/tt))]]}var J={hv:function(ce,me,pe){return"H"+G(me[0])+"V"+F(me,1,pe)},vh:function(ce,me,pe){return"V"+W(me[1])+"H"+F(me,0,pe)},hvh:function(ce,me,pe){return"H"+G((ce[0]+me[0])/2)+"V"+W(me[1])+"H"+F(me,0,pe)},vhv:function(ce,me,pe){return"V"+W((ce[1]+me[1])/2)+"H"+G(me[0])+"V"+F(me,1,pe)}},ne=function(ce,me,pe){return"L"+F(me,0,pe)+","+F(me,1,pe)};c.steps=function(ce){var me=J[ce]||ne;return function(pe){for(var Ee="M"+G(pe[0][0])+","+W(pe[0][1]),we=pe.length,xe=1;xe<we;xe++)Ee+=me(pe[xe-1],pe[xe],xe===we-1);return Ee}};function fe(ce,me){var pe=ce.backoff,Ee=ce.trace,we=ce.d,xe=ce.i;if(pe&&Ee&&Ee.marker&&Ee.marker.angle%360===0&&Ee.line&&Ee.line.shape!=="spline"){var Fe=g.isArrayOrTypedArray(pe),Ke=ce,je=me?me[0]:ie||0,Je=me?me[1]:N||0,ht=Ke[0],Tt=Ke[1],gt=ht-je,tt=Tt-Je,Ct=Math.atan2(tt,gt),rt=Fe?pe[xe]:pe;if(rt==="auto"){var Mt=Ke.i;Ee.type==="scatter"&&Mt--;var Dt=Ke.marker,kt=Dt.symbol;g.isArrayOrTypedArray(kt)&&(kt=kt[Mt]);var At=Dt.size;g.isArrayOrTypedArray(At)&&(At=At[Mt]),rt=Dt?c.symbolBackOffs[c.symbolNumber(kt)]*At:0,rt+=c.getMarkerStandoff(we[Mt],Ee)||0}var Le=ht-rt*Math.cos(Ct),Te=Tt-rt*Math.sin(Ct);(Le<=ht&&Le>=je||Le>=ht&&Le<=je)&&(Te<=Tt&&Te>=Je||Te>=Tt&&Te<=Je)&&(ce=[Le,Te])}return ce}c.applyBackoff=fe,c.makeTester=function(){var ce=g.ensureSingleById(o.select("body"),"svg","js-plotly-tester",function(pe){pe.attr(h.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),me=g.ensureSingle(ce,"path","js-reference-point",function(pe){pe.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});c.tester=ce,c.testref=me},c.savedBBoxes={};var ye=0,Me=1e4;c.bBox=function(ce,me,pe){pe||(pe=le(ce));var Ee;if(pe){if(Ee=c.savedBBoxes[pe],Ee)return g.extendFlat({},Ee)}else if(ce.childNodes.length===1){var we=ce.childNodes[0];if(pe=le(we),pe){var xe=+we.getAttribute("x")||0,Fe=+we.getAttribute("y")||0,Ke=we.getAttribute("transform");if(!Ke){var je=c.bBox(we,!1,pe);return xe&&(je.left+=xe,je.right+=xe),Fe&&(je.top+=Fe,je.bottom+=Fe),je}if(pe+="~"+xe+"~"+Fe+"~"+Ke,Ee=c.savedBBoxes[pe],Ee)return g.extendFlat({},Ee)}}var Je,ht;me?Je=ce:(ht=c.tester.node(),Je=ce.cloneNode(!0),ht.appendChild(Je)),o.select(Je).attr("transform",null).call(u.positionText,0,0);var Tt=Je.getBoundingClientRect(),gt=c.testref.node().getBoundingClientRect();me||ht.removeChild(Je);var tt={height:Tt.height,width:Tt.width,left:Tt.left-gt.left,top:Tt.top-gt.top,right:Tt.right-gt.left,bottom:Tt.bottom-gt.top};return ye>=Me&&(c.savedBBoxes={},ye=0),pe&&(c.savedBBoxes[pe]=tt),ye++,g.extendFlat({},tt)};function le(ce){var me=ce.getAttribute("data-unformatted");if(me!==null)return me+ce.getAttribute("data-math")+ce.getAttribute("text-anchor")+ce.getAttribute("style")}c.setClipUrl=function(ce,me,pe){ce.attr("clip-path",ve(me,pe))};function ve(ce,me){if(!ce)return null;var pe=me._context,Ee=pe._exportedPlot?"":pe._baseUrl||"";return Ee?"url('"+Ee+"#"+ce+"')":"url(#"+ce+")"}c.getTranslate=function(ce){var me=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,pe=ce.attr?"attr":"getAttribute",Ee=ce[pe]("transform")||"",we=Ee.replace(me,function(xe,Fe,Ke){return[Fe,Ke].join(" ")}).split(" ");return{x:+we[0]||0,y:+we[1]||0}},c.setTranslate=function(ce,me,pe){var Ee=/(\btranslate\(.*?\);?)/,we=ce.attr?"attr":"getAttribute",xe=ce.attr?"attr":"setAttribute",Fe=ce[we]("transform")||"";return me=me||0,pe=pe||0,Fe=Fe.replace(Ee,"").trim(),Fe+=t(me,pe),Fe=Fe.trim(),ce[xe]("transform",Fe),Fe},c.getScale=function(ce){var me=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,pe=ce.attr?"attr":"getAttribute",Ee=ce[pe]("transform")||"",we=Ee.replace(me,function(xe,Fe,Ke){return[Fe,Ke].join(" ")}).split(" ");return{x:+we[0]||1,y:+we[1]||1}},c.setScale=function(ce,me,pe){var Ee=/(\bscale\(.*?\);?)/,we=ce.attr?"attr":"getAttribute",xe=ce.attr?"attr":"setAttribute",Fe=ce[we]("transform")||"";return me=me||1,pe=pe||1,Fe=Fe.replace(Ee,"").trim(),Fe+="scale("+me+","+pe+")",Fe=Fe.trim(),ce[xe]("transform",Fe),Fe};var H=/\s*sc.*/;c.setPointGroupScale=function(ce,me,pe){if(me=me||1,pe=pe||1,!!ce){var Ee=me===1&&pe===1?"":"scale("+me+","+pe+")";ce.each(function(){var we=(this.getAttribute("transform")||"").replace(H,"");we+=Ee,we=we.trim(),this.setAttribute("transform",we)})}};var Y=/translate\([^)]*\)\s*$/;c.setTextPointsScale=function(ce,me,pe){ce&&ce.each(function(){var Ee,we=o.select(this),xe=we.select("text");if(xe.node()){var Fe=parseFloat(xe.attr("x")||0),Ke=parseFloat(xe.attr("y")||0),je=(we.attr("transform")||"").match(Y);me===1&&pe===1?Ee=[]:Ee=[t(Fe,Ke),"scale("+me+","+pe+")",t(-Fe,-Ke)],je&&Ee.push(je),we.attr("transform",Ee.join(""))}})};function S(ce,me){var pe;return ce&&(pe=ce.mf),pe===void 0&&(pe=me.marker&&me.marker.standoff||0),!me._geo&&!me._xA?-pe:pe}c.getMarkerStandoff=S;var E=Math.atan2,z=Math.cos,C=Math.sin;function K(ce,me){var pe=me[0],Ee=me[1];return[pe*z(ce)-Ee*C(ce),pe*C(ce)+Ee*z(ce)]}var P,j,ae,ue,he,Ae;function ke(ce,me){var pe=ce.ma;pe===void 0&&(pe=me.marker.angle||0);var Ee,we,xe=me.marker.angleref;if(xe==="previous"||xe==="north"){if(me._geo){var Fe=me._geo.project(ce.lonlat);Ee=Fe[0],we=Fe[1]}else{var Ke=me._xA,je=me._yA;if(Ke&&je)Ee=Ke.c2p(ce.x),we=je.c2p(ce.y);else return 90}if(me._geo){var Je=ce.lonlat[0],ht=ce.lonlat[1],Tt=me._geo.project([Je,ht+1e-5]),gt=me._geo.project([Je+1e-5,ht]),tt=E(gt[1]-we,gt[0]-Ee),Ct=E(Tt[1]-we,Tt[0]-Ee),rt;if(xe==="north")rt=pe/180*Math.PI;else if(xe==="previous"){var Mt=Je/180*Math.PI,Dt=ht/180*Math.PI,kt=P/180*Math.PI,At=j/180*Math.PI,Le=kt-Mt,Te=z(At)*C(Le),Pe=C(At)*z(Dt)-z(At)*C(Dt)*z(Le);rt=-E(Te,Pe)-Math.PI,P=Je,j=ht}var Ce=K(tt,[z(rt),0]),Oe=K(Ct,[C(rt),0]);pe=E(Ce[1]+Oe[1],Ce[0]+Oe[0])/Math.PI*180,xe==="previous"&&!(Ae===me.uid&&ce.i===he+1)&&(pe=null)}if(xe==="previous"&&!me._geo)if(Ae===me.uid&&ce.i===he+1&&i(Ee)&&i(we)){var oe=Ee-ae,be=we-ue,De=me.line&&me.line.shape||"",Se=De.slice(De.length-1);Se==="h"&&(be=0),Se==="v"&&(oe=0),pe+=E(be,oe)/Math.PI*180+90}else pe=null}return ae=Ee,ue=we,he=ce.i,Ae=me.uid,pe}c.getMarkerAngle=ke},998:function(te,I,e){var o=e(5616),g=e(9898).round,s="M0,0Z",i=Math.sqrt(2),r=Math.sqrt(3),f=Math.PI,l=Math.cos,n=Math.sin;te.exports={circle:{n:0,f:function(T,x,M){if(t(x))return s;var c=g(T,2),p="M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z";return M?d(x,M,p):p}},square:{n:1,f:function(T,x,M){if(t(x))return s;var c=g(T,2);return d(x,M,"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")}},diamond:{n:2,f:function(T,x,M){if(t(x))return s;var c=g(T*1.3,2);return d(x,M,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"Z")}},cross:{n:3,f:function(T,x,M){if(t(x))return s;var c=g(T*.4,2),p=g(T*1.2,2);return d(x,M,"M"+p+","+c+"H"+c+"V"+p+"H-"+c+"V"+c+"H-"+p+"V-"+c+"H-"+c+"V-"+p+"H"+c+"V-"+c+"H"+p+"Z")}},x:{n:4,f:function(T,x,M){if(t(x))return s;var c=g(T*.8/i,2),p="l"+c+","+c,v="l"+c+",-"+c,b="l-"+c+",-"+c,w="l-"+c+","+c;return d(x,M,"M0,"+c+p+v+b+v+b+w+b+w+p+w+p+"Z")}},"triangle-up":{n:5,f:function(T,x,M){if(t(x))return s;var c=g(T*2/r,2),p=g(T/2,2),v=g(T,2);return d(x,M,"M-"+c+","+p+"H"+c+"L0,-"+v+"Z")}},"triangle-down":{n:6,f:function(T,x,M){if(t(x))return s;var c=g(T*2/r,2),p=g(T/2,2),v=g(T,2);return d(x,M,"M-"+c+",-"+p+"H"+c+"L0,"+v+"Z")}},"triangle-left":{n:7,f:function(T,x,M){if(t(x))return s;var c=g(T*2/r,2),p=g(T/2,2),v=g(T,2);return d(x,M,"M"+p+",-"+c+"V"+c+"L-"+v+",0Z")}},"triangle-right":{n:8,f:function(T,x,M){if(t(x))return s;var c=g(T*2/r,2),p=g(T/2,2),v=g(T,2);return d(x,M,"M-"+p+",-"+c+"V"+c+"L"+v+",0Z")}},"triangle-ne":{n:9,f:function(T,x,M){if(t(x))return s;var c=g(T*.6,2),p=g(T*1.2,2);return d(x,M,"M-"+p+",-"+c+"H"+c+"V"+p+"Z")}},"triangle-se":{n:10,f:function(T,x,M){if(t(x))return s;var c=g(T*.6,2),p=g(T*1.2,2);return d(x,M,"M"+c+",-"+p+"V"+c+"H-"+p+"Z")}},"triangle-sw":{n:11,f:function(T,x,M){if(t(x))return s;var c=g(T*.6,2),p=g(T*1.2,2);return d(x,M,"M"+p+","+c+"H-"+c+"V-"+p+"Z")}},"triangle-nw":{n:12,f:function(T,x,M){if(t(x))return s;var c=g(T*.6,2),p=g(T*1.2,2);return d(x,M,"M-"+c+","+p+"V-"+c+"H"+p+"Z")}},pentagon:{n:13,f:function(T,x,M){if(t(x))return s;var c=g(T*.951,2),p=g(T*.588,2),v=g(-T,2),b=g(T*-.309,2),w=g(T*.809,2);return d(x,M,"M"+c+","+b+"L"+p+","+w+"H-"+p+"L-"+c+","+b+"L0,"+v+"Z")}},hexagon:{n:14,f:function(T,x,M){if(t(x))return s;var c=g(T,2),p=g(T/2,2),v=g(T*r/2,2);return d(x,M,"M"+v+",-"+p+"V"+p+"L0,"+c+"L-"+v+","+p+"V-"+p+"L0,-"+c+"Z")}},hexagon2:{n:15,f:function(T,x,M){if(t(x))return s;var c=g(T,2),p=g(T/2,2),v=g(T*r/2,2);return d(x,M,"M-"+p+","+v+"H"+p+"L"+c+",0L"+p+",-"+v+"H-"+p+"L-"+c+",0Z")}},octagon:{n:16,f:function(T,x,M){if(t(x))return s;var c=g(T*.924,2),p=g(T*.383,2);return d(x,M,"M-"+p+",-"+c+"H"+p+"L"+c+",-"+p+"V"+p+"L"+p+","+c+"H-"+p+"L-"+c+","+p+"V-"+p+"Z")}},star:{n:17,f:function(T,x,M){if(t(x))return s;var c=T*1.4,p=g(c*.225,2),v=g(c*.951,2),b=g(c*.363,2),w=g(c*.588,2),_=g(-c,2),D=g(c*-.309,2),B=g(c*.118,2),U=g(c*.809,2),L=g(c*.382,2);return d(x,M,"M"+p+","+D+"H"+v+"L"+b+","+B+"L"+w+","+U+"L0,"+L+"L-"+w+","+U+"L-"+b+","+B+"L-"+v+","+D+"H-"+p+"L0,"+_+"Z")}},hexagram:{n:18,f:function(T,x,M){if(t(x))return s;var c=g(T*.66,2),p=g(T*.38,2),v=g(T*.76,2);return d(x,M,"M-"+v+",0l-"+p+",-"+c+"h"+v+"l"+p+",-"+c+"l"+p+","+c+"h"+v+"l-"+p+","+c+"l"+p+","+c+"h-"+v+"l-"+p+","+c+"l-"+p+",-"+c+"h-"+v+"Z")}},"star-triangle-up":{n:19,f:function(T,x,M){if(t(x))return s;var c=g(T*r*.8,2),p=g(T*.8,2),v=g(T*1.6,2),b=g(T*4,2),w="A "+b+","+b+" 0 0 1 ";return d(x,M,"M-"+c+","+p+w+c+","+p+w+"0,-"+v+w+"-"+c+","+p+"Z")}},"star-triangle-down":{n:20,f:function(T,x,M){if(t(x))return s;var c=g(T*r*.8,2),p=g(T*.8,2),v=g(T*1.6,2),b=g(T*4,2),w="A "+b+","+b+" 0 0 1 ";return d(x,M,"M"+c+",-"+p+w+"-"+c+",-"+p+w+"0,"+v+w+c+",-"+p+"Z")}},"star-square":{n:21,f:function(T,x,M){if(t(x))return s;var c=g(T*1.1,2),p=g(T*2,2),v="A "+p+","+p+" 0 0 1 ";return d(x,M,"M-"+c+",-"+c+v+"-"+c+","+c+v+c+","+c+v+c+",-"+c+v+"-"+c+",-"+c+"Z")}},"star-diamond":{n:22,f:function(T,x,M){if(t(x))return s;var c=g(T*1.4,2),p=g(T*1.9,2),v="A "+p+","+p+" 0 0 1 ";return d(x,M,"M-"+c+",0"+v+"0,"+c+v+c+",0"+v+"0,-"+c+v+"-"+c+",0Z")}},"diamond-tall":{n:23,f:function(T,x,M){if(t(x))return s;var c=g(T*.7,2),p=g(T*1.4,2);return d(x,M,"M0,"+p+"L"+c+",0L0,-"+p+"L-"+c+",0Z")}},"diamond-wide":{n:24,f:function(T,x,M){if(t(x))return s;var c=g(T*1.4,2),p=g(T*.7,2);return d(x,M,"M0,"+p+"L"+c+",0L0,-"+p+"L-"+c+",0Z")}},hourglass:{n:25,f:function(T,x,M){if(t(x))return s;var c=g(T,2);return d(x,M,"M"+c+","+c+"H-"+c+"L"+c+",-"+c+"H-"+c+"Z")},noDot:!0},bowtie:{n:26,f:function(T,x,M){if(t(x))return s;var c=g(T,2);return d(x,M,"M"+c+","+c+"V-"+c+"L-"+c+","+c+"V-"+c+"Z")},noDot:!0},"circle-cross":{n:27,f:function(T,x,M){if(t(x))return s;var c=g(T,2);return d(x,M,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(T,x,M){if(t(x))return s;var c=g(T,2),p=g(T/i,2);return d(x,M,"M"+p+","+p+"L-"+p+",-"+p+"M"+p+",-"+p+"L-"+p+","+p+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(T,x,M){if(t(x))return s;var c=g(T,2);return d(x,M,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(T,x,M){if(t(x))return s;var c=g(T,2);return d(x,M,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(T,x,M){if(t(x))return s;var c=g(T*1.3,2);return d(x,M,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM0,-"+c+"V"+c+"M-"+c+",0H"+c)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(T,x,M){if(t(x))return s;var c=g(T*1.3,2),p=g(T*.65,2);return d(x,M,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM-"+p+",-"+p+"L"+p+","+p+"M-"+p+","+p+"L"+p+",-"+p)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(T,x,M){if(t(x))return s;var c=g(T*1.4,2);return d(x,M,"M0,"+c+"V-"+c+"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(T,x,M){if(t(x))return s;var c=g(T,2);return d(x,M,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(T,x,M){if(t(x))return s;var c=g(T*1.2,2),p=g(T*.85,2);return d(x,M,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+p+","+p+"L-"+p+",-"+p+"M"+p+",-"+p+"L-"+p+","+p)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(T,x,M){if(t(x))return s;var c=g(T/2,2),p=g(T,2);return d(x,M,"M"+c+","+p+"V-"+p+"M"+(c-p)+",-"+p+"V"+p+"M"+p+","+c+"H-"+p+"M-"+p+","+(c-p)+"H"+p)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(T,x,M){if(t(x))return s;var c=g(T*1.2,2),p=g(T*1.6,2),v=g(T*.8,2);return d(x,M,"M-"+c+","+v+"L0,0M"+c+","+v+"L0,0M0,-"+p+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(T,x,M){if(t(x))return s;var c=g(T*1.2,2),p=g(T*1.6,2),v=g(T*.8,2);return d(x,M,"M-"+c+",-"+v+"L0,0M"+c+",-"+v+"L0,0M0,"+p+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(T,x,M){if(t(x))return s;var c=g(T*1.2,2),p=g(T*1.6,2),v=g(T*.8,2);return d(x,M,"M"+v+","+c+"L0,0M"+v+",-"+c+"L0,0M-"+p+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(T,x,M){if(t(x))return s;var c=g(T*1.2,2),p=g(T*1.6,2),v=g(T*.8,2);return d(x,M,"M-"+v+","+c+"L0,0M-"+v+",-"+c+"L0,0M"+p+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(T,x,M){if(t(x))return s;var c=g(T*1.4,2);return d(x,M,"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(T,x,M){if(t(x))return s;var c=g(T*1.4,2);return d(x,M,"M0,"+c+"V-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(T,x,M){if(t(x))return s;var c=g(T,2);return d(x,M,"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(T,x,M){if(t(x))return s;var c=g(T,2);return d(x,M,"M"+c+","+c+"L-"+c+",-"+c)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(T,x,M){if(t(x))return s;var c=g(T,2),p=g(T*2,2);return d(x,M,"M0,0L-"+c+","+p+"H"+c+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(T,x,M){if(t(x))return s;var c=g(T,2),p=g(T*2,2);return d(x,M,"M0,0L-"+c+",-"+p+"H"+c+"Z")},noDot:!0},"arrow-left":{n:47,f:function(T,x,M){if(t(x))return s;var c=g(T*2,2),p=g(T,2);return d(x,M,"M0,0L"+c+",-"+p+"V"+p+"Z")},noDot:!0},"arrow-right":{n:48,f:function(T,x,M){if(t(x))return s;var c=g(T*2,2),p=g(T,2);return d(x,M,"M0,0L-"+c+",-"+p+"V"+p+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(T,x,M){if(t(x))return s;var c=g(T,2),p=g(T*2,2);return d(x,M,"M-"+c+",0H"+c+"M0,0L-"+c+","+p+"H"+c+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(T,x,M){if(t(x))return s;var c=g(T,2),p=g(T*2,2);return d(x,M,"M-"+c+",0H"+c+"M0,0L-"+c+",-"+p+"H"+c+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(T,x,M){if(t(x))return s;var c=g(T*2,2),p=g(T,2);return d(x,M,"M0,-"+p+"V"+p+"M0,0L"+c+",-"+p+"V"+p+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(T,x,M){if(t(x))return s;var c=g(T*2,2),p=g(T,2);return d(x,M,"M0,-"+p+"V"+p+"M0,0L-"+c+",-"+p+"V"+p+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(T,x,M){if(t(x))return s;var c=f/2.5,p=2*T*l(c),v=2*T*n(c);return d(x,M,"M0,0L"+-p+","+v+"L"+p+","+v+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(T,x,M){if(t(x))return s;var c=f/4,p=2*T*l(c),v=2*T*n(c);return d(x,M,"M0,0L"+-p+","+v+"A "+2*T+","+2*T+" 0 0 1 "+p+","+v+"Z")},backoff:.4,noDot:!0}};function t(T){return T===null}var u,h,m,y;function d(T,x,M){if((!T||T%360===0)&&!x)return M;if(m===T&&y===x&&u===M)return h;m=T,y=x,u=M;function c($,ie){var N=l($),F=n($),G=ie[0],W=ie[1]+(x||0);return[G*N-W*F,G*F+W*N]}for(var p=T/180*f,v=0,b=0,w=o(M),_="",D=0;D<w.length;D++){var B=w[D],U=B[0],L=v,O=b;if(U==="M"||U==="L")v=+B[1],b=+B[2];else if(U==="m"||U==="l")v+=+B[1],b+=+B[2];else if(U==="H")v=+B[1];else if(U==="h")v+=+B[1];else if(U==="V")b=+B[1];else if(U==="v")b+=+B[1];else if(U==="A"){v=+B[1],b=+B[2];var R=c(p,[+B[6],+B[7]]);B[6]=R[0],B[7]=R[1],B[3]=+B[3]+T}(U==="H"||U==="V")&&(U="L"),(U==="h"||U==="v")&&(U="l"),(U==="m"||U==="l")&&(v-=L,b-=O);var Z=c(p,[v,b]);(U==="H"||U==="V")&&(U="L"),(U==="M"||U==="L"||U==="m"||U==="l")&&(B[1]=Z[0],B[2]=Z[1]),B[0]=U,_+=B[0]+B.slice(1).join(",")}return h=_,_}},5673:function(te){te.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},4532:function(te,I,e){var o=e(2770),g=e(3972),s=e(9298),i=e(1828),r=e(5827);te.exports=function(n){for(var t=n.calcdata,u=0;u<t.length;u++){var h=t[u],m=h[0].trace;if(m.visible===!0&&g.traceIs(m,"errorBarsOK")){var y=s.getFromId(n,m.xaxis),d=s.getFromId(n,m.yaxis);f(h,m,y,"x"),f(h,m,d,"y")}}};function f(l,n,t,u){var h=n["error_"+u]||{},m=h.visible&&["linear","log"].indexOf(t.type)!==-1,y=[];if(m){for(var d=r(h),T=0;T<l.length;T++){var x=l[T],M=x.i;if(M===void 0)M=T;else if(M===null)continue;var c=x[u];if(o(t.c2l(c))){var p=d(c,M);if(o(p[0])&&o(p[1])){var v=x[u+"s"]=c-p[0],b=x[u+"h"]=c+p[1];y.push(v,b)}}}var w=t._id,_=n._extremes[w],D=s.findExtremes(t,y,i.extendFlat({tozero:_.opts.tozero},{padded:!0}));_.min=_.min.concat(D.min),_.max=_.max.concat(D.max)}}},5827:function(te){te.exports=function(o){var g=o.type,s=o.symmetric;if(g==="data"){var i=o.array||[];if(s)return function(t,u){var h=+i[u];return[h,h]};var r=o.arrayminus||[];return function(t,u){var h=+i[u],m=+r[u];return!isNaN(h)||!isNaN(m)?[m||0,h||0]:[NaN,NaN]}}else{var f=I(g,o.value),l=I(g,o.valueminus);return s||o.valueminus===void 0?function(t){var u=f(t);return[u,u]}:function(t){return[l(t),f(t)]}}};function I(e,o){if(e==="percent")return function(g){return Math.abs(g*o/100)};if(e==="constant")return function(){return Math.abs(o)};if(e==="sqrt")return function(g){return Math.sqrt(Math.abs(g))}}},7587:function(te,I,e){var o=e(2770),g=e(3972),s=e(1828),i=e(4467),r=e(5673);te.exports=function(f,l,n,t){var u="error_"+t.axis,h=i.newContainer(l,u),m=f[u]||{};function y(v,b){return s.coerce(m,h,r,v,b)}var d=m.array!==void 0||m.value!==void 0||m.type==="sqrt",T=y("visible",d);if(T!==!1){var x=y("type","array"in m?"data":"percent"),M=!0;x!=="sqrt"&&(M=y("symmetric",!((x==="data"?"arrayminus":"valueminus")in m))),x==="data"?(y("array"),y("traceref"),M||(y("arrayminus"),y("tracerefminus"))):(x==="percent"||x==="constant")&&(y("value"),M||y("valueminus"));var c="copy_"+t.inherit+"style";if(t.inherit){var p=l["error_"+t.inherit];(p||{}).visible&&y(c,!(m.color||o(m.thickness)||o(m.width)))}(!t.inherit||!h[c])&&(y("color",n),y("thickness"),y("width",g.traceIs(l,"gl3d")?0:4))}}},7369:function(te,I,e){var o=e(1828),g=e(962).overrideAll,s=e(5673),i={error_x:o.extendFlat({},s),error_y:o.extendFlat({},s)};delete i.error_x.copy_zstyle,delete i.error_y.copy_zstyle,delete i.error_y.copy_ystyle;var r={error_x:o.extendFlat({},s),error_y:o.extendFlat({},s),error_z:o.extendFlat({},s)};delete r.error_x.copy_ystyle,delete r.error_y.copy_ystyle,delete r.error_z.copy_ystyle,delete r.error_z.copy_zstyle,te.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:i,bar:i,histogram:i,scatter3d:g(r,"calc","nested"),scattergl:g(i,"calc","nested")}},supplyDefaults:e(7587),calc:e(4532),makeComputeError:e(5827),plot:e(9398),style:e(2662),hoverInfo:f};function f(l,n,t){(n.error_y||{}).visible&&(t.yerr=l.yh-l.y,n.error_y.symmetric||(t.yerrneg=l.y-l.ys)),(n.error_x||{}).visible&&(t.xerr=l.xh-l.x,n.error_x.symmetric||(t.xerrneg=l.x-l.xs))}},9398:function(te,I,e){var o=e(9898),g=e(2770),s=e(1424),i=e(4098);te.exports=function(l,n,t,u){var h,m=t.xaxis,y=t.yaxis,d=u&&u.duration>0,T=l._context.staticPlot;n.each(function(x){var M=x[0].trace,c=M.error_x||{},p=M.error_y||{},v;M.ids&&(v=function(D){return D.id});var b=i.hasMarkers(M)&&M.marker.maxdisplayed>0;!p.visible&&!c.visible&&(x=[]);var w=o.select(this).selectAll("g.errorbar").data(x,v);if(w.exit().remove(),!!x.length){c.visible||w.selectAll("path.xerror").remove(),p.visible||w.selectAll("path.yerror").remove(),w.style("opacity",1);var _=w.enter().append("g").classed("errorbar",!0);d&&_.style("opacity",0).transition().duration(u.duration).style("opacity",1),s.setClipUrl(w,t.layerClipId,l),w.each(function(D){var B=o.select(this),U=r(D,m,y);if(!(b&&!D.vis)){var L,O=B.select("path.yerror");if(p.visible&&g(U.x)&&g(U.yh)&&g(U.ys)){var R=p.width;L="M"+(U.x-R)+","+U.yh+"h"+2*R+"m-"+R+",0V"+U.ys,U.noYS||(L+="m-"+R+",0h"+2*R),h=!O.size(),h?O=B.append("path").style("vector-effect",T?"none":"non-scaling-stroke").classed("yerror",!0):d&&(O=O.transition().duration(u.duration).ease(u.easing)),O.attr("d",L)}else O.remove();var Z=B.select("path.xerror");if(c.visible&&g(U.y)&&g(U.xh)&&g(U.xs)){var $=(c.copy_ystyle?p:c).width;L="M"+U.xh+","+(U.y-$)+"v"+2*$+"m0,-"+$+"H"+U.xs,U.noXS||(L+="m0,-"+$+"v"+2*$),h=!Z.size(),h?Z=B.append("path").style("vector-effect",T?"none":"non-scaling-stroke").classed("xerror",!0):d&&(Z=Z.transition().duration(u.duration).ease(u.easing)),Z.attr("d",L)}else Z.remove()}})}})};function r(f,l,n){var t={x:l.c2p(f.x),y:n.c2p(f.y)};return f.yh!==void 0&&(t.yh=n.c2p(f.yh),t.ys=n.c2p(f.ys),g(t.ys)||(t.noYS=!0,t.ys=n.c2p(f.ys,!0))),f.xh!==void 0&&(t.xh=l.c2p(f.xh),t.xs=l.c2p(f.xs),g(t.xs)||(t.noXS=!0,t.xs=l.c2p(f.xs,!0))),t}},2662:function(te,I,e){var o=e(9898),g=e(7901);te.exports=function(i){i.each(function(r){var f=r[0].trace,l=f.error_y||{},n=f.error_x||{},t=o.select(this);t.selectAll("path.yerror").style("stroke-width",l.thickness+"px").call(g.stroke,l.color),n.copy_ystyle&&(n=l),t.selectAll("path.xerror").style("stroke-width",n.thickness+"px").call(g.stroke,n.color)})}},7914:function(te,I,e){var o=e(1940),g=e(528).hoverlabel,s=e(1426).extendFlat;te.exports={hoverlabel:{bgcolor:s({},g.bgcolor,{arrayOk:!0}),bordercolor:s({},g.bordercolor,{arrayOk:!0}),font:o({arrayOk:!0,editType:"none"}),align:s({},g.align,{arrayOk:!0}),namelength:s({},g.namelength,{arrayOk:!0}),editType:"none"}}},732:function(te,I,e){var o=e(1828),g=e(3972);te.exports=function(r){var f=r.calcdata,l=r._fullLayout;function n(y){return function(d){return o.coerceHoverinfo({hoverinfo:d},{_module:y._module},l)}}for(var t=0;t<f.length;t++){var u=f[t],h=u[0].trace;if(!g.traceIs(h,"pie-like")){var m=g.traceIs(h,"2dMap")?s:o.fillArray;m(h.hoverinfo,u,"hi",n(h)),h.hovertemplate&&m(h.hovertemplate,u,"ht"),h.hoverlabel&&(m(h.hoverlabel.bgcolor,u,"hbg"),m(h.hoverlabel.bordercolor,u,"hbc"),m(h.hoverlabel.font.size,u,"hts"),m(h.hoverlabel.font.color,u,"htc"),m(h.hoverlabel.font.family,u,"htf"),m(h.hoverlabel.namelength,u,"hnl"),m(h.hoverlabel.align,u,"hta"))}}};function s(i,r,f,l){l=l||o.identity,Array.isArray(i)&&(r[0][f]=l(i))}},5914:function(te,I,e){var o=e(3972),g=e(8335).hover;te.exports=function(i,r,f){var l=o.getComponentMethod("annotations","onClick")(i,i._hoverdata);f!==void 0&&g(i,r,f,!0);function n(){i.emit("plotly_click",{points:i._hoverdata,event:r})}i._hoverdata&&r&&r.target&&(l&&l.then?l.then(n):n(),r.stopImmediatePropagation&&r.stopImmediatePropagation())}},6675:function(te){te.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},4268:function(te,I,e){var o=e(1828),g=e(7914),s=e(8048);te.exports=function(r,f,l,n){function t(h,m){return o.coerce(r,f,g,h,m)}var u=o.extendFlat({},n.hoverlabel);f.hovertemplate&&(u.namelength=-1),s(r,f,t,u)}},3469:function(te,I,e){var o=e(1828);I.getSubplot=function(l){return l.subplot||l.xaxis+l.yaxis||l.geo},I.isTraceInSubplots=function(l,n){if(l.type==="splom"){for(var t=l.xaxes||[],u=l.yaxes||[],h=0;h<t.length;h++)for(var m=0;m<u.length;m++)if(n.indexOf(t[h]+u[m])!==-1)return!0;return!1}return n.indexOf(I.getSubplot(l))!==-1},I.flat=function(l,n){for(var t=new Array(l.length),u=0;u<l.length;u++)t[u]=n;return t},I.p2c=function(l,n){for(var t=new Array(l.length),u=0;u<l.length;u++)t[u]=l[u].p2c(n);return t},I.getDistanceFunction=function(l,n,t,u){return l==="closest"?u||I.quadrature(n,t):l.charAt(0)==="x"?n:t},I.getClosest=function(l,n,t){if(t.index!==!1)t.index>=0&&t.index<l.length?t.distance=0:t.index=!1;else for(var u=0;u<l.length;u++){var h=n(l[u]);h<=t.distance&&(t.index=u,t.distance=h)}return t},I.inbox=function(l,n,t){return l*n<0||l===0?t:1/0},I.quadrature=function(l,n){return function(t){var u=l(t),h=n(t);return Math.sqrt(u*u+h*h)}},I.makeEventData=function(l,n,t){var u="index"in l?l.index:l.pointNumber,h={data:n._input,fullData:n,curveNumber:n.index,pointNumber:u};if(n._indexToPoints){var m=n._indexToPoints[u];m.length===1?h.pointIndex=m[0]:h.pointIndices=m}else h.pointIndex=u;return n._module.eventData?h=n._module.eventData(h,l,n,t,u):("xVal"in l?h.x=l.xVal:"x"in l&&(h.x=l.x),"yVal"in l?h.y=l.yVal:"y"in l&&(h.y=l.y),l.xa&&(h.xaxis=l.xa),l.ya&&(h.yaxis=l.ya),l.zLabelVal!==void 0&&(h.z=l.zLabelVal)),I.appendArrayPointValue(h,n,u),h},I.appendArrayPointValue=function(l,n,t){var u=n._arrayAttrs;if(u)for(var h=0;h<u.length;h++){var m=u[h],y=s(m);if(l[y]===void 0){var d=o.nestedProperty(n,m).get(),T=i(d,t);T!==void 0&&(l[y]=T)}}},I.appendArrayMultiPointValues=function(l,n,t){var u=n._arrayAttrs;if(u)for(var h=0;h<u.length;h++){var m=u[h],y=s(m);if(l[y]===void 0){for(var d=o.nestedProperty(n,m).get(),T=new Array(t.length),x=0;x<t.length;x++)T[x]=i(d,t[x]);l[y]=T}}};var g={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function s(l){return g[l]||l}function i(l,n){if(Array.isArray(n)){if(Array.isArray(l)&&Array.isArray(l[n[0]]))return l[n[0]][n[1]]}else return l[n]}var r={x:!0,y:!0},f={"x unified":!0,"y unified":!0};I.isUnifiedHover=function(l){return typeof l!="string"?!1:!!f[l]},I.isXYhover=function(l){return typeof l!="string"?!1:!!r[l]}},8335:function(te,I,e){var o=e(9898),g=e(2770),s=e(4267),i=e(1828),r=i.strTranslate,f=i.strRotate,l=e(1086),n=e(3893),t=e(9918),u=e(1424),h=e(7901),m=e(8569),y=e(9298),d=e(3972),T=e(3469),x=e(6675),M=e(9017),c=e(3969),p=x.YANGLE,v=Math.PI*p/180,b=1/Math.sin(v),w=Math.cos(v),_=Math.sin(v),D=x.HOVERARROWSIZE,B=x.HOVERTEXTPAD,U={box:!0,ohlc:!0,violin:!0,candlestick:!0},L={scatter:!0,scattergl:!0,splom:!0};I.hover=function(E,z,C,K){E=i.getGraphDiv(E);var P=z.target;i.throttle(E._fullLayout._uid+x.HOVERID,x.HOVERMINTIME,function(){O(E,z,C,K,P)})},I.loneHover=function(E,z){var C=!0;Array.isArray(E)||(C=!1,E=[E]);var K=z.gd,P=ve(K),j=H(K),ae=E.map(function(we){var xe=we._x0||we.x0||we.x||0,Fe=we._x1||we.x1||we.x||0,Ke=we._y0||we.y0||we.y||0,je=we._y1||we.y1||we.y||0,Je=we.eventData;if(Je){var ht=Math.min(xe,Fe),Tt=Math.max(xe,Fe),gt=Math.min(Ke,je),tt=Math.max(Ke,je),Ct=we.trace;if(d.traceIs(Ct,"gl3d")){var rt=K._fullLayout[Ct.scene]._scene.container,Mt=rt.offsetLeft,Dt=rt.offsetTop;ht+=Mt,Tt+=Mt,gt+=Dt,tt+=Dt}Je.bbox={x0:ht+j,x1:Tt+j,y0:gt+P,y1:tt+P},z.inOut_bbox&&z.inOut_bbox.push(Je.bbox)}else Je=!1;return{color:we.color||h.defaultLine,x0:we.x0||we.x||0,x1:we.x1||we.x||0,y0:we.y0||we.y||0,y1:we.y1||we.y||0,xLabel:we.xLabel,yLabel:we.yLabel,zLabel:we.zLabel,text:we.text,name:we.name,idealAlign:we.idealAlign,borderColor:we.borderColor,fontFamily:we.fontFamily,fontSize:we.fontSize,fontColor:we.fontColor,nameLength:we.nameLength,textAlign:we.textAlign,trace:we.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:we.hovertemplate||!1,hovertemplateLabels:we.hovertemplateLabels||!1,eventData:Je}}),ue=!1,he=$(ae,{gd:K,hovermode:"closest",rotateLabels:ue,bgColor:z.bgColor||h.background,container:o.select(z.container),outerContainer:z.outerContainer||z.container}),Ae=he.hoverLabels,ke=5,ce=0,me=0;Ae.sort(function(we,xe){return we.y0-xe.y0}).each(function(we,xe){var Fe=we.y0-we.by/2;Fe-ke<ce?we.offset=ce-Fe+ke:we.offset=0,ce=Fe+we.by+we.offset,xe===z.anchorIndex&&(me=we.offset)}).each(function(we){we.offset-=me});var pe=K._fullLayout._invScaleX,Ee=K._fullLayout._invScaleY;return W(Ae,ue,pe,Ee),C?Ae:Ae.node()};function O(S,E,z,C,K){z||(z="xy");var P=Array.isArray(z)?z:[z],j=S._fullLayout,ae=j._plots||[],ue=ae[z],he=j._has("cartesian");if(ue){var Ae=ue.overlays.map(function(Ft){return Ft.id});P=P.concat(Ae)}for(var ke=P.length,ce=new Array(ke),me=new Array(ke),pe=!1,Ee=0;Ee<ke;Ee++){var we=P[Ee];if(ae[we])pe=!0,ce[Ee]=ae[we].xaxis,me[Ee]=ae[we].yaxis;else if(j[we]&&j[we]._subplot){var xe=j[we]._subplot;ce[Ee]=xe.xaxis,me[Ee]=xe.yaxis}else{i.warn("Unrecognized subplot: "+we);return}}var Fe=E.hovermode||j.hovermode;if(Fe&&!pe&&(Fe="closest"),["x","y","closest","x unified","y unified"].indexOf(Fe)===-1||!S.calcdata||S.querySelector(".zoombox")||S._dragging)return m.unhoverRaw(S,E);var Ke=j.hoverdistance;Ke===-1&&(Ke=1/0);var je=j.spikedistance;je===-1&&(je=1/0);var Je=[],ht=[],Tt,gt,tt,Ct,rt,Mt,Dt,kt,At,Le,Te,Pe,Ce,Oe={hLinePoint:null,vLinePoint:null},oe=!1;if(Array.isArray(E))for(Fe="array",tt=0;tt<E.length;tt++)rt=S.calcdata[E[tt].curveNumber||0],rt&&(Mt=rt[0].trace,rt[0].trace.hoverinfo!=="skip"&&(ht.push(rt),Mt.orientation==="h"&&(oe=!0)));else{for(Ct=0;Ct<S.calcdata.length;Ct++)rt=S.calcdata[Ct],Mt=rt[0].trace,Mt.hoverinfo!=="skip"&&T.isTraceInSubplots(Mt,P)&&(ht.push(rt),Mt.orientation==="h"&&(oe=!0));var be=!K,De,Se;if(be)"xpx"in E?De=E.xpx:De=ce[0]._length/2,"ypx"in E?Se=E.ypx:Se=me[0]._length/2;else{if(l.triggerHandler(S,"plotly_beforehover",E)===!1)return;var ze=K.getBoundingClientRect();De=E.clientX-ze.left,Se=E.clientY-ze.top,j._calcInverseTransform(S);var _e=i.apply3DTransform(j._invTransform)(De,Se);if(De=_e[0],Se=_e[1],De<0||De>ce[0]._length||Se<0||Se>me[0]._length)return m.unhoverRaw(S,E)}if(E.pointerX=De+ce[0]._offset,E.pointerY=Se+me[0]._offset,"xval"in E?Tt=T.flat(P,E.xval):Tt=T.p2c(ce,De),"yval"in E?gt=T.flat(P,E.yval):gt=T.p2c(me,Se),!g(Tt[0])||!g(gt[0]))return i.warn("Fx.hover failed",E,S),m.unhoverRaw(S,E)}var ct=1/0;function ot(Ft,Wt){for(Ct=0;Ct<ht.length;Ct++)if(rt=ht[Ct],!(!rt||!rt[0]||!rt[0].trace)&&(Mt=rt[0].trace,!(Mt.visible!==!0||Mt._length===0)&&["carpet","contourcarpet"].indexOf(Mt._module.name)===-1)){if(Mt.type==="splom"?(kt=0,Dt=P[kt]):(Dt=T.getSubplot(Mt),kt=P.indexOf(Dt)),At=Fe,T.isUnifiedHover(At)&&(At=At.charAt(0)),Pe={cd:rt,trace:Mt,xa:ce[kt],ya:me[kt],maxHoverDistance:Ke,maxSpikeDistance:je,index:!1,distance:Math.min(ct,Ke),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:h.defaultLine,name:Mt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},j[Dt]&&(Pe.subplot=j[Dt]._subplot),j._splomScenes&&j._splomScenes[Mt.uid]&&(Pe.scene=j._splomScenes[Mt.uid]),Ce=Je.length,At==="array"){var nr=E[Ct];"pointNumber"in nr?(Pe.index=nr.pointNumber,At="closest"):(At="","xval"in nr&&(Le=nr.xval,At="x"),"yval"in nr&&(Te=nr.yval,At=At?"closest":"y"))}else Ft!==void 0&&Wt!==void 0?(Le=Ft,Te=Wt):(Le=Tt[kt],Te=gt[kt]);if(Ke!==0)if(Mt._module&&Mt._module.hoverPoints){var ir=Mt._module.hoverPoints(Pe,Le,Te,At,{finiteRange:!0,hoverLayer:j._hoverlayer});if(ir)for(var or,Mr=0;Mr<ir.length;Mr++)or=ir[Mr],g(or.x0)&&g(or.y0)&&Je.push(X(or,Fe))}else i.log("Unrecognized trace type in hover:",Mt);if(Fe==="closest"&&Je.length>Ce&&(Je.splice(0,Ce),ct=Je[0].distance),he&&je!==0&&Je.length===0){Pe.distance=je,Pe.index=!1;var sr=Mt._module.hoverPoints(Pe,Le,Te,"closest",{hoverLayer:j._hoverlayer});if(sr&&(sr=sr.filter(function(gr){return gr.spikeDistance<=je})),sr&&sr.length){var dr,Tr=sr.filter(function(gr){return gr.xa.showspikes&&gr.xa.spikesnap!=="hovered data"});if(Tr.length){var vr=Tr[0];g(vr.x0)&&g(vr.y0)&&(dr=Ye(vr),(!Oe.vLinePoint||Oe.vLinePoint.spikeDistance>dr.spikeDistance)&&(Oe.vLinePoint=dr))}var yr=sr.filter(function(gr){return gr.ya.showspikes&&gr.ya.spikesnap!=="hovered data"});if(yr.length){var hr=yr[0];g(hr.x0)&&g(hr.y0)&&(dr=Ye(hr),(!Oe.hLinePoint||Oe.hLinePoint.spikeDistance>dr.spikeDistance)&&(Oe.hLinePoint=dr))}}}}}ot();function $e(Ft,Wt,nr){for(var ir=null,or=1/0,Mr,sr=0;sr<Ft.length;sr++)Mr=Ft[sr].spikeDistance,nr&&sr===0&&(Mr=-1/0),Mr<=or&&Mr<=Wt&&(ir=Ft[sr],or=Mr);return ir}function Ye(Ft){return Ft?{xa:Ft.xa,ya:Ft.ya,x:Ft.xSpike!==void 0?Ft.xSpike:(Ft.x0+Ft.x1)/2,y:Ft.ySpike!==void 0?Ft.ySpike:(Ft.y0+Ft.y1)/2,distance:Ft.distance,spikeDistance:Ft.spikeDistance,curveNumber:Ft.trace.index,color:Ft.color,pointNumber:Ft.index}:null}var it={fullLayout:j,container:j._hoverlayer,event:E},wt=S._spikepoints,Rt={vLinePoint:Oe.vLinePoint,hLinePoint:Oe.hLinePoint};S._spikepoints=Rt;var Ht=function(){Je.sort(function(Ft,Wt){return Ft.distance-Wt.distance}),Je=Me(Je,Fe)};Ht();var Vt=Fe.charAt(0),Ut=(Vt==="x"||Vt==="y")&&Je[0]&&L[Je[0].trace.type];if(he&&je!==0&&Je.length!==0){var St=Je.filter(function(Ft){return Ft.ya.showspikes}),Gt=$e(St,je,Ut);Oe.hLinePoint=Ye(Gt);var Ot=Je.filter(function(Ft){return Ft.xa.showspikes}),It=$e(Ot,je,Ut);Oe.vLinePoint=Ye(It)}if(Je.length===0){var Qt=m.unhoverRaw(S,E);return he&&(Oe.hLinePoint!==null||Oe.vLinePoint!==null)&&fe(wt)&&J(S,Oe,it),Qt}if(he&&fe(wt)&&J(S,Oe,it),T.isXYhover(At)&&Je[0].length!==0&&Je[0].trace.type!=="splom"){var Bt=Je[0];U[Bt.trace.type]?Je=Je.filter(function(Ft){return Ft.trace.index===Bt.trace.index}):Je=[Bt];var xt=Je.length,_t=le("x",Bt,j),Nt=le("y",Bt,j);ot(_t,Nt);var Jt=[],rr={},lr=0,Yt=function(Ft){var Wt=U[Ft.trace.type]?R(Ft):Ft.trace.index;if(!rr[Wt])lr++,rr[Wt]=lr,Jt.push(Ft);else{var nr=rr[Wt]-1,ir=Jt[nr];nr>0&&Math.abs(Ft.distance)<Math.abs(ir.distance)&&(Jt[nr]=Ft)}},re;for(re=0;re<xt;re++)Yt(Je[re]);for(re=Je.length-1;re>xt-1;re--)Yt(Je[re]);Je=Jt,Ht()}var q=S._hoverdata,He=[],Ie=ve(S),Ue=H(S);for(tt=0;tt<Je.length;tt++){var Ve=Je[tt],Xe=T.makeEventData(Ve,Ve.trace,Ve.cd);if(Ve.hovertemplate!==!1){var Ge=!1;Ve.cd[Ve.index]&&Ve.cd[Ve.index].ht&&(Ge=Ve.cd[Ve.index].ht),Ve.hovertemplate=Ge||Ve.trace.hovertemplate||!1}if(Ve.xa&&Ve.ya){var Be=Ve.x0+Ve.xa._offset,qe=Ve.x1+Ve.xa._offset,at=Ve.y0+Ve.ya._offset,st=Ve.y1+Ve.ya._offset,nt=Math.min(Be,qe),pt=Math.max(Be,qe),dt=Math.min(at,st),ut=Math.max(at,st);Xe.bbox={x0:nt+Ue,x1:pt+Ue,y0:dt+Ie,y1:ut+Ie}}Ve.eventData=[Xe],He.push(Xe)}S._hoverdata=He;var Pt=Fe==="y"&&(ht.length>1||Je.length>1)||Fe==="closest"&&oe&&Je.length>1,Lt=h.combine(j.plot_bgcolor||h.background,j.paper_bgcolor),$t=$(Je,{gd:S,hovermode:Fe,rotateLabels:Pt,bgColor:Lt,container:j._hoverlayer,outerContainer:j._paper.node(),commonLabelOpts:j.hoverlabel,hoverdistance:j.hoverdistance}),Et=$t.hoverLabels;if(T.isUnifiedHover(Fe)||(N(Et,Pt,j,$t.commonLabelBoundingBox),W(Et,Pt,j._invScaleX,j._invScaleY)),K&&K.tagName){var ar=d.getComponentMethod("annotations","hasClickToShow")(S,He);t(o.select(K),ar?"pointer":"")}!K||C||!ne(S,E,q)||(q&&S.emit("plotly_unhover",{event:E,points:q}),S.emit("plotly_hover",{event:E,points:S._hoverdata,xaxes:ce,yaxes:me,xvals:Tt,yvals:gt}))}function R(S){return[S.trace.index,S.index,S.x0,S.y0,S.name,S.attr,S.xa?S.xa._id:"",S.ya?S.ya._id:""].join(",")}var Z=/<extra>([\s\S]*)<\/extra>/;function $(S,E){var z=E.gd,C=z._fullLayout,K=E.hovermode,P=E.rotateLabels,j=E.bgColor,ae=E.container,ue=E.outerContainer,he=E.commonLabelOpts||{};if(S.length===0)return[[]];var Ae=E.fontFamily||x.HOVERFONT,ke=E.fontSize||x.HOVERFONTSIZE,ce=S[0],me=ce.xa,pe=ce.ya,Ee=K.charAt(0),we=Ee+"Label",xe=ce[we];if(xe===void 0&&me.type==="multicategory")for(var Fe=0;Fe<S.length&&(xe=S[Fe][we],xe===void 0);Fe++);var Ke=Y(z,ue),je=Ke.top,Je=Ke.width,ht=Ke.height,Tt=xe!==void 0&&ce.distance<=E.hoverdistance&&(K==="x"||K==="y");if(Tt){var gt=!0,tt,Ct;for(tt=0;tt<S.length;tt++)if(gt&&S[tt].zLabel===void 0&&(gt=!1),Ct=S[tt].hoverinfo||S[tt].trace.hoverinfo,Ct){var rt=Array.isArray(Ct)?Ct:Ct.split("+");if(rt.indexOf("all")===-1&&rt.indexOf(K)===-1){Tt=!1;break}}gt&&(Tt=!1)}var Mt=ae.selectAll("g.axistext").data(Tt?[0]:[]);Mt.enter().append("g").classed("axistext",!0),Mt.exit().remove();var Dt={minX:0,maxX:0,minY:0,maxY:0};if(Mt.each(function(){var xt=o.select(this),_t=i.ensureSingle(xt,"path","",function(dt){dt.style({"stroke-width":"1px"})}),Nt=i.ensureSingle(xt,"text","",function(dt){dt.attr("data-notex",1)}),Jt=he.bgcolor||h.defaultLine,rr=he.bordercolor||h.contrast(Jt),lr=h.contrast(Jt),Yt={family:he.font.family||Ae,size:he.font.size||ke,color:he.font.color||lr};_t.style({fill:Jt,stroke:rr}),Nt.text(xe).call(u.font,Yt).call(n.positionText,0,0).call(n.convertToTspans,z),xt.attr("transform","");var re=Y(z,Nt.node()),q,He;if(K==="x"){var Ie=me.side==="top"?"-":"";Nt.attr("text-anchor","middle").call(n.positionText,0,me.side==="top"?je-re.bottom-D-B:je-re.top+D+B),q=me._offset+(ce.x0+ce.x1)/2,He=pe._offset+(me.side==="top"?0:pe._length);var Ue=re.width/2+B;q<Ue?(q=Ue,_t.attr("d","M-"+(Ue-D)+",0L-"+(Ue-D*2)+","+Ie+D+"H"+Ue+"v"+Ie+(B*2+re.height)+"H-"+Ue+"V"+Ie+D+"Z")):q>C.width-Ue?(q=C.width-Ue,_t.attr("d","M"+(Ue-D)+",0L"+Ue+","+Ie+D+"v"+Ie+(B*2+re.height)+"H-"+Ue+"V"+Ie+D+"H"+(Ue-D*2)+"Z")):_t.attr("d","M0,0L"+D+","+Ie+D+"H"+Ue+"v"+Ie+(B*2+re.height)+"H-"+Ue+"V"+Ie+D+"H-"+D+"Z"),Dt.minX=q-Ue,Dt.maxX=q+Ue,me.side==="top"?(Dt.minY=He-(B*2+re.height),Dt.maxY=He-B):(Dt.minY=He+B,Dt.maxY=He+(B*2+re.height))}else{var Ve,Xe,Ge;pe.side==="right"?(Ve="start",Xe=1,Ge="",q=me._offset+me._length):(Ve="end",Xe=-1,Ge="-",q=me._offset),He=pe._offset+(ce.y0+ce.y1)/2,Nt.attr("text-anchor",Ve),_t.attr("d","M0,0L"+Ge+D+","+D+"V"+(B+re.height/2)+"h"+Ge+(B*2+re.width)+"V-"+(B+re.height/2)+"H"+Ge+D+"V-"+D+"Z"),Dt.minY=He-(B+re.height/2),Dt.maxY=He+(B+re.height/2),pe.side==="right"?(Dt.minX=q+D,Dt.maxX=q+D+(B*2+re.width)):(Dt.minX=q-D-(B*2+re.width),Dt.maxX=q-D);var Be=re.height/2,qe=je-re.top-Be,at="clip"+C._uid+"commonlabel"+pe._id,st;if(q<re.width+2*B+D){st="M-"+(D+B)+"-"+Be+"h-"+(re.width-B)+"V"+Be+"h"+(re.width-B)+"Z";var nt=re.width-q+B;n.positionText(Nt,nt,qe),Ve==="end"&&Nt.selectAll("tspan").each(function(){var dt=o.select(this),ut=u.tester.append("text").text(dt.text()).call(u.font,Yt),Pt=Y(z,ut.node());Math.round(Pt.width)<Math.round(re.width)&&dt.attr("x",nt-Pt.width),ut.remove()})}else n.positionText(Nt,Xe*(B+D),qe),st=null;var pt=C._topclips.selectAll("#"+at).data(st?[0]:[]);pt.enter().append("clipPath").attr("id",at).append("path"),pt.exit().remove(),pt.select("path").attr("d",st),u.setClipUrl(Nt,st?at:null,z)}xt.attr("transform",r(q,He))}),T.isUnifiedHover(K)){ae.selectAll("g.hovertext").remove();var kt=S.filter(function(xt){return xt.hoverinfo!=="none"});if(kt.length===0)return[];var At=C.hoverlabel,Le=At.font,Te={showlegend:!0,legend:{title:{text:xe,font:Le},font:Le,bgcolor:At.bgcolor,bordercolor:At.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:C.legend?C.legend.traceorder:void 0,orientation:"v"}},Pe={font:Le};M(Te,Pe,z._fullData);var Ce=Pe.legend;Ce.entries=[];for(var Oe=0;Oe<kt.length;Oe++){var oe=kt[Oe];if(oe.hoverinfo!=="none"){var be=ie(oe,!0,K,C,xe),De=be[0],Se=be[1];oe.name=Se,Se!==""?oe.text=Se+" : "+De:oe.text=De;var ze=oe.cd[oe.index];ze&&(ze.mc&&(oe.mc=ze.mc),ze.mcc&&(oe.mc=ze.mcc),ze.mlc&&(oe.mlc=ze.mlc),ze.mlcc&&(oe.mlc=ze.mlcc),ze.mlw&&(oe.mlw=ze.mlw),ze.mrc&&(oe.mrc=ze.mrc),ze.dir&&(oe.dir=ze.dir)),oe._distinct=!0,Ce.entries.push([oe])}}Ce.entries.sort(function(xt,_t){return xt[0].trace.index-_t[0].trace.index}),Ce.layer=ae,Ce._inHover=!0,Ce._groupTitleFont=At.grouptitlefont,c(z,Ce);var _e=ae.select("g.legend"),ct=Y(z,_e.node()),ot=ct.width+2*B,$e=ct.height+2*B,Ye=kt[0],it=(Ye.x0+Ye.x1)/2,wt=(Ye.y0+Ye.y1)/2,Rt=!(d.traceIs(Ye.trace,"bar-like")||d.traceIs(Ye.trace,"box-violin")),Ht,Vt;Ee==="y"?Rt?(Vt=wt-B,Ht=wt+B):(Vt=Math.min.apply(null,kt.map(function(xt){return Math.min(xt.y0,xt.y1)})),Ht=Math.max.apply(null,kt.map(function(xt){return Math.max(xt.y0,xt.y1)}))):Vt=Ht=i.mean(kt.map(function(xt){return(xt.y0+xt.y1)/2}))-$e/2;var Ut,St;Ee==="x"?Rt?(Ut=it+B,St=it-B):(Ut=Math.max.apply(null,kt.map(function(xt){return Math.max(xt.x0,xt.x1)})),St=Math.min.apply(null,kt.map(function(xt){return Math.min(xt.x0,xt.x1)}))):Ut=St=i.mean(kt.map(function(xt){return(xt.x0+xt.x1)/2}))-ot/2;var Gt=me._offset,Ot=pe._offset;Ht+=Ot,Ut+=Gt,St+=Gt-ot,Vt+=Ot-$e;var It,Qt;return Ut+ot<Je&&Ut>=0?It=Ut:St+ot<Je&&St>=0?It=St:Gt+ot<Je?It=Gt:Ut-it<it-St+ot?It=Je-ot:It=0,It+=B,Ht+$e<ht&&Ht>=0?Qt=Ht:Vt+$e<ht&&Vt>=0?Qt=Vt:Ot+$e<ht?Qt=Ot:Ht-wt<wt-Vt+$e?Qt=ht-$e:Qt=0,Qt+=B,_e.attr("transform",r(It-1,Qt-1)),_e}var Bt=ae.selectAll("g.hovertext").data(S,function(xt){return R(xt)});return Bt.enter().append("g").classed("hovertext",!0).each(function(){var xt=o.select(this);xt.append("rect").call(h.fill,h.addOpacity(j,.8)),xt.append("text").classed("name",!0),xt.append("path").style("stroke-width","1px"),xt.append("text").classed("nums",!0).call(u.font,Ae,ke)}),Bt.exit().remove(),Bt.each(function(xt){var _t=o.select(this).attr("transform",""),Nt=xt.color;Array.isArray(Nt)&&(Nt=Nt[xt.eventData[0].pointNumber]);var Jt=xt.bgcolor||Nt,rr=h.combine(h.opacity(Jt)?Jt:h.defaultLine,j),lr=h.combine(h.opacity(Nt)?Nt:h.defaultLine,j),Yt=xt.borderColor||h.contrast(rr),re=ie(xt,Tt,K,C,xe,_t),q=re[0],He=re[1],Ie=_t.select("text.nums").call(u.font,xt.fontFamily||Ae,xt.fontSize||ke,xt.fontColor||Yt).text(q).attr("data-notex",1).call(n.positionText,0,0).call(n.convertToTspans,z),Ue=_t.select("text.name"),Ve=0,Xe=0;if(He&&He!==q){Ue.call(u.font,xt.fontFamily||Ae,xt.fontSize||ke,lr).text(He).attr("data-notex",1).call(n.positionText,0,0).call(n.convertToTspans,z);var Ge=Y(z,Ue.node());Ve=Ge.width+2*B,Xe=Ge.height+2*B}else Ue.remove(),_t.select("rect").remove();_t.select("path").style({fill:rr,stroke:Yt});var Be=xt.xa._offset+(xt.x0+xt.x1)/2,qe=xt.ya._offset+(xt.y0+xt.y1)/2,at=Math.abs(xt.x1-xt.x0),st=Math.abs(xt.y1-xt.y0),nt=Y(z,Ie.node()),pt=nt.width/C._invScaleX,dt=nt.height/C._invScaleY;xt.ty0=(je-nt.top)/C._invScaleY,xt.bx=pt+2*B,xt.by=Math.max(dt+2*B,Xe),xt.anchor="start",xt.txwidth=pt,xt.tx2width=Ve,xt.offset=0;var ut=(pt+D+B+Ve)*C._invScaleX,Pt,Lt;if(P)xt.pos=Be,Pt=qe+st/2+ut<=ht,Lt=qe-st/2-ut>=0,(xt.idealAlign==="top"||!Pt)&&Lt?(qe-=st/2,xt.anchor="end"):Pt?(qe+=st/2,xt.anchor="start"):xt.anchor="middle",xt.crossPos=qe;else{if(xt.pos=qe,Pt=Be+at/2+ut<=Je,Lt=Be-at/2-ut>=0,(xt.idealAlign==="left"||!Pt)&&Lt)Be-=at/2,xt.anchor="end";else if(Pt)Be+=at/2,xt.anchor="start";else{xt.anchor="middle";var $t=ut/2,Et=Be+$t-Je,ar=Be-$t;Et>0&&(Be-=Et),ar<0&&(Be+=-ar)}xt.crossPos=Be}Ie.attr("text-anchor",xt.anchor),Ve&&Ue.attr("text-anchor",xt.anchor),_t.attr("transform",r(Be,qe)+(P?f(p):""))}),{hoverLabels:Bt,commonLabelBoundingBox:Dt}}function ie(S,E,z,C,K,P){var j="",ae="";S.nameOverride!==void 0&&(S.name=S.nameOverride),S.name&&(S.trace._meta&&(S.name=i.templateString(S.name,S.trace._meta)),j=ye(S.name,S.nameLength));var ue=z.charAt(0),he=ue==="x"?"y":"x";S.zLabel!==void 0?(S.xLabel!==void 0&&(ae+="x: "+S.xLabel+"<br>"),S.yLabel!==void 0&&(ae+="y: "+S.yLabel+"<br>"),S.trace.type!=="choropleth"&&S.trace.type!=="choroplethmapbox"&&(ae+=(ae?"z: ":"")+S.zLabel)):E&&S[ue+"Label"]===K?ae=S[he+"Label"]||"":S.xLabel===void 0?S.yLabel!==void 0&&S.trace.type!=="scattercarpet"&&(ae=S.yLabel):S.yLabel===void 0?ae=S.xLabel:ae="("+S.xLabel+", "+S.yLabel+")",(S.text||S.text===0)&&!Array.isArray(S.text)&&(ae+=(ae?"<br>":"")+S.text),S.extraText!==void 0&&(ae+=(ae?"<br>":"")+S.extraText),P&&ae===""&&!S.hovertemplate&&(j===""&&P.remove(),ae=j);var Ae=S.hovertemplate||!1;if(Ae){var ke=S.hovertemplateLabels||S;S[ue+"Label"]!==K&&(ke[ue+"other"]=ke[ue+"Val"],ke[ue+"otherLabel"]=ke[ue+"Label"]),ae=i.hovertemplateString(Ae,ke,C._d3locale,S.eventData[0]||{},S.trace._meta),ae=ae.replace(Z,function(ce,me){return j=ye(me,S.nameLength),""})}return[ae,j]}function N(S,E,z,C){var K=E?"xa":"ya",P=E?"ya":"xa",j=0,ae=1,ue=S.size(),he=new Array(ue),Ae=0,ke=C.minX,ce=C.maxX,me=C.minY,pe=C.maxY,Ee=function(Le){return Le*z._invScaleX},we=function(Le){return Le*z._invScaleY};S.each(function(Le){var Te=Le[K],Pe=Le[P],Ce=Te._id.charAt(0)==="x",Oe=Te.range;Ae===0&&Oe&&Oe[0]>Oe[1]!==Ce&&(ae=-1);var oe=0,be=Ce?z.width:z.height;if(z.hovermode==="x"||z.hovermode==="y"){var De=F(Le,E),Se=Le.anchor,ze=Se==="end"?-1:1,_e,ct;if(Se==="middle")_e=Le.crossPos+(Ce?we(De.y-Le.by/2):Ee(Le.bx/2+Le.tx2width/2)),ct=_e+(Ce?we(Le.by):Ee(Le.bx));else if(Ce)_e=Le.crossPos+we(D+De.y)-we(Le.by/2-D),ct=_e+we(Le.by);else{var ot=Ee(ze*D+De.x),$e=ot+Ee(ze*Le.bx);_e=Le.crossPos+Math.min(ot,$e),ct=Le.crossPos+Math.max(ot,$e)}Ce?me!==void 0&&pe!==void 0&&Math.min(ct,pe)-Math.max(_e,me)>1&&(Pe.side==="left"?(oe=Pe._mainLinePosition,be=z.width):be=Pe._mainLinePosition):ke!==void 0&&ce!==void 0&&Math.min(ct,ce)-Math.max(_e,ke)>1&&(Pe.side==="top"?(oe=Pe._mainLinePosition,be=z.height):be=Pe._mainLinePosition)}he[Ae++]=[{datum:Le,traceIndex:Le.trace.index,dp:0,pos:Le.pos,posref:Le.posref,size:Le.by*(Ce?b:1)/2,pmin:oe,pmax:be}]}),he.sort(function(Le,Te){return Le[0].posref-Te[0].posref||ae*(Te[0].traceIndex-Le[0].traceIndex)});var xe,Fe,Ke,je,Je,ht,Tt;function gt(Le){var Te=Le[0],Pe=Le[Le.length-1];if(Fe=Te.pmin-Te.pos-Te.dp+Te.size,Ke=Pe.pos+Pe.dp+Pe.size-Te.pmax,Fe>.01){for(Je=Le.length-1;Je>=0;Je--)Le[Je].dp+=Fe;xe=!1}if(!(Ke<.01)){if(Fe<-.01){for(Je=Le.length-1;Je>=0;Je--)Le[Je].dp-=Ke;xe=!1}if(xe){var Ce=0;for(je=0;je<Le.length;je++)ht=Le[je],ht.pos+ht.dp+ht.size>Te.pmax&&Ce++;for(je=Le.length-1;je>=0&&!(Ce<=0);je--)ht=Le[je],ht.pos>Te.pmax-1&&(ht.del=!0,Ce--);for(je=0;je<Le.length&&!(Ce<=0);je++)if(ht=Le[je],ht.pos<Te.pmin+1)for(ht.del=!0,Ce--,Ke=ht.size*2,Je=Le.length-1;Je>=0;Je--)Le[Je].dp-=Ke;for(je=Le.length-1;je>=0&&!(Ce<=0);je--)ht=Le[je],ht.pos+ht.dp+ht.size>Te.pmax&&(ht.del=!0,Ce--)}}}for(;!xe&&j<=ue;){for(j++,xe=!0,je=0;je<he.length-1;){var tt=he[je],Ct=he[je+1],rt=tt[tt.length-1],Mt=Ct[0];if(Fe=rt.pos+rt.dp+rt.size-Mt.pos-Mt.dp+Mt.size,Fe>.01&&rt.pmin===Mt.pmin&&rt.pmax===Mt.pmax){for(Je=Ct.length-1;Je>=0;Je--)Ct[Je].dp+=Fe;for(tt.push.apply(tt,Ct),he.splice(je+1,1),Tt=0,Je=tt.length-1;Je>=0;Je--)Tt+=tt[Je].dp;for(Ke=Tt/tt.length,Je=tt.length-1;Je>=0;Je--)tt[Je].dp-=Ke;xe=!1}else je++}he.forEach(gt)}for(je=he.length-1;je>=0;je--){var Dt=he[je];for(Je=Dt.length-1;Je>=0;Je--){var kt=Dt[Je],At=kt.datum;At.offset=kt.dp,At.del=kt.del}}}function F(S,E){var z=0,C=S.offset;return E&&(C*=-_,z=S.offset*w),{x:z,y:C}}function G(S){var E={start:1,end:-1,middle:0}[S.anchor],z=E*(D+B),C=z+E*(S.txwidth+B),K=S.anchor==="middle";return K&&(z-=S.tx2width/2,C+=S.txwidth/2+B),{alignShift:E,textShiftX:z,text2ShiftX:C}}function W(S,E,z,C){var K=function(j){return j*z},P=function(j){return j*C};S.each(function(j){var ae=o.select(this);if(j.del)return ae.remove();var ue=ae.select("text.nums"),he=j.anchor,Ae=he==="end"?-1:1,ke=G(j),ce=F(j,E),me=ce.x,pe=ce.y,Ee=he==="middle";ae.select("path").attr("d",Ee?"M-"+K(j.bx/2+j.tx2width/2)+","+P(pe-j.by/2)+"h"+K(j.bx)+"v"+P(j.by)+"h-"+K(j.bx)+"Z":"M0,0L"+K(Ae*D+me)+","+P(D+pe)+"v"+P(j.by/2-D)+"h"+K(Ae*j.bx)+"v-"+P(j.by)+"H"+K(Ae*D+me)+"V"+P(pe-D)+"Z");var we=me+ke.textShiftX,xe=pe+j.ty0-j.by/2+B,Fe=j.textAlign||"auto";Fe!=="auto"&&(Fe==="left"&&he!=="start"?(ue.attr("text-anchor","start"),we=Ee?-j.bx/2-j.tx2width/2+B:-j.bx-B):Fe==="right"&&he!=="end"&&(ue.attr("text-anchor","end"),we=Ee?j.bx/2-j.tx2width/2-B:j.bx+B)),ue.call(n.positionText,K(we),P(xe)),j.tx2width&&(ae.select("text.name").call(n.positionText,K(ke.text2ShiftX+ke.alignShift*B+me),P(pe+j.ty0-j.by/2+B)),ae.select("rect").call(u.setRect,K(ke.text2ShiftX+(ke.alignShift-1)*j.tx2width/2+me),P(pe-j.by/2-1),K(j.tx2width),P(j.by+2)))})}function X(S,E){var z=S.index,C=S.trace||{},K=S.cd[0],P=S.cd[z]||{};function j(ce){return ce||g(ce)&&ce===0}var ae=Array.isArray(z)?function(ce,me){var pe=i.castOption(K,z,ce);return j(pe)?pe:i.extractOption({},C,"",me)}:function(ce,me){return i.extractOption(P,C,ce,me)};function ue(ce,me,pe){var Ee=ae(me,pe);j(Ee)&&(S[ce]=Ee)}if(ue("hoverinfo","hi","hoverinfo"),ue("bgcolor","hbg","hoverlabel.bgcolor"),ue("borderColor","hbc","hoverlabel.bordercolor"),ue("fontFamily","htf","hoverlabel.font.family"),ue("fontSize","hts","hoverlabel.font.size"),ue("fontColor","htc","hoverlabel.font.color"),ue("nameLength","hnl","hoverlabel.namelength"),ue("textAlign","hta","hoverlabel.align"),S.posref=E==="y"||E==="closest"&&C.orientation==="h"?S.xa._offset+(S.x0+S.x1)/2:S.ya._offset+(S.y0+S.y1)/2,S.x0=i.constrain(S.x0,0,S.xa._length),S.x1=i.constrain(S.x1,0,S.xa._length),S.y0=i.constrain(S.y0,0,S.ya._length),S.y1=i.constrain(S.y1,0,S.ya._length),S.xLabelVal!==void 0&&(S.xLabel="xLabel"in S?S.xLabel:y.hoverLabelText(S.xa,S.xLabelVal,C.xhoverformat),S.xVal=S.xa.c2d(S.xLabelVal)),S.yLabelVal!==void 0&&(S.yLabel="yLabel"in S?S.yLabel:y.hoverLabelText(S.ya,S.yLabelVal,C.yhoverformat),S.yVal=S.ya.c2d(S.yLabelVal)),S.zLabelVal!==void 0&&S.zLabel===void 0&&(S.zLabel=String(S.zLabelVal)),!isNaN(S.xerr)&&!(S.xa.type==="log"&&S.xerr<=0)){var he=y.tickText(S.xa,S.xa.c2l(S.xerr),"hover").text;S.xerrneg!==void 0?S.xLabel+=" +"+he+" / -"+y.tickText(S.xa,S.xa.c2l(S.xerrneg),"hover").text:S.xLabel+="  "+he,E==="x"&&(S.distance+=1)}if(!isNaN(S.yerr)&&!(S.ya.type==="log"&&S.yerr<=0)){var Ae=y.tickText(S.ya,S.ya.c2l(S.yerr),"hover").text;S.yerrneg!==void 0?S.yLabel+=" +"+Ae+" / -"+y.tickText(S.ya,S.ya.c2l(S.yerrneg),"hover").text:S.yLabel+="  "+Ae,E==="y"&&(S.distance+=1)}var ke=S.hoverinfo||S.trace.hoverinfo;return ke&&ke!=="all"&&(ke=Array.isArray(ke)?ke:ke.split("+"),ke.indexOf("x")===-1&&(S.xLabel=void 0),ke.indexOf("y")===-1&&(S.yLabel=void 0),ke.indexOf("z")===-1&&(S.zLabel=void 0),ke.indexOf("text")===-1&&(S.text=void 0),ke.indexOf("name")===-1&&(S.name=void 0)),S}function J(S,E,z){var C=z.container,K=z.fullLayout,P=K._size,j=z.event,ae=!!E.hLinePoint,ue=!!E.vLinePoint,he,Ae;if(C.selectAll(".spikeline").remove(),!!(ue||ae)){var ke=h.combine(K.plot_bgcolor,K.paper_bgcolor);if(ae){var ce=E.hLinePoint,me,pe;he=ce&&ce.xa,Ae=ce&&ce.ya;var Ee=Ae.spikesnap;Ee==="cursor"?(me=j.pointerX,pe=j.pointerY):(me=he._offset+ce.x,pe=Ae._offset+ce.y);var we=s.readability(ce.color,ke)<1.5?h.contrast(ke):ce.color,xe=Ae.spikemode,Fe=Ae.spikethickness,Ke=Ae.spikecolor||we,je=y.getPxPosition(S,Ae),Je,ht;if(xe.indexOf("toaxis")!==-1||xe.indexOf("across")!==-1){if(xe.indexOf("toaxis")!==-1&&(Je=je,ht=me),xe.indexOf("across")!==-1){var Tt=Ae._counterDomainMin,gt=Ae._counterDomainMax;Ae.anchor==="free"&&(Tt=Math.min(Tt,Ae.position),gt=Math.max(gt,Ae.position)),Je=P.l+Tt*P.w,ht=P.l+gt*P.w}C.insert("line",":first-child").attr({x1:Je,x2:ht,y1:pe,y2:pe,"stroke-width":Fe,stroke:Ke,"stroke-dasharray":u.dashStyle(Ae.spikedash,Fe)}).classed("spikeline",!0).classed("crisp",!0),C.insert("line",":first-child").attr({x1:Je,x2:ht,y1:pe,y2:pe,"stroke-width":Fe+2,stroke:ke}).classed("spikeline",!0).classed("crisp",!0)}xe.indexOf("marker")!==-1&&C.insert("circle",":first-child").attr({cx:je+(Ae.side!=="right"?Fe:-Fe),cy:pe,r:Fe,fill:Ke}).classed("spikeline",!0)}if(ue){var tt=E.vLinePoint,Ct,rt;he=tt&&tt.xa,Ae=tt&&tt.ya;var Mt=he.spikesnap;Mt==="cursor"?(Ct=j.pointerX,rt=j.pointerY):(Ct=he._offset+tt.x,rt=Ae._offset+tt.y);var Dt=s.readability(tt.color,ke)<1.5?h.contrast(ke):tt.color,kt=he.spikemode,At=he.spikethickness,Le=he.spikecolor||Dt,Te=y.getPxPosition(S,he),Pe,Ce;if(kt.indexOf("toaxis")!==-1||kt.indexOf("across")!==-1){if(kt.indexOf("toaxis")!==-1&&(Pe=Te,Ce=rt),kt.indexOf("across")!==-1){var Oe=he._counterDomainMin,oe=he._counterDomainMax;he.anchor==="free"&&(Oe=Math.min(Oe,he.position),oe=Math.max(oe,he.position)),Pe=P.t+(1-oe)*P.h,Ce=P.t+(1-Oe)*P.h}C.insert("line",":first-child").attr({x1:Ct,x2:Ct,y1:Pe,y2:Ce,"stroke-width":At,stroke:Le,"stroke-dasharray":u.dashStyle(he.spikedash,At)}).classed("spikeline",!0).classed("crisp",!0),C.insert("line",":first-child").attr({x1:Ct,x2:Ct,y1:Pe,y2:Ce,"stroke-width":At+2,stroke:ke}).classed("spikeline",!0).classed("crisp",!0)}kt.indexOf("marker")!==-1&&C.insert("circle",":first-child").attr({cx:Ct,cy:Te-(he.side!=="top"?At:-At),r:At,fill:Le}).classed("spikeline",!0)}}}function ne(S,E,z){if(!z||z.length!==S._hoverdata.length)return!0;for(var C=z.length-1;C>=0;C--){var K=z[C],P=S._hoverdata[C];if(K.curveNumber!==P.curveNumber||String(K.pointNumber)!==String(P.pointNumber)||String(K.pointNumbers)!==String(P.pointNumbers))return!0}return!1}function fe(S,E){return!E||E.vLinePoint!==S._spikepoints.vLinePoint||E.hLinePoint!==S._spikepoints.hLinePoint}function ye(S,E){return n.plainText(S||"",{len:E,allowedTags:["br","sub","sup","b","i","em"]})}function Me(S,E){for(var z=E.charAt(0),C=[],K=[],P=[],j=0;j<S.length;j++){var ae=S[j];d.traceIs(ae.trace,"bar-like")||d.traceIs(ae.trace,"box-violin")?P.push(ae):ae.trace[z+"period"]?K.push(ae):C.push(ae)}return C.concat(K).concat(P)}function le(S,E,z){var C=E[S+"a"],K=E[S+"Val"],P=E.cd[0];if(C.type==="category"||C.type==="multicategory")K=C._categoriesMap[K];else if(C.type==="date"){var j=E.trace[S+"periodalignment"];if(j){var ae=E.cd[E.index],ue=ae[S+"Start"];ue===void 0&&(ue=ae[S]);var he=ae[S+"End"];he===void 0&&(he=ae[S]);var Ae=he-ue;j==="end"?K+=Ae:j==="middle"&&(K+=Ae/2)}K=C.d2c(K)}return P&&P.t&&P.t.posLetter===C._id&&(z.boxmode==="group"||z.violinmode==="group")&&(K+=P.t.dPos),K}function ve(S){return S.offsetTop+S.clientTop}function H(S){return S.offsetLeft+S.clientLeft}function Y(S,E){var z=S._fullLayout,C=E.getBoundingClientRect(),K=C.left,P=C.top,j=K+C.width,ae=P+C.height,ue=i.apply3DTransform(z._invTransform)(K,P),he=i.apply3DTransform(z._invTransform)(j,ae),Ae=ue[0],ke=ue[1],ce=he[0],me=he[1];return{x:Ae,y:ke,width:ce-Ae,height:me-ke,top:Math.min(ke,me),left:Math.min(Ae,ce),right:Math.max(Ae,ce),bottom:Math.max(ke,me)}}},8048:function(te,I,e){var o=e(1828),g=e(7901),s=e(3469).isUnifiedHover;te.exports=function(r,f,l,n){n=n||{};var t=f.legend;function u(h){n.font[h]||(n.font[h]=t?f.legend.font[h]:f.font[h])}f&&s(f.hovermode)&&(n.font||(n.font={}),u("size"),u("family"),u("color"),t?(n.bgcolor||(n.bgcolor=g.combine(f.legend.bgcolor,f.paper_bgcolor)),n.bordercolor||(n.bordercolor=f.legend.bordercolor)):n.bgcolor||(n.bgcolor=f.paper_bgcolor)),l("hoverlabel.bgcolor",n.bgcolor),l("hoverlabel.bordercolor",n.bordercolor),l("hoverlabel.namelength",n.namelength),o.coerceFont(l,"hoverlabel.font",n.font),l("hoverlabel.align",n.align)}},8212:function(te,I,e){var o=e(1828),g=e(528);te.exports=function(i,r){function f(l,n){return r[l]!==void 0?r[l]:o.coerce(i,r,g,l,n)}return f("clickmode"),f("hovermode")}},211:function(te,I,e){var o=e(9898),g=e(1828),s=e(8569),i=e(3469),r=e(528),f=e(8335);te.exports={moduleType:"component",name:"fx",constants:e(6675),schema:{layout:r},attributes:e(7914),layoutAttributes:r,supplyLayoutGlobalDefaults:e(2774),supplyDefaults:e(4268),supplyLayoutDefaults:e(4938),calc:e(732),getDistanceFunction:i.getDistanceFunction,getClosest:i.getClosest,inbox:i.inbox,quadrature:i.quadrature,appendArrayPointValue:i.appendArrayPointValue,castHoverOption:n,castHoverinfo:t,hover:f.hover,unhover:s.unhover,loneHover:f.loneHover,loneUnhover:l,click:e(5914)};function l(u){var h=g.isD3Selection(u)?u:o.select(u);h.selectAll("g.hovertext").remove(),h.selectAll(".spikeline").remove()}function n(u,h,m){return g.castOption(u,h,"hoverlabel."+m)}function t(u,h,m){function y(d){return g.coerceHoverinfo({hoverinfo:d},{_module:u._module},h)}return g.castOption(u,m,"hoverinfo",y)}},528:function(te,I,e){var o=e(6675),g=e(1940),s=g({editType:"none"});s.family.dflt=o.HOVERFONT,s.size.dflt=o.HOVERFONTSIZE,te.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:s,grouptitlefont:g({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},4938:function(te,I,e){var o=e(1828),g=e(528),s=e(8212),i=e(8048);te.exports=function(f,l){function n(d,T){return o.coerce(f,l,g,d,T)}var t=s(f,l);t&&(n("hoverdistance"),n("spikedistance"));var u=n("dragmode");u==="select"&&n("selectdirection");var h=l._has("mapbox"),m=l._has("geo"),y=l._basePlotModules.length;l.dragmode==="zoom"&&((h||m)&&y===1||h&&m&&y===2)&&(l.dragmode="pan"),i(f,l,n),o.coerceFont(n,"hoverlabel.grouptitlefont",l.hoverlabel.font)}},2774:function(te,I,e){var o=e(1828),g=e(8048),s=e(528);te.exports=function(r,f){function l(n,t){return o.coerce(r,f,s,n,t)}g(r,f,l)}},3312:function(te,I,e){var o=e(1828),g=e(587).counter,s=e(7670).Y,i=e(5555).idRegex,r=e(4467),f={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[g("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[i.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[i.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:s({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function l(m,y,d){var T=y[d+"axes"],x=Object.keys((m._splomAxes||{})[d]||{});if(Array.isArray(T))return T;if(x.length)return x}function n(m,y){var d=m.grid||{},T=l(y,d,"x"),x=l(y,d,"y");if(!m.grid&&!T&&!x)return;var M=Array.isArray(d.subplots)&&Array.isArray(d.subplots[0]),c=Array.isArray(T),p=Array.isArray(x),v=c&&T!==d.xaxes&&p&&x!==d.yaxes,b,w;M?(b=d.subplots.length,w=d.subplots[0].length):(p&&(b=x.length),c&&(w=T.length));var _=r.newContainer(y,"grid");function D(F,G){return o.coerce(d,_,f,F,G)}var B=D("rows",b),U=D("columns",w);if(!(B*U>1)){delete y.grid;return}if(!M&&!c&&!p){var L=D("pattern")==="independent";L&&(M=!0)}_._hasSubplotGrid=M;var O=D("roworder"),R=O==="top to bottom",Z=M?.2:.1,$=M?.3:.1,ie,N;v&&y._splomGridDflt&&(ie=y._splomGridDflt.xside,N=y._splomGridDflt.yside),_._domains={x:t("x",D,Z,ie,U),y:t("y",D,$,N,B,R)}}function t(m,y,d,T,x,M){var c=y(m+"gap",d),p=y("domain."+m);y(m+"side",T);for(var v=new Array(x),b=p[0],w=(p[1]-b)/(x-c),_=w*(1-c),D=0;D<x;D++){var B=b+w*D;v[M?x-1-D:D]=[B,B+_]}return v}function u(m,y){var d=y.grid;if(!(!d||!d._domains)){var T=m.grid||{},x=y._subplots,M=d._hasSubplotGrid,c=d.rows,p=d.columns,v=d.pattern==="independent",b,w,_,D,B,U,L,O=d._axisMap={};if(M){var R=T.subplots||[];U=d.subplots=new Array(c);var Z=1;for(b=0;b<c;b++){var $=U[b]=new Array(p),ie=R[b]||[];for(w=0;w<p;w++)if(v?(B=Z===1?"xy":"x"+Z+"y"+Z,Z++):B=ie[w],$[w]="",x.cartesian.indexOf(B)!==-1){if(L=B.indexOf("y"),_=B.slice(0,L),D=B.slice(L),O[_]!==void 0&&O[_]!==w||O[D]!==void 0&&O[D]!==b)continue;$[w]=B,O[_]=w,O[D]=b}}}else{var N=l(y,T,"x"),F=l(y,T,"y");d.xaxes=h(N,x.xaxis,p,O,"x"),d.yaxes=h(F,x.yaxis,c,O,"y")}var G=d._anchors={},W=d.roworder==="top to bottom";for(var X in O){var J=X.charAt(0),ne=d[J+"side"],fe,ye,Me;if(ne.length<8)G[X]="free";else if(J==="x"){if(ne.charAt(0)==="t"===W?(fe=0,ye=1,Me=c):(fe=c-1,ye=-1,Me=-1),M){var le=O[X];for(b=fe;b!==Me;b+=ye)if(B=U[b][le],!!B&&(L=B.indexOf("y"),B.slice(0,L)===X)){G[X]=B.slice(L);break}}else for(b=fe;b!==Me;b+=ye)if(D=d.yaxes[b],x.cartesian.indexOf(X+D)!==-1){G[X]=D;break}}else if(ne.charAt(0)==="l"?(fe=0,ye=1,Me=p):(fe=p-1,ye=-1,Me=-1),M){var ve=O[X];for(b=fe;b!==Me;b+=ye)if(B=U[ve][b],!!B&&(L=B.indexOf("y"),B.slice(L)===X)){G[X]=B.slice(0,L);break}}else for(b=fe;b!==Me;b+=ye)if(_=d.xaxes[b],x.cartesian.indexOf(_+X)!==-1){G[X]=_;break}}}}function h(m,y,d,T,x){var M=new Array(d),c;function p(v,b){y.indexOf(b)!==-1&&T[b]===void 0?(M[v]=b,T[b]=v):M[v]=""}if(Array.isArray(m))for(c=0;c<d;c++)p(c,m[c]);else for(p(0,x),c=1;c<d;c++)p(c,x+(c+1));return M}te.exports={moduleType:"component",name:"grid",schema:{layout:{grid:f}},layoutAttributes:f,sizeDefaults:n,contentDefaults:u}},9819:function(te,I,e){var o=e(5555),g=e(4467).templatedArray;e(4695),te.exports=g("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",o.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",o.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},5378:function(te,I,e){var o=e(2770),g=e(8163);te.exports=function(i,r,f,l){r=r||{};var n=f==="log"&&r.type==="linear",t=f==="linear"&&r.type==="log";if(n||t){for(var u=i._fullLayout.images,h=r._id.charAt(0),m,y,d=0;d<u.length;d++)if(m=u[d],y="images["+d+"].",m[h+"ref"]===r._id){var T=m[h],x=m["size"+h],M=null,c=null;if(n){M=g(T,r.range);var p=x/Math.pow(10,M)/2;c=2*Math.log(p+Math.sqrt(1+p*p))/Math.LN10}else M=Math.pow(10,T),c=M*(Math.pow(10,x/2)-Math.pow(10,-x/2));o(M)?o(c)||(c=null):(M=null,c=null),l(y+h,M),l(y+"size"+h,c)}}}},1603:function(te,I,e){var o=e(1828),g=e(9298),s=e(5501),i=e(9819),r="images";te.exports=function(n,t){var u={name:r,handleItemDefaults:f};s(n,t,u)};function f(l,n,t){function u(p,v){return o.coerce(l,n,i,p,v)}var h=u("source"),m=u("visible",!!h);if(!m)return n;u("layer"),u("xanchor"),u("yanchor"),u("sizex"),u("sizey"),u("sizing"),u("opacity");for(var y={_fullLayout:t},d=["x","y"],T=0;T<2;T++){var x=d[T],M=g.coerceRef(l,n,y,x,"paper",void 0);if(M!=="paper"){var c=g.getFromId(y,M);c._imgIndices.push(n._index)}g.coercePosition(n,y,u,M,x,0)}return n}},750:function(te,I,e){var o=e(9898),g=e(1424),s=e(9298),i=e(1675),r=e(7922);te.exports=function(l){var n=l._fullLayout,t=[],u={},h=[],m,y;for(y=0;y<n.images.length;y++){var d=n.images[y];if(d.visible)if(d.layer==="below"&&d.xref!=="paper"&&d.yref!=="paper"){m=i.ref2id(d.xref)+i.ref2id(d.yref);var T=n._plots[m];if(!T){h.push(d);continue}T.mainplot&&(m=T.mainplot.id),u[m]||(u[m]=[]),u[m].push(d)}else d.layer==="above"?t.push(d):h.push(d)}var x={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function M(D){var B=o.select(this);if(this._imgSrc!==D.source)if(B.attr("xmlns",r.svg),D.source&&D.source.slice(0,5)==="data:")B.attr("xlink:href",D.source),this._imgSrc=D.source;else{var U=new Promise(function(L){var O=new Image;this.img=O,O.setAttribute("crossOrigin","anonymous"),O.onerror=R,O.onload=function(){var Z=document.createElement("canvas");Z.width=this.width,Z.height=this.height;var $=Z.getContext("2d",{willReadFrequently:!0});$.drawImage(this,0,0);var ie=Z.toDataURL("image/png");B.attr("xlink:href",ie),L()},B.on("error",R),O.src=D.source,this._imgSrc=D.source;function R(){B.remove(),L()}}.bind(this));l._promises.push(U)}}function c(D){var B=o.select(this),U=s.getFromId(l,D.xref),L=s.getFromId(l,D.yref),O=s.getRefType(D.xref)==="domain",R=s.getRefType(D.yref)==="domain",Z=n._size,$,ie;U!==void 0?$=typeof D.xref=="string"&&O?U._length*D.sizex:Math.abs(U.l2p(D.sizex)-U.l2p(0)):$=D.sizex*Z.w,L!==void 0?ie=typeof D.yref=="string"&&R?L._length*D.sizey:Math.abs(L.l2p(D.sizey)-L.l2p(0)):ie=D.sizey*Z.h;var N=$*x.x[D.xanchor].offset,F=ie*x.y[D.yanchor].offset,G=x.x[D.xanchor].sizing+x.y[D.yanchor].sizing,W,X;switch(U!==void 0?W=typeof D.xref=="string"&&O?U._length*D.x+U._offset:U.r2p(D.x)+U._offset:W=D.x*Z.w+Z.l,W+=N,L!==void 0?X=typeof D.yref=="string"&&R?L._length*(1-D.y)+L._offset:L.r2p(D.y)+L._offset:X=Z.h-D.y*Z.h+Z.t,X+=F,D.sizing){case"fill":G+=" slice";break;case"stretch":G="none";break}B.attr({x:W,y:X,width:$,height:ie,preserveAspectRatio:G,opacity:D.opacity});var J=U&&s.getRefType(D.xref)!=="domain"?U._id:"",ne=L&&s.getRefType(D.yref)!=="domain"?L._id:"",fe=J+ne;g.setClipUrl(B,fe?"clip"+n._uid+fe:null,l)}var p=n._imageLowerLayer.selectAll("image").data(h),v=n._imageUpperLayer.selectAll("image").data(t);p.enter().append("image"),v.enter().append("image"),p.exit().remove(),v.exit().remove(),p.each(function(D){M.bind(this)(D),c.bind(this)(D)}),v.each(function(D){M.bind(this)(D),c.bind(this)(D)});var b=Object.keys(n._plots);for(y=0;y<b.length;y++){m=b[y];var w=n._plots[m];if(w.imagelayer){var _=w.imagelayer.selectAll("image").data(u[m]||[]);_.enter().append("image"),_.exit().remove(),_.each(function(D){M.bind(this)(D),c.bind(this)(D)})}}}},8804:function(te,I,e){te.exports={moduleType:"component",name:"images",layoutAttributes:e(9819),supplyLayoutDefaults:e(1603),includeBasePlot:e(6325)("images"),draw:e(750),convertCoords:e(5378)}},3030:function(te,I,e){var o=e(1940),g=e(2399);te.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:o({editType:"legend"}),grouptitlefont:o({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:o({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},4928:function(te){te.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},9017:function(te,I,e){var o=e(3972),g=e(1828),s=e(4467),i=e(9012),r=e(3030),f=e(820),l=e(130);function n(t,u,h,m){var y=u[t]||{},d=s.newContainer(h,t);function T(Me,le){return g.coerce(y,d,r,Me,le)}var x=g.coerceFont(T,"font",h.font);T("bgcolor",h.paper_bgcolor),T("bordercolor");var M=T("visible");if(M){for(var c,p=function(Me,le){var ve=c._input,H=c;return g.coerce(ve,H,i,Me,le)},v=h.font||{},b=g.coerceFont(T,"grouptitlefont",g.extendFlat({},v,{size:Math.round(v.size*1.1)})),w=0,_=!1,D="normal",B=(h.shapes||[]).filter(function(Me){return Me.showlegend}),U=m.concat(B).filter(function(Me){return t===(Me.legend||"legend")}),L=0;L<U.length;L++)if(c=U[L],!!c.visible){var O=c._isShape;(c.showlegend||c._dfltShowLegend&&!(c._module&&c._module.attributes&&c._module.attributes.showlegend&&c._module.attributes.showlegend.dflt===!1))&&(w++,c.showlegend&&(_=!0,(!O&&o.traceIs(c,"pie-like")||c._input.showlegend===!0)&&w++),g.coerceFont(p,"legendgrouptitle.font",b)),(!O&&o.traceIs(c,"bar")&&h.barmode==="stack"||["tonextx","tonexty"].indexOf(c.fill)!==-1)&&(D=l.isGrouped({traceorder:D})?"grouped+reversed":"reversed"),c.legendgroup!==void 0&&c.legendgroup!==""&&(D=l.isReversed({traceorder:D})?"reversed+grouped":"grouped")}var R=g.coerce(u,h,f,"showlegend",_&&w>(t==="legend"?1:0));if(R===!1&&(h[t]=void 0),!(R===!1&&!y.uirevision)&&(T("uirevision",h.uirevision),R!==!1)){T("borderwidth");var Z=T("orientation"),$=T("yref"),ie=T("xref"),N=Z==="h",F=$==="paper",G=ie==="paper",W,X,J,ne="left";N?(W=0,o.getComponentMethod("rangeslider","isVisible")(u.xaxis)?F?(X=1.1,J="bottom"):(X=1,J="top"):F?(X=-.1,J="top"):(X=0,J="bottom")):(X=1,J="auto",G?W=1.02:(W=1,ne="right")),g.coerce(y,d,{x:{valType:"number",editType:"legend",min:G?-2:0,max:G?3:1,dflt:W}},"x"),g.coerce(y,d,{y:{valType:"number",editType:"legend",min:F?-2:0,max:F?3:1,dflt:X}},"y"),T("traceorder",D),l.isGrouped(h[t])&&T("tracegroupgap"),T("entrywidth"),T("entrywidthmode"),T("itemsizing"),T("itemwidth"),T("itemclick"),T("itemdoubleclick"),T("groupclick"),T("xanchor",ne),T("yanchor",J),T("valign"),g.noneOrAll(y,d,["x","y"]);var fe=T("title.text");if(fe){T("title.side",N?"left":"top");var ye=g.extendFlat({},x,{size:g.bigFont(x.size)});g.coerceFont(T,"title.font",ye)}}}}te.exports=function(u,h,m){var y,d=m.slice(),T=h.shapes;if(T)for(y=0;y<T.length;y++){var x=T[y];if(x.showlegend){var M={_input:x._input,visible:x.visible,showlegend:x.showlegend,legend:x.legend};d.push(M)}}var c=["legend"];for(y=0;y<d.length;y++)g.pushUnique(c,d[y].legend);for(h._legends=[],y=0;y<c.length;y++){var p=c[y];n(p,u,h,d),h[p]&&h[p].visible&&(h[p]._id=p),h._legends.push(p)}}},3969:function(te,I,e){var o=e(9898),g=e(1828),s=e(4875),i=e(3972),r=e(1086),f=e(8569),l=e(1424),n=e(7901),t=e(3893),u=e(5167),h=e(4928),m=e(8783),y=m.LINE_SPACING,d=m.FROM_TL,T=m.FROM_BR,x=e(2424),M=e(3630),c=e(130),p=1,v=/^legend[0-9]*$/;te.exports=function(X,J){if(J)w(X,J);else{var ne=X._fullLayout,fe=ne._legends,ye=ne._infolayer.selectAll('[class^="legend"]');ye.each(function(){var H=o.select(this),Y=H.attr("class"),S=Y.split(" ")[0];S.match(v)&&fe.indexOf(S)===-1&&H.remove()});for(var Me=0;Me<fe.length;Me++){var le=fe[Me],ve=X._fullLayout[le];w(X,ve)}}};function b(W,X,J){if(!(X.title.side!=="top center"&&X.title.side!=="top right")){var ne=X.title.font,fe=ne.size*y,ye=0,Me=W.node(),le=l.bBox(Me).width;X.title.side==="top center"?ye=.5*(X._width-2*J-2*h.titlePad-le):X.title.side==="top right"&&(ye=X._width-2*J-2*h.titlePad-le),t.positionText(W,J+h.titlePad+ye,J+fe)}}function w(W,X){var J=X||{},ne=W._fullLayout,fe=G(J),ye,Me,le=J._inHover;if(le?(Me=J.layer,ye="hover"):(Me=ne._infolayer,ye=fe),!!Me){ye+=ne._uid,W._legendMouseDownTime||(W._legendMouseDownTime=0);var ve;if(le){if(!J.entries)return;ve=x(J.entries,J)}else{for(var H=(W.calcdata||[]).slice(),Y=ne.shapes,S=0;S<Y.length;S++){var E=Y[S];if(E.showlegend){var z={_isShape:!0,_fullInput:E,index:E._index,name:E.name||E.label.text||"shape "+E._index,legend:E.legend,legendgroup:E.legendgroup,legendgrouptitle:E.legendgrouptitle,legendrank:E.legendrank,legendwidth:E.legendwidth,showlegend:E.showlegend,visible:E.visible,opacity:E.opacity,mode:E.type==="line"?"lines":"markers",line:E.line,marker:{line:E.line,color:E.fillcolor,size:12,symbol:E.type==="rect"?"square":E.type==="circle"?"circle":"hexagon2"}};H.push([{trace:z}])}}ve=ne.showlegend&&x(H,J,ne._legends.length>1)}var C=ne.hiddenlabels||[];if(!le&&(!ne.showlegend||!ve.length))return Me.selectAll("."+fe).remove(),ne._topdefs.select("#"+ye).remove(),s.autoMargin(W,fe);var K=g.ensureSingle(Me,"g",fe,function(me){le||me.attr("pointer-events","all")}),P=g.ensureSingleById(ne._topdefs,"clipPath",ye,function(me){me.append("rect")}),j=g.ensureSingle(K,"rect","bg",function(me){me.attr("shape-rendering","crispEdges")});j.call(n.stroke,J.bordercolor).call(n.fill,J.bgcolor).style("stroke-width",J.borderwidth+"px");var ae=g.ensureSingle(K,"g","scrollbox"),ue=J.title;J._titleWidth=0,J._titleHeight=0;var he;ue.text?(he=g.ensureSingle(ae,"text",fe+"titletext"),he.attr("text-anchor","start").call(l.font,ue.font).text(ue.text),O(he,ae,W,J,p)):ae.selectAll("."+fe+"titletext").remove();var Ae=g.ensureSingle(K,"rect","scrollbar",function(me){me.attr(h.scrollBarEnterAttrs).call(n.fill,h.scrollBarColor)}),ke=ae.selectAll("g.groups").data(ve);ke.enter().append("g").attr("class","groups"),ke.exit().remove();var ce=ke.selectAll("g.traces").data(g.identity);ce.enter().append("g").attr("class","traces"),ce.exit().remove(),ce.style("opacity",function(me){var pe=me[0].trace;return i.traceIs(pe,"pie-like")?C.indexOf(me[0].label)!==-1?.5:1:pe.visible==="legendonly"?.5:1}).each(function(){o.select(this).call(B,W,J)}).call(M,W,J).each(function(){le||o.select(this).call(L,W,fe)}),g.syncOrAsync([s.previousPromises,function(){return $(W,ke,ce,J)},function(){var me=ne._size,pe=J.borderwidth,Ee=J.xref==="paper",we=J.yref==="paper";if(ue.text&&b(he,J,pe),!le){var xe,Fe;Ee?xe=me.l+me.w*J.x-d[N(J)]*J._width:xe=ne.width*J.x-d[N(J)]*J._width,we?Fe=me.t+me.h*(1-J.y)-d[F(J)]*J._effHeight:Fe=ne.height*(1-J.y)-d[F(J)]*J._effHeight;var Ke=ie(W,fe,xe,Fe);if(Ke)return;if(ne.margin.autoexpand){var je=xe,Je=Fe;xe=Ee?g.constrain(xe,0,ne.width-J._width):je,Fe=we?g.constrain(Fe,0,ne.height-J._effHeight):Je,xe!==je&&g.log("Constrain "+fe+".x to make legend fit inside graph"),Fe!==Je&&g.log("Constrain "+fe+".y to make legend fit inside graph")}l.setTranslate(K,xe,Fe)}if(Ae.on(".drag",null),K.on("wheel",null),le||J._height<=J._maxHeight||W._context.staticPlot){var ht=J._effHeight;le&&(ht=J._height),j.attr({width:J._width-pe,height:ht-pe,x:pe/2,y:pe/2}),l.setTranslate(ae,0,0),P.select("rect").attr({width:J._width-2*pe,height:ht-2*pe,x:pe,y:pe}),l.setClipUrl(ae,ye,W),l.setRect(Ae,0,0,0,0),delete J._scrollY}else{var Tt=Math.max(h.scrollBarMinHeight,J._effHeight*J._effHeight/J._height),gt=J._effHeight-Tt-2*h.scrollBarMargin,tt=J._height-J._effHeight,Ct=gt/tt,rt=Math.min(J._scrollY||0,tt);j.attr({width:J._width-2*pe+h.scrollBarWidth+h.scrollBarMargin,height:J._effHeight-pe,x:pe/2,y:pe/2}),P.select("rect").attr({width:J._width-2*pe+h.scrollBarWidth+h.scrollBarMargin,height:J._effHeight-2*pe,x:pe,y:pe+rt}),l.setClipUrl(ae,ye,W),Ce(rt,Tt,Ct),K.on("wheel",function(){rt=g.constrain(J._scrollY+o.event.deltaY/gt*tt,0,tt),Ce(rt,Tt,Ct),rt!==0&&rt!==tt&&o.event.preventDefault()});var Mt,Dt,kt,At=function(Se,ze,_e){var ct=(_e-ze)/Ct+Se;return g.constrain(ct,0,tt)},Le=function(Se,ze,_e){var ct=(ze-_e)/Ct+Se;return g.constrain(ct,0,tt)},Te=o.behavior.drag().on("dragstart",function(){var Se=o.event.sourceEvent;Se.type==="touchstart"?Mt=Se.changedTouches[0].clientY:Mt=Se.clientY,kt=rt}).on("drag",function(){var Se=o.event.sourceEvent;Se.buttons===2||Se.ctrlKey||(Se.type==="touchmove"?Dt=Se.changedTouches[0].clientY:Dt=Se.clientY,rt=At(kt,Mt,Dt),Ce(rt,Tt,Ct))});Ae.call(Te);var Pe=o.behavior.drag().on("dragstart",function(){var Se=o.event.sourceEvent;Se.type==="touchstart"&&(Mt=Se.changedTouches[0].clientY,kt=rt)}).on("drag",function(){var Se=o.event.sourceEvent;Se.type==="touchmove"&&(Dt=Se.changedTouches[0].clientY,rt=Le(kt,Mt,Dt),Ce(rt,Tt,Ct))});ae.call(Pe)}function Ce(Se,ze,_e){J._scrollY=W._fullLayout[fe]._scrollY=Se,l.setTranslate(ae,0,-Se),l.setRect(Ae,J._width,h.scrollBarMargin+Se*_e,h.scrollBarWidth,ze),P.select("rect").attr("y",pe+Se)}if(W._context.edits.legendPosition){var Oe,oe,be,De;K.classed("cursor-move",!0),f.init({element:K.node(),gd:W,prepFn:function(){var Se=l.getTranslate(K);be=Se.x,De=Se.y},moveFn:function(Se,ze){var _e=be+Se,ct=De+ze;l.setTranslate(K,_e,ct),Oe=f.align(_e,J._width,me.l,me.l+me.w,J.xanchor),oe=f.align(ct+J._height,-J._height,me.t+me.h,me.t,J.yanchor)},doneFn:function(){if(Oe!==void 0&&oe!==void 0){var Se={};Se[fe+".x"]=Oe,Se[fe+".y"]=oe,i.call("_guiRelayout",W,Se)}},clickFn:function(Se,ze){var _e=Me.selectAll("g.traces").filter(function(){var ct=this.getBoundingClientRect();return ze.clientX>=ct.left&&ze.clientX<=ct.right&&ze.clientY>=ct.top&&ze.clientY<=ct.bottom});_e.size()>0&&D(W,K,_e,Se,ze)}})}}],W)}}function _(W,X,J){var ne=W[0],fe=ne.width,ye=X.entrywidthmode,Me=ne.trace.legendwidth||X.entrywidth;return ye==="fraction"?X._maxWidth*Me:J+(Me||fe)}function D(W,X,J,ne,fe){var ye=J.data()[0][0].trace,Me={event:fe,node:J.node(),curveNumber:ye.index,expandedIndex:ye._expandedIndex,data:W.data,layout:W.layout,frames:W._transitionData._frames,config:W._context,fullData:W._fullData,fullLayout:W._fullLayout};ye._group&&(Me.group=ye._group),i.traceIs(ye,"pie-like")&&(Me.label=J.datum()[0].label);var le=r.triggerHandler(W,"plotly_legendclick",Me);if(ne===1){if(le===!1)return;X._clickTimeout=setTimeout(function(){W._fullLayout&&u(J,W,ne)},W._context.doubleClickDelay)}else if(ne===2){X._clickTimeout&&clearTimeout(X._clickTimeout),W._legendMouseDownTime=0;var ve=r.triggerHandler(W,"plotly_legenddoubleclick",Me);ve!==!1&&le!==!1&&u(J,W,ne)}}function B(W,X,J){var ne=G(J),fe=W.data()[0][0],ye=fe.trace,Me=i.traceIs(ye,"pie-like"),le=!J._inHover&&X._context.edits.legendText&&!Me,ve=J._maxNameLength,H,Y;fe.groupTitle?(H=fe.groupTitle.text,Y=fe.groupTitle.font):(Y=J.font,J.entries?H=fe.text:(H=Me?fe.label:ye.name,ye._meta&&(H=g.templateString(H,ye._meta))));var S=g.ensureSingle(W,"text",ne+"text");S.attr("text-anchor","start").call(l.font,Y).text(le?U(H,ve):H);var E=J.itemwidth+h.itemGap*2;t.positionText(S,E,0),le?S.call(t.makeEditable,{gd:X,text:H}).call(O,W,X,J).on("edit",function(z){this.text(U(z,ve)).call(O,W,X,J);var C=fe.trace._fullInput||{},K={};if(i.hasTransform(C,"groupby")){var P=i.getTransformIndices(C,"groupby"),j=P[P.length-1],ae=g.keyedContainer(C,"transforms["+j+"].styles","target","value.name");ae.set(fe.trace._group,z),K=ae.constructUpdate()}else K.name=z;return C._isShape?i.call("_guiRelayout",X,"shapes["+ye.index+"].name",K.name):i.call("_guiRestyle",X,K,ye.index)}):O(S,W,X,J)}function U(W,X){var J=Math.max(4,X);if(W&&W.trim().length>=J/2)return W;W=W||"";for(var ne=J-W.length;ne>0;ne--)W+=" ";return W}function L(W,X,J){var ne=X._context.doubleClickDelay,fe,ye=1,Me=g.ensureSingle(W,"rect",J+"toggle",function(le){X._context.staticPlot||le.style("cursor","pointer").attr("pointer-events","all"),le.call(n.fill,"rgba(0,0,0,0)")});X._context.staticPlot||(Me.on("mousedown",function(){fe=new Date().getTime(),fe-X._legendMouseDownTime<ne?ye+=1:(ye=1,X._legendMouseDownTime=fe)}),Me.on("mouseup",function(){if(!(X._dragged||X._editing)){var le=X._fullLayout[J];new Date().getTime()-X._legendMouseDownTime>ne&&(ye=Math.max(ye-1,1)),D(X,le,W,ye,o.event)}}))}function O(W,X,J,ne,fe){ne._inHover&&W.attr("data-notex",!0),t.convertToTspans(W,J,function(){R(X,J,ne,fe)})}function R(W,X,J,ne){var fe=W.data()[0][0];if(!J._inHover&&fe&&!fe.trace.showlegend){W.remove();return}var ye=W.select("g[class*=math-group]"),Me=ye.node(),le=G(J);J||(J=X._fullLayout[le]);var ve=J.borderwidth,H;ne===p?H=J.title.font:fe.groupTitle?H=fe.groupTitle.font:H=J.font;var Y=H.size*y,S,E;if(Me){var z=l.bBox(Me);S=z.height,E=z.width,ne===p?l.setTranslate(ye,ve,ve+S*.75):l.setTranslate(ye,0,S*.25)}else{var C="."+le+(ne===p?"title":"")+"text",K=W.select(C),P=t.lineCount(K),j=K.node();if(S=Y*P,E=j?l.bBox(j).width:0,ne===p)J.title.side==="left"&&(E+=h.itemGap*2),t.positionText(K,ve+h.titlePad,ve+Y);else{var ae=h.itemGap*2+J.itemwidth;fe.groupTitle&&(ae=h.itemGap,E-=J.itemwidth),t.positionText(K,ae,-Y*((P-1)/2-.3))}}ne===p?(J._titleWidth=E,J._titleHeight=S):(fe.lineHeight=Y,fe.height=Math.max(S,16)+3,fe.width=E)}function Z(W){var X=0,J=0,ne=W.title.side;return ne&&(ne.indexOf("left")!==-1&&(X=W._titleWidth),ne.indexOf("top")!==-1&&(J=W._titleHeight)),[X,J]}function $(W,X,J,ne){var fe=W._fullLayout,ye=G(ne);ne||(ne=fe[ye]);var Me=fe._size,le=c.isVertical(ne),ve=c.isGrouped(ne),H=ne.entrywidthmode==="fraction",Y=ne.borderwidth,S=2*Y,E=h.itemGap,z=ne.itemwidth+E*2,C=2*(Y+E),K=F(ne),P=ne.y<0||ne.y===0&&K==="top",j=ne.y>1||ne.y===1&&K==="bottom",ae=ne.tracegroupgap,ue={};ne._maxHeight=Math.max(P||j?fe.height/2:Me.h,30);var he=0;ne._width=0,ne._height=0;var Ae=Z(ne);if(le)J.each(function(kt){var At=kt[0].height;l.setTranslate(this,Y+Ae[0],Y+Ae[1]+ne._height+At/2+E),ne._height+=At,ne._width=Math.max(ne._width,kt[0].width)}),he=z+ne._width,ne._width+=E+z+S,ne._height+=C,ve&&(X.each(function(kt,At){l.setTranslate(this,0,At*ne.tracegroupgap)}),ne._height+=(ne._lgroupsLength-1)*ne.tracegroupgap);else{var ke=N(ne),ce=ne.x<0||ne.x===0&&ke==="right",me=ne.x>1||ne.x===1&&ke==="left",pe=j||P,Ee=fe.width/2;ne._maxWidth=Math.max(ce?pe&&ke==="left"?Me.l+Me.w:Ee:me?pe&&ke==="right"?Me.r+Me.w:Ee:Me.w,2*z);var we=0,xe=0;J.each(function(kt){var At=_(kt,ne,z);we=Math.max(we,At),xe+=At}),he=null;var Fe=0;if(ve){var Ke=0,je=0,Je=0;X.each(function(){var kt=0,At=0;o.select(this).selectAll("g.traces").each(function(Te){var Pe=_(Te,ne,z),Ce=Te[0].height;l.setTranslate(this,Ae[0],Ae[1]+Y+E+Ce/2+At),At+=Ce,kt=Math.max(kt,Pe),ue[Te[0].trace.legendgroup]=kt});var Le=kt+E;je>0&&Le+Y+je>ne._maxWidth?(Fe=Math.max(Fe,je),je=0,Je+=Ke+ae,Ke=At):Ke=Math.max(Ke,At),l.setTranslate(this,je,Je),je+=Le}),ne._width=Math.max(Fe,je)+Y,ne._height=Je+Ke+C}else{var ht=J.size(),Tt=xe+S+(ht-1)*E<ne._maxWidth,gt=0,tt=0,Ct=0,rt=0;J.each(function(kt){var At=kt[0].height,Le=_(kt,ne,z),Te=Tt?Le:we;H||(Te+=E),Te+Y+tt-E>=ne._maxWidth&&(Fe=Math.max(Fe,rt),tt=0,Ct+=gt,ne._height+=gt,gt=0),l.setTranslate(this,Ae[0]+Y+tt,Ae[1]+Y+Ct+At/2+E),rt=tt+Le+E,tt+=Te,gt=Math.max(gt,At)}),Tt?(ne._width=tt+S,ne._height=gt+C):(ne._width=Math.max(Fe,rt)+S,ne._height+=gt+C)}}ne._width=Math.ceil(Math.max(ne._width+Ae[0],ne._titleWidth+2*(Y+h.titlePad))),ne._height=Math.ceil(Math.max(ne._height+Ae[1],ne._titleHeight+2*(Y+h.itemGap))),ne._effHeight=Math.min(ne._height,ne._maxHeight);var Mt=W._context.edits,Dt=Mt.legendText||Mt.legendPosition;J.each(function(kt){var At=o.select(this).select("."+ye+"toggle"),Le=kt[0].height,Te=kt[0].trace.legendgroup,Pe=_(kt,ne,z);ve&&Te!==""&&(Pe=ue[Te]);var Ce=Dt?z:he||Pe;!le&&!H&&(Ce+=E/2),l.setRect(At,0,-Le/2,Ce,Le)})}function ie(W,X,J,ne){var fe=W._fullLayout,ye=fe[X],Me=N(ye),le=F(ye),ve=ye.xref==="paper",H=ye.yref==="paper";W._fullLayout._reservedMargin[X]={};var Y=ye.y<.5?"b":"t",S=ye.x<.5?"l":"r",E={r:fe.width-J,l:J+ye._width,b:fe.height-ne,t:ne+ye._effHeight};if(ve&&H)return s.autoMargin(W,X,{x:ye.x,y:ye.y,l:ye._width*d[Me],r:ye._width*T[Me],b:ye._effHeight*T[le],t:ye._effHeight*d[le]});ve?W._fullLayout._reservedMargin[X][Y]=E[Y]:H||ye.orientation==="v"?W._fullLayout._reservedMargin[X][S]=E[S]:W._fullLayout._reservedMargin[X][Y]=E[Y]}function N(W){return g.isRightAnchor(W)?"right":g.isCenterAnchor(W)?"center":"left"}function F(W){return g.isBottomAnchor(W)?"bottom":g.isMiddleAnchor(W)?"middle":"top"}function G(W){return W._id||"legend"}},2424:function(te,I,e){var o=e(3972),g=e(130);te.exports=function(i,r,f){var l=r._inHover,n=g.isGrouped(r),t=g.isReversed(r),u={},h=[],m=!1,y={},d=0,T=0,x,M;function c(W,X,J){if(r.visible!==!1&&!(f&&W!==r._id))if(X===""||!g.isGrouped(r)){var ne="~~i"+d;h.push(ne),u[ne]=[J],d++}else h.indexOf(X)===-1?(h.push(X),m=!0,u[X]=[J]):u[X].push(J)}for(x=0;x<i.length;x++){var p=i[x],v=p[0],b=v.trace,w=b.legend,_=b.legendgroup;if(!(!l&&(!b.visible||!b.showlegend)))if(o.traceIs(b,"pie-like"))for(y[_]||(y[_]={}),M=0;M<p.length;M++){var D=p[M].label;y[_][D]||(c(w,_,{label:D,color:p[M].color,i:p[M].i,trace:b,pts:p[M].pts}),y[_][D]=!0,T=Math.max(T,(D||"").length))}else c(w,_,v),T=Math.max(T,(b.name||"").length)}if(!h.length)return[];var B=!m||!n,U=[];for(x=0;x<h.length;x++){var L=u[h[x]];B?U.push(L[0]):U.push(L)}for(B&&(U=[U]),x=0;x<U.length;x++){var O=1/0;for(M=0;M<U[x].length;M++){var R=U[x][M].trace.legendrank;O>R&&(O=R)}U[x][0]._groupMinRank=O,U[x][0]._preGroupSort=x}var Z=function(W,X){return W[0]._groupMinRank-X[0]._groupMinRank||W[0]._preGroupSort-X[0]._preGroupSort},$=function(W,X){return W.trace.legendrank-X.trace.legendrank||W._preSort-X._preSort};for(U.forEach(function(W,X){W[0]._preGroupSort=X}),U.sort(Z),x=0;x<U.length;x++){U[x].forEach(function(W,X){W._preSort=X}),U[x].sort($);var ie=U[x][0].trace,N=null;for(M=0;M<U[x].length;M++){var F=U[x][M].trace.legendgrouptitle;if(F&&F.text){N=F,l&&(F.font=r._groupTitleFont);break}}if(t&&U[x].reverse(),N){var G=!1;for(M=0;M<U[x].length;M++)if(o.traceIs(U[x][M].trace,"pie-like")){G=!0;break}U[x].unshift({i:-1,groupTitle:N,noClick:G,trace:{showlegend:ie.showlegend,legendgroup:ie.legendgroup,visible:r.groupclick==="toggleitem"?!0:ie.visible}})}for(M=0;M<U[x].length;M++)U[x][M]=[U[x][M]]}return r._lgroupsLength=U.length,r._maxNameLength=T,U}},5167:function(te,I,e){var o=e(3972),g=e(1828),s=g.pushUnique,i=!0;te.exports=function(f,l,n){var t=l._fullLayout;if(l._dragged||l._editing)return;var u=t.legend.itemclick,h=t.legend.itemdoubleclick,m=t.legend.groupclick;n===1&&u==="toggle"&&h==="toggleothers"&&i&&l.data&&l._context.showTips&&g.notifier(g._(l,"Double-click on legend to isolate one trace"),"long"),i=!1;var y;if(n===1?y=u:n===2&&(y=h),!y)return;var d=m==="togglegroup",T=t.hiddenlabels?t.hiddenlabels.slice():[],x=f.data()[0][0];if(x.groupTitle&&x.noClick)return;var M=l._fullData,c=(t.shapes||[]).filter(function(Ee){return Ee.showlegend}),p=M.concat(c),v=x.trace;v._isShape&&(v=v._fullInput);var b=v.legendgroup,w,_,D,B,U,L,O={},R=[],Z=[],$=[];function ie(Ee,we){var xe=R.indexOf(Ee),Fe=O.visible;return Fe||(Fe=O.visible=[]),R.indexOf(Ee)===-1&&(R.push(Ee),xe=R.length-1),Fe[xe]=we,xe}var N=(t.shapes||[]).map(function(Ee){return Ee._input}),F=!1;function G(Ee,we){N[Ee].visible=we,F=!0}function W(Ee,we){if(!(x.groupTitle&&!d)){var xe=Ee._fullInput||Ee,Fe=xe._isShape,Ke=xe.index;if(Ke===void 0&&(Ke=xe._index),o.hasTransform(xe,"groupby")){var je=Z[Ke];if(!je){var Je=o.getTransformIndices(xe,"groupby"),ht=Je[Je.length-1];je=g.keyedContainer(xe,"transforms["+ht+"].styles","target","value.visible"),Z[Ke]=je}var Tt=je.get(Ee._group);Tt===void 0&&(Tt=!0),Tt!==!1&&je.set(Ee._group,we),$[Ke]=ie(Ke,xe.visible!==!1)}else{var gt=xe.visible===!1?!1:we;Fe?G(Ke,gt):ie(Ke,gt)}}}var X=v.legend,J=v._fullInput,ne=J&&J._isShape;if(!ne&&o.traceIs(v,"pie-like")){var fe=x.label,ye=T.indexOf(fe);if(y==="toggle")ye===-1?T.push(fe):T.splice(ye,1);else if(y==="toggleothers"){var Me=ye!==-1,le=[];for(w=0;w<l.calcdata.length;w++){var ve=l.calcdata[w];for(_=0;_<ve.length;_++){var H=ve[_],Y=H.label;X===ve[0].trace.legend&&fe!==Y&&(T.indexOf(Y)===-1&&(Me=!0),s(T,Y),le.push(Y))}}if(!Me)for(var S=0;S<le.length;S++){var E=T.indexOf(le[S]);E!==-1&&T.splice(E,1)}}o.call("_guiRelayout",l,"hiddenlabels",T)}else{var z=b&&b.length,C=[],K;if(z)for(w=0;w<p.length;w++)K=p[w],K.visible&&K.legendgroup===b&&C.push(w);if(y==="toggle"){var P;switch(v.visible){case!0:P="legendonly";break;case!1:P=!1;break;case"legendonly":P=!0;break}if(z)if(d)for(w=0;w<p.length;w++){var j=p[w];j.visible!==!1&&j.legendgroup===b&&W(j,P)}else W(v,P);else W(v,P)}else if(y==="toggleothers"){var ae,ue,he,Ae,ke,ce=!0;for(w=0;w<p.length;w++)if(ke=p[w],ae=ke===v,he=ke.showlegend!==!0,!(ae||he)&&(ue=z&&ke.legendgroup===b,!ue&&ke.legend===X&&ke.visible===!0&&!o.traceIs(ke,"notLegendIsolatable"))){ce=!1;break}for(w=0;w<p.length;w++)if(ke=p[w],!(ke.visible===!1||ke.legend!==X)&&!o.traceIs(ke,"notLegendIsolatable"))switch(v.visible){case"legendonly":W(ke,!0);break;case!0:Ae=ce?!0:"legendonly",ae=ke===v,he=ke.showlegend!==!0&&!ke.legendgroup,ue=ae||z&&ke.legendgroup===b,W(ke,ue||he?!0:Ae);break}}for(w=0;w<Z.length;w++)if(D=Z[w],!!D){var me=D.constructUpdate(),pe=Object.keys(me);for(_=0;_<pe.length;_++)B=pe[_],L=O[B]=O[B]||[],L[$[w]]=me[B]}for(U=Object.keys(O),w=0;w<U.length;w++)for(B=U[w],_=0;_<R.length;_++)O[B].hasOwnProperty(_)||(O[B][_]=void 0);F?o.call("_guiUpdate",l,O,{shapes:N},R):o.call("_guiRestyle",l,O,R)}}},130:function(te,I){I.isGrouped=function(o){return(o.traceorder||"").indexOf("grouped")!==-1},I.isVertical=function(o){return o.orientation!=="h"},I.isReversed=function(o){return(o.traceorder||"").indexOf("reversed")!==-1}},2199:function(te,I,e){te.exports={moduleType:"component",name:"legend",layoutAttributes:e(3030),supplyLayoutDefaults:e(9017),draw:e(3969),style:e(3630)}},3630:function(te,I,e){var o=e(9898),g=e(3972),s=e(1828),i=s.strTranslate,r=e(1424),f=e(7901),l=e(2869).extractOpts,n=e(4098),t=e(3463),u=e(3581).castOption,h=e(4928),m=12,y=5,d=2,T=10,x=5;te.exports=function(b,w,_){var D=w._fullLayout;_||(_=D.legend);var B=_.itemsizing==="constant",U=_.itemwidth,L=(U+h.itemGap*2)/2,O=i(L,0),R=function(le,ve,H,Y){var S;if(le+1)S=le;else if(ve&&ve.width>0)S=ve.width;else return 0;return B?Y:Math.min(S,H)};b.each(function(le){var ve=o.select(this),H=s.ensureSingle(ve,"g","layers");H.style("opacity",le[0].trace.opacity);var Y=_.valign,S=le[0].lineHeight,E=le[0].height;if(Y==="middle"||!S||!E)H.attr("transform",null);else{var z={top:1,bottom:-1}[Y],C=z*(.5*(S-E+3));H.attr("transform",i(0,C))}var K=H.selectAll("g.legendfill").data([le]);K.enter().append("g").classed("legendfill",!0);var P=H.selectAll("g.legendlines").data([le]);P.enter().append("g").classed("legendlines",!0);var j=H.selectAll("g.legendsymbols").data([le]);j.enter().append("g").classed("legendsymbols",!0),j.selectAll("g.legendpoints").data([le]).enter().append("g").classed("legendpoints",!0)}).each(Me).each(ie).each(F).each(N).each(W).each(fe).each(ne).each(Z).each($).each(X).each(J);function Z(le){var ve=c(le),H=ve.showFill,Y=ve.showLine,S=ve.showGradientLine,E=ve.showGradientFill,z=ve.anyFill,C=ve.anyLine,K=le[0],P=K.trace,j,ae,ue=l(P),he=ue.colorscale,Ae=ue.reversescale,ke=function(Fe){if(Fe.size())if(H)r.fillGroupStyle(Fe,w);else{var Ke="legendfill-"+P.uid;r.gradient(Fe,w,Ke,M(Ae),he,"fill")}},ce=function(Fe){if(Fe.size()){var Ke="legendline-"+P.uid;r.lineGroupStyle(Fe),r.gradient(Fe,w,Ke,M(Ae),he,"stroke")}},me=n.hasMarkers(P)||!z?"M5,0":C?"M5,-2":"M5,-3",pe=o.select(this),Ee=pe.select(".legendfill").selectAll("path").data(H||E?[le]:[]);if(Ee.enter().append("path").classed("js-fill",!0),Ee.exit().remove(),Ee.attr("d",me+"h"+U+"v6h-"+U+"z").call(ke),Y||S){var we=R(void 0,P.line,T,y);ae=s.minExtend(P,{line:{width:we}}),j=[s.minExtend(K,{trace:ae})]}var xe=pe.select(".legendlines").selectAll("path").data(Y||S?[j]:[]);xe.enter().append("path").classed("js-line",!0),xe.exit().remove(),xe.attr("d",me+(S?"l"+U+",0.0001":"h"+U)).call(Y?r.lineGroupStyle:ce)}function $(le){var ve=c(le),H=ve.anyFill,Y=ve.anyLine,S=ve.showLine,E=ve.showMarker,z=le[0],C=z.trace,K=!E&&!Y&&!H&&n.hasText(C),P,j;function ae(Ee,we,xe,Fe){var Ke=s.nestedProperty(C,Ee).get(),je=s.isArrayOrTypedArray(Ke)&&we?we(Ke):Ke;if(B&&je&&Fe!==void 0&&(je=Fe),xe){if(je<xe[0])return xe[0];if(je>xe[1])return xe[1]}return je}function ue(Ee){return z._distinct&&z.index&&Ee[z.index]?Ee[z.index]:Ee[0]}if(E||K||S){var he={},Ae={};if(E){he.mc=ae("marker.color",ue),he.mx=ae("marker.symbol",ue),he.mo=ae("marker.opacity",s.mean,[.2,1]),he.mlc=ae("marker.line.color",ue),he.mlw=ae("marker.line.width",s.mean,[0,5],d),Ae.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var ke=ae("marker.size",s.mean,[2,16],m);he.ms=ke,Ae.marker.size=ke}S&&(Ae.line={width:ae("line.width",ue,[0,10],y)}),K&&(he.tx="Aa",he.tp=ae("textposition",ue),he.ts=10,he.tc=ae("textfont.color",ue),he.tf=ae("textfont.family",ue)),P=[s.minExtend(z,he)],j=s.minExtend(C,Ae),j.selectedpoints=null,j.texttemplate=null}var ce=o.select(this).select("g.legendpoints"),me=ce.selectAll("path.scatterpts").data(E?P:[]);me.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",O),me.exit().remove(),me.call(r.pointStyle,j,w),E&&(P[0].mrc=3);var pe=ce.selectAll("g.pointtext").data(K?P:[]);pe.enter().append("g").classed("pointtext",!0).append("text").attr("transform",O),pe.exit().remove(),pe.selectAll("text").call(r.textPointStyle,j,w)}function ie(le){var ve=le[0].trace,H=ve.type==="waterfall";if(le[0]._distinct&&H){var Y=le[0].trace[le[0].dir].marker;return le[0].mc=Y.color,le[0].mlw=Y.line.width,le[0].mlc=Y.line.color,G(le,this,"waterfall")}var S=[];ve.visible&&H&&(S=le[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var E=o.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(S);E.enter().append("path").classed("legendwaterfall",!0).attr("transform",O).style("stroke-miterlimit",1),E.exit().remove(),E.each(function(z){var C=o.select(this),K=ve[z[0]].marker,P=R(void 0,K.line,x,d);C.attr("d",z[1]).style("stroke-width",P+"px").call(f.fill,K.color),P&&C.call(f.stroke,K.line.color)})}function N(le){G(le,this)}function F(le){G(le,this,"funnel")}function G(le,ve,H){var Y=le[0].trace,S=Y.marker||{},E=S.line||{},z=H?Y.visible&&Y.type===H:g.traceIs(Y,"bar"),C=o.select(ve).select("g.legendpoints").selectAll("path.legend"+H).data(z?[le]:[]);C.enter().append("path").classed("legend"+H,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",O),C.exit().remove(),C.each(function(K){var P=o.select(this),j=K[0],ae=R(j.mlw,S.line,x,d);P.style("stroke-width",ae+"px");var ue=j.mcc;if(!_._inHover&&"mc"in j){var he=l(S),Ae=he.mid;Ae===void 0&&(Ae=(he.max+he.min)/2),ue=r.tryColorscale(S,"")(Ae)}var ke=ue||j.mc||S.color,ce=S.pattern,me=ce&&r.getPatternAttr(ce.shape,0,"");if(me){var pe=r.getPatternAttr(ce.bgcolor,0,null),Ee=r.getPatternAttr(ce.fgcolor,0,null),we=ce.fgopacity,xe=p(ce.size,8,10),Fe=p(ce.solidity,.5,1),Ke="legend-"+Y.uid;P.call(r.pattern,"legend",w,Ke,me,xe,Fe,ue,ce.fillmode,pe,Ee,we)}else P.call(f.fill,ke);ae&&f.stroke(P,j.mlc||E.color)})}function W(le){var ve=le[0].trace,H=o.select(this).select("g.legendpoints").selectAll("path.legendbox").data(ve.visible&&g.traceIs(ve,"box-violin")?[le]:[]);H.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",O),H.exit().remove(),H.each(function(){var Y=o.select(this);if((ve.boxpoints==="all"||ve.points==="all")&&f.opacity(ve.fillcolor)===0&&f.opacity((ve.line||{}).color)===0){var S=s.minExtend(ve,{marker:{size:B?m:s.constrain(ve.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});H.call(r.pointStyle,S,w)}else{var E=R(void 0,ve.line,x,d);Y.style("stroke-width",E+"px").call(f.fill,ve.fillcolor),E&&f.stroke(Y,ve.line.color)}})}function X(le){var ve=le[0].trace,H=o.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(ve.visible&&ve.type==="candlestick"?[le,le]:[]);H.enter().append("path").classed("legendcandle",!0).attr("d",function(Y,S){return S?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",O).style("stroke-miterlimit",1),H.exit().remove(),H.each(function(Y,S){var E=o.select(this),z=ve[S?"increasing":"decreasing"],C=R(void 0,z.line,x,d);E.style("stroke-width",C+"px").call(f.fill,z.fillcolor),C&&f.stroke(E,z.line.color)})}function J(le){var ve=le[0].trace,H=o.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(ve.visible&&ve.type==="ohlc"?[le,le]:[]);H.enter().append("path").classed("legendohlc",!0).attr("d",function(Y,S){return S?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",O).style("stroke-miterlimit",1),H.exit().remove(),H.each(function(Y,S){var E=o.select(this),z=ve[S?"increasing":"decreasing"],C=R(void 0,z.line,x,d);E.style("fill","none").call(r.dashLine,z.line.dash,C),C&&f.stroke(E,z.line.color)})}function ne(le){ye(le,this,"pie")}function fe(le){ye(le,this,"funnelarea")}function ye(le,ve,H){var Y=le[0],S=Y.trace,E=H?S.visible&&S.type===H:g.traceIs(S,H),z=o.select(ve).select("g.legendpoints").selectAll("path.legend"+H).data(E?[le]:[]);if(z.enter().append("path").classed("legend"+H,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",O),z.exit().remove(),z.size()){var C=S.marker||{},K=R(u(C.line.width,Y.pts),C.line,x,d),P="pieLike",j=s.minExtend(S,{marker:{line:{width:K}}},P),ae=s.minExtend(Y,{trace:j},P);t(z,ae,j,w)}}function Me(le){var ve=le[0].trace,H,Y=[];if(ve.visible)switch(ve.type){case"histogram2d":case"heatmap":Y=[["M-15,-2V4H15V-2Z"]],H=!0;break;case"choropleth":case"choroplethmapbox":Y=[["M-6,-6V6H6V-6Z"]],H=!0;break;case"densitymapbox":Y=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],H="radial";break;case"cone":Y=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],H=!1;break;case"streamtube":Y=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],H=!1;break;case"surface":Y=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],H=!0;break;case"mesh3d":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],H=!1;break;case"volume":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],H=!0;break;case"isosurface":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],H=!1;break}var S=o.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(Y);S.enter().append("path").classed("legend3dandfriends",!0).attr("transform",O).style("stroke-miterlimit",1),S.exit().remove(),S.each(function(E,z){var C=o.select(this),K=l(ve),P=K.colorscale,j=K.reversescale,ae=function(ke){if(ke.size()){var ce="legendfill-"+ve.uid;r.gradient(ke,w,ce,M(j,H==="radial"),P,"fill")}},ue;if(P){if(!H){var Ae=P.length;ue=z===0?P[j?Ae-1:0][1]:z===1?P[j?0:Ae-1][1]:P[Math.floor((Ae-1)/2)][1]}}else{var he=ve.vertexcolor||ve.facecolor||ve.color;ue=s.isArrayOrTypedArray(he)?he[z]||he[0]:he}C.attr("d",E[0]),ue?C.call(f.fill,ue):C.call(ae)})}};function M(v,b){var w=b?"radial":"horizontal";return w+(v?"":"reversed")}function c(v){var b=v[0].trace,w=b.contours,_=n.hasLines(b),D=n.hasMarkers(b),B=b.visible&&b.fill&&b.fill!=="none",U=!1,L=!1;if(w){var O=w.coloring;O==="lines"?U=!0:_=O==="none"||O==="heatmap"||w.showlines,w.type==="constraint"?B=w._operation!=="=":(O==="fill"||O==="heatmap")&&(L=!0)}return{showMarker:D,showLine:_,showFill:B,showGradientLine:U,showGradientFill:L,anyLine:_||U,anyFill:B||L}}function p(v,b,w){return v&&s.isArrayOrTypedArray(v)?b:v>w?w:v}},2068:function(te,I,e){e(3348),te.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},6023:function(te,I,e){var o=e(3972),g=e(4875),s=e(1675),i=e(4255),r=e(4031).eraseActiveShape,f=e(1828),l=f._,n=te.exports={};n.toImage={name:"toImage",title:function(v){var b=v._context.toImageButtonOptions||{},w=b.format||"png";return w==="png"?l(v,"Download plot as a png"):l(v,"Download plot")},icon:i.camera,click:function(v){var b=v._context.toImageButtonOptions,w={format:b.format||"png"};f.notifier(l(v,"Taking snapshot - this may take a few seconds"),"long"),w.format!=="svg"&&f.isIE()&&(f.notifier(l(v,"IE only supports svg.  Changing format to svg."),"long"),w.format="svg"),["filename","width","height","scale"].forEach(function(_){_ in b&&(w[_]=b[_])}),o.call("downloadImage",v,w).then(function(_){f.notifier(l(v,"Snapshot succeeded")+" - "+_,"long")}).catch(function(){f.notifier(l(v,"Sorry, there was a problem downloading your snapshot!"),"long")})}},n.sendDataToCloud={name:"sendDataToCloud",title:function(v){return l(v,"Edit in Chart Studio")},icon:i.disk,click:function(v){g.sendDataToCloud(v)}},n.editInChartStudio={name:"editInChartStudio",title:function(v){return l(v,"Edit in Chart Studio")},icon:i.pencil,click:function(v){g.sendDataToCloud(v)}},n.zoom2d={name:"zoom2d",_cat:"zoom",title:function(v){return l(v,"Zoom")},attr:"dragmode",val:"zoom",icon:i.zoombox,click:t},n.pan2d={name:"pan2d",_cat:"pan",title:function(v){return l(v,"Pan")},attr:"dragmode",val:"pan",icon:i.pan,click:t},n.select2d={name:"select2d",_cat:"select",title:function(v){return l(v,"Box Select")},attr:"dragmode",val:"select",icon:i.selectbox,click:t},n.lasso2d={name:"lasso2d",_cat:"lasso",title:function(v){return l(v,"Lasso Select")},attr:"dragmode",val:"lasso",icon:i.lasso,click:t},n.drawclosedpath={name:"drawclosedpath",title:function(v){return l(v,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:i.drawclosedpath,click:t},n.drawopenpath={name:"drawopenpath",title:function(v){return l(v,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:i.drawopenpath,click:t},n.drawline={name:"drawline",title:function(v){return l(v,"Draw line")},attr:"dragmode",val:"drawline",icon:i.drawline,click:t},n.drawrect={name:"drawrect",title:function(v){return l(v,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:i.drawrect,click:t},n.drawcircle={name:"drawcircle",title:function(v){return l(v,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:i.drawcircle,click:t},n.eraseshape={name:"eraseshape",title:function(v){return l(v,"Erase active shape")},icon:i.eraseshape,click:r},n.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(v){return l(v,"Zoom in")},attr:"zoom",val:"in",icon:i.zoom_plus,click:t},n.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(v){return l(v,"Zoom out")},attr:"zoom",val:"out",icon:i.zoom_minus,click:t},n.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(v){return l(v,"Autoscale")},attr:"zoom",val:"auto",icon:i.autoscale,click:t},n.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(v){return l(v,"Reset axes")},attr:"zoom",val:"reset",icon:i.home,click:t},n.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(v){return l(v,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:i.tooltip_basic,gravity:"ne",click:t},n.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(v){return l(v,"Compare data on hover")},attr:"hovermode",val:function(v){return v._fullLayout._isHoriz?"y":"x"},icon:i.tooltip_compare,gravity:"ne",click:t};function t(v,b){var w=b.currentTarget,_=w.getAttribute("data-attr"),D=w.getAttribute("data-val")||!0,B=v._fullLayout,U={},L=s.list(v,null,!0),O=B._cartesianSpikesEnabled,R,Z;if(_==="zoom"){var $=D==="in"?.5:2,ie=(1+$)/2,N=(1-$)/2,F;for(Z=0;Z<L.length;Z++)if(R=L[Z],!R.fixedrange)if(F=R._name,D==="auto")U[F+".autorange"]=!0;else if(D==="reset")R._rangeInitial0===void 0&&R._rangeInitial1===void 0?U[F+".autorange"]=!0:R._rangeInitial0===void 0?(U[F+".autorange"]=R._autorangeInitial,U[F+".range"]=[null,R._rangeInitial1]):R._rangeInitial1===void 0?(U[F+".range"]=[R._rangeInitial0,null],U[F+".autorange"]=R._autorangeInitial):U[F+".range"]=[R._rangeInitial0,R._rangeInitial1],R._showSpikeInitial!==void 0&&(U[F+".showspikes"]=R._showSpikeInitial,O==="on"&&!R._showSpikeInitial&&(O="off"));else{var G=[R.r2l(R.range[0]),R.r2l(R.range[1])],W=[ie*G[0]+N*G[1],ie*G[1]+N*G[0]];U[F+".range[0]"]=R.l2r(W[0]),U[F+".range[1]"]=R.l2r(W[1])}}else _==="hovermode"&&(D==="x"||D==="y")&&(D=B._isHoriz?"y":"x",w.setAttribute("data-val",D)),U[_]=D;B._cartesianSpikesEnabled=O,o.call("_guiRelayout",v,U)}n.zoom3d={name:"zoom3d",_cat:"zoom",title:function(v){return l(v,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:i.zoombox,click:u},n.pan3d={name:"pan3d",_cat:"pan",title:function(v){return l(v,"Pan")},attr:"scene.dragmode",val:"pan",icon:i.pan,click:u},n.orbitRotation={name:"orbitRotation",title:function(v){return l(v,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:i["3d_rotate"],click:u},n.tableRotation={name:"tableRotation",title:function(v){return l(v,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:i["z-axis"],click:u};function u(v,b){for(var w=b.currentTarget,_=w.getAttribute("data-attr"),D=w.getAttribute("data-val")||!0,B=v._fullLayout._subplots.gl3d||[],U={},L=_.split("."),O=0;O<B.length;O++)U[B[O]+"."+L[1]]=D;var R=D==="pan"?D:"zoom";U.dragmode=R,o.call("_guiRelayout",v,U)}n.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(v){return l(v,"Reset camera to default")},attr:"resetDefault",icon:i.home,click:h},n.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(v){return l(v,"Reset camera to last save")},attr:"resetLastSave",icon:i.movie,click:h};function h(v,b){for(var w=b.currentTarget,_=w.getAttribute("data-attr"),D=_==="resetLastSave",B=_==="resetDefault",U=v._fullLayout,L=U._subplots.gl3d||[],O={},R=0;R<L.length;R++){var Z=L[R],$=Z+".camera",ie=Z+".aspectratio",N=Z+".aspectmode",F=U[Z]._scene,G;D?(O[$+".up"]=F.viewInitial.up,O[$+".eye"]=F.viewInitial.eye,O[$+".center"]=F.viewInitial.center,G=!0):B&&(O[$+".up"]=null,O[$+".eye"]=null,O[$+".center"]=null,G=!0),G&&(O[ie+".x"]=F.viewInitial.aspectratio.x,O[ie+".y"]=F.viewInitial.aspectratio.y,O[ie+".z"]=F.viewInitial.aspectratio.z,O[N]=F.viewInitial.aspectmode)}o.call("_guiRelayout",v,O)}n.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(v){return l(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:y};function m(v,b){var w=b.currentTarget,_=w._previousVal,D=v._fullLayout,B=D._subplots.gl3d||[],U=["xaxis","yaxis","zaxis"],L={},O={};if(_)O=_,w._previousVal=null;else{for(var R=0;R<B.length;R++){var Z=B[R],$=D[Z],ie=Z+".hovermode";L[ie]=$.hovermode,O[ie]=!1;for(var N=0;N<3;N++){var F=U[N],G=Z+"."+F+".showspikes";O[G]=!1,L[G]=$[F].showspikes}}w._previousVal=L}return O}function y(v,b){var w=m(v,b);o.call("_guiRelayout",v,w)}n.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(v){return l(v,"Zoom in")},attr:"zoom",val:"in",icon:i.zoom_plus,click:d},n.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(v){return l(v,"Zoom out")},attr:"zoom",val:"out",icon:i.zoom_minus,click:d},n.resetGeo={name:"resetGeo",_cat:"reset",title:function(v){return l(v,"Reset")},attr:"reset",val:null,icon:i.autoscale,click:d},n.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(v){return l(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:x};function d(v,b){for(var w=b.currentTarget,_=w.getAttribute("data-attr"),D=w.getAttribute("data-val")||!0,B=v._fullLayout,U=B._subplots.geo||[],L=0;L<U.length;L++){var O=U[L],R=B[O];if(_==="zoom"){var Z=R.projection.scale,$=D==="in"?2*Z:.5*Z;o.call("_guiRelayout",v,O+".projection.scale",$)}}_==="reset"&&p(v,"geo")}n.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(v){return l(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:x},n.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(v){return l(v,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:i.tooltip_basic,gravity:"ne",click:x};function T(v){var b=v._fullLayout;return b.hovermode?!1:b._has("cartesian")?b._isHoriz?"y":"x":"closest"}function x(v){var b=T(v);o.call("_guiRelayout",v,"hovermode",b)}n.resetViewSankey={name:"resetSankeyGroup",title:function(v){return l(v,"Reset view")},icon:i.home,click:function(v){for(var b={"node.groups":[],"node.x":[],"node.y":[]},w=0;w<v._fullData.length;w++){var _=v._fullData[w]._viewInitial;b["node.groups"].push(_.node.groups.slice()),b["node.x"].push(_.node.x.slice()),b["node.y"].push(_.node.y.slice())}o.call("restyle",v,b)}},n.toggleHover={name:"toggleHover",title:function(v){return l(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:function(v,b){var w=m(v,b);w.hovermode=T(v),o.call("_guiRelayout",v,w)}},n.resetViews={name:"resetViews",title:function(v){return l(v,"Reset views")},icon:i.home,click:function(v,b){var w=b.currentTarget;w.setAttribute("data-attr","zoom"),w.setAttribute("data-val","reset"),t(v,b),w.setAttribute("data-attr","resetLastSave"),h(v,b),p(v,"geo"),p(v,"mapbox")}},n.toggleSpikelines={name:"toggleSpikelines",title:function(v){return l(v,"Toggle Spike Lines")},icon:i.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(v){var b=v._fullLayout,w=b._cartesianSpikesEnabled;b._cartesianSpikesEnabled=w==="on"?"off":"on",o.call("_guiRelayout",v,M(v))}};function M(v){for(var b=v._fullLayout,w=b._cartesianSpikesEnabled==="on",_=s.list(v,null,!0),D={},B=0;B<_.length;B++){var U=_[B];D[U._name+".showspikes"]=w?!0:U._showSpikeInitial}return D}n.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(v){return l(v,"Reset view")},attr:"reset",icon:i.home,click:function(v){p(v,"mapbox")}},n.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(v){return l(v,"Zoom in")},attr:"zoom",val:"in",icon:i.zoom_plus,click:c},n.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(v){return l(v,"Zoom out")},attr:"zoom",val:"out",icon:i.zoom_minus,click:c};function c(v,b){for(var w=b.currentTarget,_=w.getAttribute("data-val"),D=v._fullLayout,B=D._subplots.mapbox||[],U=1.05,L={},O=0;O<B.length;O++){var R=B[O],Z=D[R].zoom,$=_==="in"?U*Z:Z/U;L[R+".zoom"]=$}o.call("_guiRelayout",v,L)}function p(v,b){for(var w=v._fullLayout,_=w._subplots[b]||[],D={},B=0;B<_.length;B++)for(var U=_[B],L=w[U]._subplot,O=L.viewInitial,R=Object.keys(O),Z=0;Z<R.length;Z++){var $=R[Z];D[U+"."+$]=O[$]}o.call("_guiRelayout",v,D)}},3348:function(te,I,e){var o=e(6023),g=Object.keys(o),s=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],i=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(s),r=[],f=function(l){if(i.indexOf(l._cat||l.name)===-1){var n=l.name,t=(l._cat||l.name).toLowerCase();r.indexOf(n)===-1&&r.push(n),r.indexOf(t)===-1&&r.push(t)}};g.forEach(function(l){f(o[l])}),r.sort(),te.exports={DRAW_MODES:s,backButtons:i,foreButtons:r}},5750:function(te,I,e){var o=e(1828),g=e(7901),s=e(4467),i=e(2068);te.exports=function(f,l){var n=f.modebar||{},t=s.newContainer(l,"modebar");function u(m,y){return o.coerce(n,t,i,m,y)}u("orientation"),u("bgcolor",g.addOpacity(l.paper_bgcolor,.5));var h=g.contrast(g.rgb(l.modebar.bgcolor));u("color",g.addOpacity(h,.3)),u("activecolor",g.addOpacity(h,.7)),u("uirevision",l.uirevision),u("add"),u("remove")}},4168:function(te,I,e){te.exports={moduleType:"component",name:"modebar",layoutAttributes:e(2068),supplyLayoutDefaults:e(5750),manage:e(4192)}},4192:function(te,I,e){var o=e(1675),g=e(4098),s=e(3972),i=e(3469).isUnifiedHover,r=e(7676),f=e(6023),l=e(3348).DRAW_MODES,n=e(1828).extendDeep;te.exports=function(x){var M=x._fullLayout,c=x._context,p=M._modeBar;if(!c.displayModeBar&&!c.watermark){p&&(p.destroy(),delete M._modeBar);return}if(!Array.isArray(c.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(c.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var v=c.modeBarButtons,b;Array.isArray(v)&&v.length?b=d(v):!c.displayModeBar&&c.watermark?b=[]:b=t(x),p?p.update(x,b):M._modeBar=r(x,b)};function t(T){var x=T._fullLayout,M=T._fullData,c=T._context;function p(z,C){if(typeof C=="string"){if(C.toLowerCase()===z.toLowerCase())return!0}else{var K=C.name,P=C._cat||C.name;if(K===z||P===z.toLowerCase())return!0}return!1}var v=x.modebar.add;typeof v=="string"&&(v=[v]);var b=x.modebar.remove;typeof b=="string"&&(b=[b]);var w=c.modeBarButtonsToAdd.concat(v.filter(function(z){for(var C=0;C<c.modeBarButtonsToRemove.length;C++)if(p(z,c.modeBarButtonsToRemove[C]))return!1;return!0})),_=c.modeBarButtonsToRemove.concat(b.filter(function(z){for(var C=0;C<c.modeBarButtonsToAdd.length;C++)if(p(z,c.modeBarButtonsToAdd[C]))return!1;return!0})),D=x._has("cartesian"),B=x._has("gl3d"),U=x._has("geo"),L=x._has("pie"),O=x._has("funnelarea"),R=x._has("gl2d"),Z=x._has("ternary"),$=x._has("mapbox"),ie=x._has("polar"),N=x._has("smith"),F=x._has("sankey"),G=u(x),W=i(x.hovermode),X=[];function J(z){if(z.length){for(var C=[],K=0;K<z.length;K++){for(var P=z[K],j=f[P],ae=j.name.toLowerCase(),ue=(j._cat||j.name).toLowerCase(),he=!1,Ae=0;Ae<_.length;Ae++){var ke=_[Ae].toLowerCase();if(ke===ae||ke===ue){he=!0;break}}he||C.push(f[P])}X.push(C)}}var ne=["toImage"];c.showEditInChartStudio?ne.push("editInChartStudio"):c.showSendToCloud&&ne.push("sendDataToCloud"),J(ne);var fe=[],ye=[],Me=[],le=[];(D||R||L||O||Z)+U+B+$+ie+N>1?(ye=["toggleHover"],Me=["resetViews"]):U?(fe=["zoomInGeo","zoomOutGeo"],ye=["hoverClosestGeo"],Me=["resetGeo"]):B?(ye=["hoverClosest3d"],Me=["resetCameraDefault3d","resetCameraLastSave3d"]):$?(fe=["zoomInMapbox","zoomOutMapbox"],ye=["toggleHover"],Me=["resetViewMapbox"]):R?ye=["hoverClosestGl2d"]:L?ye=["hoverClosestPie"]:F?(ye=["hoverClosestCartesian","hoverCompareCartesian"],Me=["resetViewSankey"]):ye=["toggleHover"],D&&(ye=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(m(M)||W)&&(ye=[]),(D||R)&&!G&&(fe=["zoomIn2d","zoomOut2d","autoScale2d"],Me[0]!=="resetViews"&&(Me=["resetScale2d"])),B?le=["zoom3d","pan3d","orbitRotation","tableRotation"]:(D||R)&&!G||Z?le=["zoom2d","pan2d"]:$||U?le=["pan2d"]:ie&&(le=["zoom2d"]),h(M)&&le.push("select2d","lasso2d");var ve=[],H=function(z){ve.indexOf(z)===-1&&ye.indexOf(z)!==-1&&ve.push(z)};if(Array.isArray(w)){for(var Y=[],S=0;S<w.length;S++){var E=w[S];typeof E=="string"?(E=E.toLowerCase(),l.indexOf(E)!==-1?(x._has("mapbox")||x._has("cartesian"))&&le.push(E):E==="togglespikelines"?H("toggleSpikelines"):E==="togglehover"?H("toggleHover"):E==="hovercompare"?H("hoverCompareCartesian"):E==="hoverclosest"?(H("hoverClosestCartesian"),H("hoverClosestGeo"),H("hoverClosest3d"),H("hoverClosestGl2d"),H("hoverClosestPie")):E==="v1hovermode"&&(H("toggleHover"),H("hoverClosestCartesian"),H("hoverCompareCartesian"),H("hoverClosestGeo"),H("hoverClosest3d"),H("hoverClosestGl2d"),H("hoverClosestPie"))):Y.push(E)}w=Y}return J(le),J(fe.concat(Me)),J(ve),y(X,w)}function u(T){for(var x=o.list({_fullLayout:T},null,!0),M=0;M<x.length;M++)if(!x[M].fixedrange)return!1;return!0}function h(T){for(var x=!1,M=0;M<T.length&&!x;M++){var c=T[M];!c._module||!c._module.selectPoints||(s.traceIs(c,"scatter-like")?(g.hasMarkers(c)||g.hasText(c))&&(x=!0):s.traceIs(c,"box-violin")?(c.boxpoints==="all"||c.points==="all")&&(x=!0):x=!0)}return x}function m(T){for(var x=0;x<T.length;x++)if(!s.traceIs(T[x],"noHover"))return!1;return!0}function y(T,x){if(x.length)if(Array.isArray(x[0]))for(var M=0;M<x.length;M++)T.push(x[M]);else T.push(x);return T}function d(T){for(var x=n([],T),M=0;M<x.length;M++)for(var c=x[M],p=0;p<c.length;p++){var v=c[p];if(typeof v=="string")if(f[v]!==void 0)x[M][p]=f[v];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return x}},7676:function(te,I,e){var o=e(9898),g=e(2770),s=e(1828),i=e(4255),r=e(1506).version,f=new DOMParser;function l(h){this.container=h.container,this.element=document.createElement("div"),this.update(h.graphInfo,h.buttons),this.container.appendChild(this.element)}var n=l.prototype;n.update=function(h,m){this.graphInfo=h;var y=this.graphInfo._context,d=this.graphInfo._fullLayout,T="modebar-"+d._uid;this.element.setAttribute("id",T),this._uid=T,this.element.className="modebar",y.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),d.modebar.orientation==="v"&&(this.element.className+=" vertical",m=m.reverse());var x=d.modebar,M=y.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";s.deleteRelatedStyleRule(T),s.addRelatedStyleRule(T,M+"#"+T+" .modebar-group","background-color: "+x.bgcolor),s.addRelatedStyleRule(T,"#"+T+" .modebar-btn .icon path","fill: "+x.color),s.addRelatedStyleRule(T,"#"+T+" .modebar-btn:hover .icon path","fill: "+x.activecolor),s.addRelatedStyleRule(T,"#"+T+" .modebar-btn.active .icon path","fill: "+x.activecolor);var c=!this.hasButtons(m),p=this.hasLogo!==y.displaylogo,v=this.locale!==y.locale;if(this.locale=y.locale,(c||p||v)&&(this.removeAllButtons(),this.updateButtons(m),y.watermark||y.displaylogo)){var b=this.getLogo();y.watermark&&(b.className=b.className+" watermark"),d.modebar.orientation==="v"?this.element.insertBefore(b,this.element.childNodes[0]):this.element.appendChild(b),this.hasLogo=!0}this.updateActiveButton()},n.updateButtons=function(h){var m=this;this.buttons=h,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(y){var d=m.createGroup();y.forEach(function(T){var x=T.name;if(!x)throw new Error("must provide button 'name' in button config");if(m.buttonsNames.indexOf(x)!==-1)throw new Error("button name '"+x+"' is taken");m.buttonsNames.push(x);var M=m.createButton(T);m.buttonElements.push(M),d.appendChild(M)}),m.element.appendChild(d)})},n.createGroup=function(){var h=document.createElement("div");return h.className="modebar-group",h},n.createButton=function(h){var m=this,y=document.createElement("a");y.setAttribute("rel","tooltip"),y.className="modebar-btn";var d=h.title;d===void 0?d=h.name:typeof d=="function"&&(d=d(this.graphInfo)),(d||d===0)&&y.setAttribute("data-title",d),h.attr!==void 0&&y.setAttribute("data-attr",h.attr);var T=h.val;T!==void 0&&(typeof T=="function"&&(T=T(this.graphInfo)),y.setAttribute("data-val",T));var x=h.click;if(typeof x!="function")throw new Error("must provide button 'click' function in button config");y.addEventListener("click",function(c){h.click(m.graphInfo,c),m.updateActiveButton(c.currentTarget)}),y.setAttribute("data-toggle",h.toggle||!1),h.toggle&&o.select(y).classed("active",!0);var M=h.icon;return typeof M=="function"?y.appendChild(M()):y.appendChild(this.createIcon(M||i.question)),y.setAttribute("data-gravity",h.gravity||"n"),y},n.createIcon=function(h){var m=g(h.height)?Number(h.height):h.ascent-h.descent,y="http://www.w3.org/2000/svg",d;if(h.path){d=document.createElementNS(y,"svg"),d.setAttribute("viewBox",[0,0,h.width,m].join(" ")),d.setAttribute("class","icon");var T=document.createElementNS(y,"path");T.setAttribute("d",h.path),h.transform?T.setAttribute("transform",h.transform):h.ascent!==void 0&&T.setAttribute("transform","matrix(1 0 0 -1 0 "+h.ascent+")"),d.appendChild(T)}if(h.svg){var x=f.parseFromString(h.svg,"application/xml");d=x.childNodes[0]}return d.setAttribute("height","1em"),d.setAttribute("width","1em"),d},n.updateActiveButton=function(h){var m=this.graphInfo._fullLayout,y=h!==void 0?h.getAttribute("data-attr"):null;this.buttonElements.forEach(function(d){var T=d.getAttribute("data-val")||!0,x=d.getAttribute("data-attr"),M=d.getAttribute("data-toggle")==="true",c=o.select(d);if(M)x===y&&c.classed("active",!c.classed("active"));else{var p=x===null?x:s.nestedProperty(m,x).get();c.classed("active",p===T)}})},n.hasButtons=function(h){var m=this.buttons;if(!m||h.length!==m.length)return!1;for(var y=0;y<h.length;++y){if(h[y].length!==m[y].length)return!1;for(var d=0;d<h[y].length;d++)if(h[y][d].name!==m[y][d].name)return!1}return!0};function t(h){return h+" (v"+r+")"}n.getLogo=function(){var h=this.createGroup(),m=document.createElement("a");return m.href="https://plotly.com/",m.target="_blank",m.setAttribute("data-title",t(s._(this.graphInfo,"Produced with Plotly.js"))),m.className="modebar-btn plotlyjsicon modebar-btn--logo",m.appendChild(this.createIcon(i.newplotlylogo)),h.appendChild(m),h},n.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},n.destroy=function(){s.removeElement(this.container.querySelector(".modebar")),s.deleteRelatedStyleRule(this._uid)};function u(h,m){var y=h._fullLayout,d=new l({graphInfo:h,container:y._modebardiv.node(),buttons:m});return y._privateplot&&o.select(d.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),d}te.exports=u},7113:function(te,I,e){var o=e(1940),g=e(2399),s=e(4467).templatedArray,i=s("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});te.exports={visible:{valType:"boolean",editType:"plot"},buttons:i,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:o({editType:"plot"}),bgcolor:{valType:"color",dflt:g.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},9573:function(te){te.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},8674:function(te,I,e){var o=e(1828),g=e(7901),s=e(4467),i=e(5501),r=e(7113),f=e(9573);te.exports=function(u,h,m,y,d){var T=u.rangeselector||{},x=s.newContainer(h,"rangeselector");function M(w,_){return o.coerce(T,x,r,w,_)}var c=i(T,x,{name:"buttons",handleItemDefaults:l,calendar:d}),p=M("visible",c.length>0);if(p){var v=n(h,m,y);M("x",v[0]),M("y",v[1]),o.noneOrAll(u,h,["x","y"]),M("xanchor"),M("yanchor"),o.coerceFont(M,"font",m.font);var b=M("bgcolor");M("activecolor",g.contrast(b,f.lightAmount,f.darkAmount)),M("bordercolor"),M("borderwidth")}};function l(t,u,h,m){var y=m.calendar;function d(M,c){return o.coerce(t,u,r.buttons,M,c)}var T=d("visible");if(T){var x=d("step");x!=="all"&&(y&&y!=="gregorian"&&(x==="month"||x==="year")?u.stepmode="backward":d("stepmode"),d("count")),d("label")}}function n(t,u,h){for(var m=h.filter(function(x){return u[x].anchor===t._id}),y=0,d=0;d<m.length;d++){var T=u[m[d]].domain;T&&(y=Math.max(T[1],y))}return[t.domain[0],y+f.yPad]}},1598:function(te,I,e){var o=e(9898),g=e(3972),s=e(4875),i=e(7901),r=e(1424),f=e(1828),l=f.strTranslate,n=e(3893),t=e(1675),u=e(8783),h=u.LINE_SPACING,m=u.FROM_TL,y=u.FROM_BR,d=e(9573),T=e(7917);te.exports=function(B){var U=B._fullLayout,L=U._infolayer.selectAll(".rangeselector").data(x(B),M);L.enter().append("g").classed("rangeselector",!0),L.exit().remove(),L.style({cursor:"pointer","pointer-events":"all"}),L.each(function(O){var R=o.select(this),Z=O,$=Z.rangeselector,ie=R.selectAll("g.button").data(f.filterVisible($.buttons));ie.enter().append("g").classed("button",!0),ie.exit().remove(),ie.each(function(N){var F=o.select(this),G=T(Z,N);N._isActive=c(Z,N,G),F.call(p,$,N),F.call(b,$,N,B),F.on("click",function(){B._dragged||g.call("_guiRelayout",B,G)}),F.on("mouseover",function(){N._isHovered=!0,F.call(p,$,N)}),F.on("mouseout",function(){N._isHovered=!1,F.call(p,$,N)})}),_(B,ie,$,Z._name,R)})};function x(D){for(var B=t.list(D,"x",!0),U=[],L=0;L<B.length;L++){var O=B[L];O.rangeselector&&O.rangeselector.visible&&U.push(O)}return U}function M(D){return D._id}function c(D,B,U){if(B.step==="all")return D.autorange===!0;var L=Object.keys(U);return D.range[0]===U[L[0]]&&D.range[1]===U[L[1]]}function p(D,B,U){var L=f.ensureSingle(D,"rect","selector-rect",function(O){O.attr("shape-rendering","crispEdges")});L.attr({rx:d.rx,ry:d.ry}),L.call(i.stroke,B.bordercolor).call(i.fill,v(B,U)).style("stroke-width",B.borderwidth+"px")}function v(D,B){return B._isActive||B._isHovered?D.activecolor:D.bgcolor}function b(D,B,U,L){function O(Z){n.convertToTspans(Z,L)}var R=f.ensureSingle(D,"text","selector-text",function(Z){Z.attr("text-anchor","middle")});R.call(r.font,B.font).text(w(U,L._fullLayout._meta)).call(O)}function w(D,B){return D.label?B?f.templateString(D.label,B):D.label:D.step==="all"?"all":D.count+D.step.charAt(0)}function _(D,B,U,L,O){var R=0,Z=0,$=U.borderwidth;B.each(function(){var X=o.select(this),J=X.select(".selector-text"),ne=U.font.size*h,fe=Math.max(ne*n.lineCount(J),16)+3;Z=Math.max(Z,fe)}),B.each(function(){var X=o.select(this),J=X.select(".selector-rect"),ne=X.select(".selector-text"),fe=ne.node()&&r.bBox(ne.node()).width,ye=U.font.size*h,Me=n.lineCount(ne),le=Math.max(fe+10,d.minButtonWidth);X.attr("transform",l($+R,$)),J.attr({x:0,y:0,width:le,height:Z}),n.positionText(ne,le/2,Z/2-(Me-1)*ye/2+3),R+=le+5});var ie=D._fullLayout._size,N=ie.l+ie.w*U.x,F=ie.t+ie.h*(1-U.y),G="left";f.isRightAnchor(U)&&(N-=R,G="right"),f.isCenterAnchor(U)&&(N-=R/2,G="center");var W="top";f.isBottomAnchor(U)&&(F-=Z,W="bottom"),f.isMiddleAnchor(U)&&(F-=Z/2,W="middle"),R=Math.ceil(R),Z=Math.ceil(Z),N=Math.round(N),F=Math.round(F),s.autoMargin(D,L+"-range-selector",{x:U.x,y:U.y,l:R*m[G],r:R*y[G],b:Z*y[W],t:Z*m[W]}),O.attr("transform",l(N,F))}},7917:function(te,I,e){var o=e(1041),g=e(1828).titleCase;te.exports=function(r,f){var l=r._name,n={};if(f.step==="all")n[l+".autorange"]=!0;else{var t=s(r,f);n[l+".range[0]"]=t[0],n[l+".range[1]"]=t[1]}return n};function s(i,r){var f=i.range,l=new Date(i.r2l(f[1])),n=r.step,t=o["utc"+g(n)],u=r.count,h;switch(r.stepmode){case"backward":h=i.l2r(+t.offset(l,-u));break;case"todate":var m=t.offset(l,-u);h=i.l2r(+t.ceil(m));break}var y=f[1];return[h,y]}},7218:function(te,I,e){te.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(7113)}}},layoutAttributes:e(7113),handleDefaults:e(8674),draw:e(1598)}},5148:function(te,I,e){var o=e(2399);te.exports={bgcolor:{valType:"color",dflt:o.background,editType:"plot"},bordercolor:{valType:"color",dflt:o.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},8443:function(te,I,e){var o=e(1675).list,g=e(1739).getAutoRange,s=e(3251);te.exports=function(r){for(var f=o(r,"x",!0),l=0;l<f.length;l++){var n=f[l],t=n[s.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=g(r,n))}}},3251:function(te){te.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},6377:function(te,I,e){var o=e(1828),g=e(4467),s=e(1675),i=e(5148),r=e(7850);te.exports=function(l,n,t){var u=l[t],h=n[t];if(!(u.rangeslider||n._requestRangeslider[h._id]))return;o.isPlainObject(u.rangeslider)||(u.rangeslider={});var m=u.rangeslider,y=g.newContainer(h,"rangeslider");function d(L,O){return o.coerce(m,y,i,L,O)}var T,x;function M(L,O){return o.coerce(T,x,r,L,O)}var c=d("visible");if(c){d("bgcolor",n.plot_bgcolor),d("bordercolor"),d("borderwidth"),d("thickness"),d("autorange",!h.isValidRange(m.range)),d("range");var p=n._subplots;if(p)for(var v=p.cartesian.filter(function(L){return L.substr(0,L.indexOf("y"))===s.name2id(t)}).map(function(L){return L.substr(L.indexOf("y"),L.length)}),b=o.simpleMap(v,s.id2name),w=0;w<b.length;w++){var _=b[w];T=m[_]||{},x=g.newContainer(y,_,"yaxis");var D=n[_],B;T.range&&D.isValidRange(T.range)&&(B="fixed");var U=M("rangemode",B);U!=="match"&&M("range",D.range.slice())}y._input=m}}},2413:function(te,I,e){var o=e(9898),g=e(3972),s=e(4875),i=e(1828),r=i.strTranslate,f=e(1424),l=e(7901),n=e(2998),t=e(3612),u=e(1675),h=e(8569),m=e(6964),y=e(3251);te.exports=function(D){for(var B=D._fullLayout,U=B._rangeSliderData,L=0;L<U.length;L++){var O=U[L][y.name];O._clipId=O._id+"-"+B._uid}function R($){return $._name}var Z=B._infolayer.selectAll("g."+y.containerClassName).data(U,R);Z.exit().each(function($){var ie=$[y.name];B._topdefs.select("#"+ie._clipId).remove()}).remove(),U.length!==0&&(Z.enter().append("g").classed(y.containerClassName,!0).attr("pointer-events","all"),Z.each(function($){var ie=o.select(this),N=$[y.name],F=B[u.id2name($.anchor)],G=N[u.id2name($.anchor)];if(N.range){var W=i.simpleMap(N.range,$.r2l),X=i.simpleMap($.range,$.r2l),J;X[0]<X[1]?J=[Math.min(W[0],X[0]),Math.max(W[1],X[1])]:J=[Math.max(W[0],X[0]),Math.min(W[1],X[1])],N.range=N._input.range=i.simpleMap(J,$.l2r)}$.cleanRange("rangeslider.range");var ne=B._size,fe=$.domain;N._width=ne.w*(fe[1]-fe[0]);var ye=Math.round(ne.l+ne.w*fe[0]),Me=Math.round(ne.t+ne.h*(1-$._counterDomainMin)+($.side==="bottom"?$._depth:0)+N._offsetShift+y.extraPad);ie.attr("transform",r(ye,Me)),N._rl=i.simpleMap(N.range,$.r2l);var le=N._rl[0],ve=N._rl[1],H=ve-le;if(N.p2d=function(ue){return ue/N._width*H+le},N.d2p=function(ue){return(ue-le)/H*N._width},$.rangebreaks){var Y=$.locateBreaks(le,ve);if(Y.length){var S,E,z=0;for(S=0;S<Y.length;S++)E=Y[S],z+=E.max-E.min;var C=N._width/(ve-le-z),K=[-C*le];for(S=0;S<Y.length;S++)E=Y[S],K.push(K[K.length-1]-C*(E.max-E.min));for(N.d2p=function(ue){for(var he=K[0],Ae=0;Ae<Y.length;Ae++){var ke=Y[Ae];if(ue>=ke.max)he=K[Ae+1];else if(ue<ke.min)break}return he+C*ue},S=0;S<Y.length;S++)E=Y[S],E.pmin=N.d2p(E.min),E.pmax=N.d2p(E.max);N.p2d=function(ue){for(var he=K[0],Ae=0;Ae<Y.length;Ae++){var ke=Y[Ae];if(ue>=ke.pmax)he=K[Ae+1];else if(ue<ke.pmin)break}return(ue-he)/C}}}if(G.rangemode!=="match"){var P=F.r2l(G.range[0]),j=F.r2l(G.range[1]),ae=j-P;N.d2pOppAxis=function(ue){return(ue-P)/ae*N._height}}ie.call(M,D,$,N).call(c,D,$,N).call(p,D,$,N).call(b,D,$,N,G).call(w,D,$,N).call(_,D,$,N),d(ie,D,$,N),x(ie,D,$,N,F,G),$.side==="bottom"&&n.draw(D,$._id+"title",{propContainer:$,propName:$._name+".title",placeholder:B._dfltTitle.x,attributes:{x:$._offset+$._length/2,y:Me+N._height+N._offsetShift+10+1.5*$.title.font.size,"text-anchor":"middle"}})}))};function d(D,B,U,L){if(B._context.staticPlot)return;var O=D.select("rect."+y.slideBoxClassName).node(),R=D.select("rect."+y.grabAreaMinClassName).node(),Z=D.select("rect."+y.grabAreaMaxClassName).node();function $(){var ie=o.event,N=ie.target,F=ie.clientX||ie.touches[0].clientX,G=F-D.node().getBoundingClientRect().left,W=L.d2p(U._rl[0]),X=L.d2p(U._rl[1]),J=h.coverSlip();this.addEventListener("touchmove",ne),this.addEventListener("touchend",fe),J.addEventListener("mousemove",ne),J.addEventListener("mouseup",fe);function ne(ye){var Me=ye.clientX||ye.touches[0].clientX,le=+Me-F,ve,H,Y;switch(N){case O:if(Y="ew-resize",W+le>U._length||X+le<0)return;ve=W+le,H=X+le;break;case R:if(Y="col-resize",W+le>U._length)return;ve=W+le,H=X;break;case Z:if(Y="col-resize",X+le<0)return;ve=W,H=X+le;break;default:Y="ew-resize",ve=G,H=G+le;break}if(H<ve){var S=H;H=ve,ve=S}L._pixelMin=ve,L._pixelMax=H,m(o.select(J),Y),T(D,B,U,L)}function fe(){J.removeEventListener("mousemove",ne),J.removeEventListener("mouseup",fe),this.removeEventListener("touchmove",ne),this.removeEventListener("touchend",fe),i.removeElement(J)}}D.on("mousedown",$),D.on("touchstart",$)}function T(D,B,U,L){function O($){return U.l2r(i.constrain($,L._rl[0],L._rl[1]))}var R=O(L.p2d(L._pixelMin)),Z=O(L.p2d(L._pixelMax));window.requestAnimationFrame(function(){g.call("_guiRelayout",B,U._name+".range",[R,Z])})}function x(D,B,U,L,O,R){var Z=y.handleWidth/2;function $(ye){return i.constrain(ye,0,L._width)}function ie(ye){return i.constrain(ye,0,L._height)}function N(ye){return i.constrain(ye,-Z,L._width+Z)}var F=$(L.d2p(U._rl[0])),G=$(L.d2p(U._rl[1]));if(D.select("rect."+y.slideBoxClassName).attr("x",F).attr("width",G-F),D.select("rect."+y.maskMinClassName).attr("width",F),D.select("rect."+y.maskMaxClassName).attr("x",G).attr("width",L._width-G),R.rangemode!=="match"){var W=L._height-ie(L.d2pOppAxis(O._rl[1])),X=L._height-ie(L.d2pOppAxis(O._rl[0]));D.select("rect."+y.maskMinOppAxisClassName).attr("x",F).attr("height",W).attr("width",G-F),D.select("rect."+y.maskMaxOppAxisClassName).attr("x",F).attr("y",X).attr("height",L._height-X).attr("width",G-F),D.select("rect."+y.slideBoxClassName).attr("y",W).attr("height",X-W)}var J=.5,ne=Math.round(N(F-Z))-J,fe=Math.round(N(G-Z))+J;D.select("g."+y.grabberMinClassName).attr("transform",r(ne,J)),D.select("g."+y.grabberMaxClassName).attr("transform",r(fe,J))}function M(D,B,U,L){var O=i.ensureSingle(D,"rect",y.bgClassName,function(ie){ie.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),R=L.borderwidth%2===0?L.borderwidth:L.borderwidth-1,Z=-L._offsetShift,$=f.crispRound(B,L.borderwidth);O.attr({width:L._width+R,height:L._height+R,transform:r(Z,Z),"stroke-width":$}).call(l.stroke,L.bordercolor).call(l.fill,L.bgcolor)}function c(D,B,U,L){var O=B._fullLayout,R=i.ensureSingleById(O._topdefs,"clipPath",L._clipId,function(Z){Z.append("rect").attr({x:0,y:0})});R.select("rect").attr({width:L._width,height:L._height})}function p(D,B,U,L){var O=B.calcdata,R=D.selectAll("g."+y.rangePlotClassName).data(U._subplotsWith,i.identity);R.enter().append("g").attr("class",function($){return y.rangePlotClassName+" "+$}).call(f.setClipUrl,L._clipId,B),R.order(),R.exit().remove();var Z;R.each(function($,ie){var N=o.select(this),F=ie===0,G=u.getFromId(B,$,"y"),W=G._name,X=L[W],J={data:[],layout:{xaxis:{type:U.type,domain:[0,1],range:L.range.slice(),calendar:U.calendar},width:L._width,height:L._height,margin:{t:0,b:0,l:0,r:0}},_context:B._context};U.rangebreaks&&(J.layout.xaxis.rangebreaks=U.rangebreaks),J.layout[W]={type:G.type,domain:[0,1],range:X.rangemode!=="match"?X.range.slice():G.range.slice(),calendar:G.calendar},G.rangebreaks&&(J.layout[W].rangebreaks=G.rangebreaks),s.supplyDefaults(J);var ne=J._fullLayout.xaxis,fe=J._fullLayout[W];ne.clearCalc(),ne.setScale(),fe.clearCalc(),fe.setScale();var ye={id:$,plotgroup:N,xaxis:ne,yaxis:fe,isRangePlot:!0};F?Z=ye:(ye.mainplot="xy",ye.mainplotinfo=Z),t.rangePlot(B,ye,v(O,$))})}function v(D,B){for(var U=[],L=0;L<D.length;L++){var O=D[L],R=O[0].trace;R.xaxis+R.yaxis===B&&U.push(O)}return U}function b(D,B,U,L,O){var R=i.ensureSingle(D,"rect",y.maskMinClassName,function(N){N.attr({x:0,y:0,"shape-rendering":"crispEdges"})});R.attr("height",L._height).call(l.fill,y.maskColor);var Z=i.ensureSingle(D,"rect",y.maskMaxClassName,function(N){N.attr({y:0,"shape-rendering":"crispEdges"})});if(Z.attr("height",L._height).call(l.fill,y.maskColor),O.rangemode!=="match"){var $=i.ensureSingle(D,"rect",y.maskMinOppAxisClassName,function(N){N.attr({y:0,"shape-rendering":"crispEdges"})});$.attr("width",L._width).call(l.fill,y.maskOppAxisColor);var ie=i.ensureSingle(D,"rect",y.maskMaxOppAxisClassName,function(N){N.attr({y:0,"shape-rendering":"crispEdges"})});ie.attr("width",L._width).style("border-top",y.maskOppBorder).call(l.fill,y.maskOppAxisColor)}}function w(D,B,U,L){if(!B._context.staticPlot){var O=i.ensureSingle(D,"rect",y.slideBoxClassName,function(R){R.attr({y:0,cursor:y.slideBoxCursor,"shape-rendering":"crispEdges"})});O.attr({height:L._height,fill:y.slideBoxFill})}}function _(D,B,U,L){var O=i.ensureSingle(D,"g",y.grabberMinClassName),R=i.ensureSingle(D,"g",y.grabberMaxClassName),Z={x:0,width:y.handleWidth,rx:y.handleRadius,fill:l.background,stroke:l.defaultLine,"stroke-width":y.handleStrokeWidth,"shape-rendering":"crispEdges"},$={y:Math.round(L._height/4),height:Math.round(L._height/2)},ie=i.ensureSingle(O,"rect",y.handleMinClassName,function(X){X.attr(Z)});ie.attr($);var N=i.ensureSingle(R,"rect",y.handleMaxClassName,function(X){X.attr(Z)});N.attr($);var F={width:y.grabAreaWidth,x:0,y:0,fill:y.grabAreaFill,cursor:B._context.staticPlot?void 0:y.grabAreaCursor},G=i.ensureSingle(O,"rect",y.grabAreaMinClassName,function(X){X.attr(F)});G.attr("height",L._height);var W=i.ensureSingle(R,"rect",y.grabAreaMaxClassName,function(X){X.attr(F)});W.attr("height",L._height)}},549:function(te,I,e){var o=e(1675),g=e(3893),s=e(3251),i=e(8783).LINE_SPACING,r=s.name;function f(l){var n=l&&l[r];return n&&n.visible}I.isVisible=f,I.makeData=function(l){var n=o.list({_fullLayout:l},"x",!0),t=l.margin,u=[];if(!l._has("gl2d"))for(var h=0;h<n.length;h++){var m=n[h];if(f(m)){u.push(m);var y=m[r];y._id=r+m._id,y._height=(l.height-t.b-t.t)*y.thickness,y._offsetShift=Math.floor(y.borderwidth/2)}}l._rangeSliderData=u},I.autoMarginOpts=function(l,n){var t=l._fullLayout,u=n[r],h=n._id.charAt(0),m=0,y=0;if(n.side==="bottom"&&(m=n._depth,n.title.text!==t._dfltTitle[h])){y=1.5*n.title.font.size+10+u._offsetShift;var d=(n.title.text.match(g.BR_TAG_ALL)||[]).length;y+=d*n.title.font.size*i}return{x:0,y:n._counterDomainMin,l:0,r:0,t:0,b:u._height+m+Math.max(t.margin.b,y),pad:s.extraPad+u._offsetShift*2}}},3137:function(te,I,e){var o=e(1828),g=e(5148),s=e(7850),i=e(549);te.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:o.extendFlat({},g,{yaxis:s})}}},layoutAttributes:e(5148),handleDefaults:e(6377),calcAutorange:e(8443),draw:e(2413),isVisible:i.isVisible,makeData:i.makeData,autoMarginOpts:i.autoMarginOpts}},7850:function(te){te.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(te,I,e){var o=e(215),g=e(2196).line,s=e(9952).P,i=e(1426).extendFlat,r=e(962).overrideAll,f=e(4467).templatedArray;e(4695),te.exports=r(f("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:i({},o.xref,{}),yref:i({},o.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:g.color,width:i({},g.width,{min:1,dflt:1}),dash:i({},s,{dflt:"dot"})}}),"arraydraw","from-root")},4122:function(te){te.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},9402:function(te,I,e){var o=e(1828),g=e(9298),s=e(5501),i=e(8389),r=e(477);te.exports=function(n,t){s(n,t,{name:"selections",handleItemDefaults:f});for(var u=t.selections,h=0;h<u.length;h++){var m=u[h];m&&m.path===void 0&&(m.x0===void 0||m.x1===void 0||m.y0===void 0||m.y1===void 0)&&(t.selections[h]=null)}};function f(l,n,t){function u(R,Z){return o.coerce(l,n,i,R,Z)}var h=u("path"),m=h?"path":"rect",y=u("type",m),d=y!=="path";d&&delete n.path,u("opacity"),u("line.color"),u("line.width"),u("line.dash");for(var T=["x","y"],x=0;x<2;x++){var M=T[x],c={_fullLayout:t},p,v,b,w=g.coerceRef(l,n,c,M);if(p=g.getFromId(c,w),p._selectionIndices.push(n._index),b=r.rangeToShapePosition(p),v=r.shapePositionToRange(p),d){var _=M+"0",D=M+"1",B=l[_],U=l[D];l[_]=v(l[_],!0),l[D]=v(l[D],!0),g.coercePosition(n,c,u,w,_),g.coercePosition(n,c,u,w,D);var L=n[_],O=n[D];L!==void 0&&O!==void 0&&(n[_]=b(L),n[D]=b(O),l[_]=B,l[D]=U)}}d&&o.noneOrAll(l,n,["x0","x1","y0","y1"])}},2485:function(te,I,e){var o=e(165).readPaths,g=e(2359),s=e(1873).clearOutlineControllers,i=e(7901),r=e(1424),f=e(4467).arrayEditor,l=e(477),n=l.getPathString;te.exports={draw:t,drawOne:h,activateLastSelection:d};function t(x){var M=x._fullLayout;s(x),M._selectionLayer.selectAll("path").remove();for(var c in M._plots){var p=M._plots[c].selectionLayer;p&&p.selectAll("path").remove()}for(var v=0;v<M.selections.length;v++)h(x,v)}function u(x){return x._context.editSelection}function h(x,M){x._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+M+'"]').remove();var c=l.makeSelectionsOptionsAndPlotinfo(x,M),p=c.options,v=c.plotinfo;if(!p._input)return;b(x._fullLayout._selectionLayer);function b(w){var _=n(x,p),D={"data-index":M,"fill-rule":"evenodd",d:_},B=p.opacity,U="rgba(0,0,0,0)",L=p.line.color||i.contrast(x._fullLayout.plot_bgcolor),O=p.line.width,R=p.line.dash;O||(O=5,R="solid");var Z=u(x)&&x._fullLayout._activeSelectionIndex===M;Z&&(U=x._fullLayout.activeselection.fillcolor,B=x._fullLayout.activeselection.opacity);for(var $=[],ie=1;ie>=0;ie--){var N=w.append("path").attr(D).style("opacity",ie?.1:B).call(i.stroke,L).call(i.fill,U).call(r.dashLine,ie?"solid":R,ie?4+O:O);if(m(N,x,p),Z){var F=f(x.layout,"selections",p);N.style({cursor:"move"});var G={element:N.node(),plotinfo:v,gd:x,editHelpers:F,isActiveSelection:!0},W=o(_,x);g(W,N,G)}else N.style("pointer-events",ie?"all":"none");$[ie]=N}var X=$[0],J=$[1];J.node().addEventListener("click",function(){return y(x,X)})}}function m(x,M,c){var p=c.xref+c.yref;r.setClipUrl(x,"clip"+M._fullLayout._uid+p,M)}function y(x,M){if(u(x)){var c=M.node(),p=+c.getAttribute("data-index");if(p>=0){if(p===x._fullLayout._activeSelectionIndex){T(x);return}x._fullLayout._activeSelectionIndex=p,x._fullLayout._deactivateSelection=T,t(x)}}}function d(x){if(u(x)){var M=x._fullLayout.selections.length-1;x._fullLayout._activeSelectionIndex=M,x._fullLayout._deactivateSelection=T,t(x)}}function T(x){if(u(x)){var M=x._fullLayout._activeSelectionIndex;M>=0&&(s(x),delete x._fullLayout._activeSelectionIndex,t(x))}}},3777:function(te,I,e){var o=e(9952).P,g=e(1426).extendFlat;te.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:g({},o,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},849:function(te){te.exports=function(e,o,g){g("newselection.mode");var s=g("newselection.line.width");s&&(g("newselection.line.color"),g("newselection.line.dash")),g("activeselection.fillcolor"),g("activeselection.opacity")}},5855:function(te,I,e){var o=e(4505),g=o.selectMode,s=e(1873),i=s.clearOutline,r=e(165),f=r.readPaths,l=r.writePaths,n=r.fixDatesForPaths;te.exports=function(u,h){if(u.length){var m=u[0][0];if(m){var y=m.getAttribute("d"),d=h.gd,T=d._fullLayout.newselection,x=h.plotinfo,M=x.xaxis,c=x.yaxis,p=h.isActiveSelection,v=h.dragmode,b=(d.layout||{}).selections||[];if(!g(v)&&p!==void 0){var w=d._fullLayout._activeSelectionIndex;if(w<b.length)switch(d._fullLayout.selections[w].type){case"rect":v="select";break;case"path":v="lasso";break}}var _=f(y,d,x,p),D={xref:M._id,yref:c._id,opacity:T.opacity,line:{color:T.line.color,width:T.line.width,dash:T.line.dash}},B;_.length===1&&(B=_[0]),B&&B.length===5&&v==="select"?(D.type="rect",D.x0=B[0][1],D.y0=B[0][2],D.x1=B[2][1],D.y1=B[2][2]):(D.type="path",M&&c&&n(_,M,c),D.path=l(_),B=null),i(d);for(var U=h.editHelpers,L=(U||{}).modifyItem,O=[],R=0;R<b.length;R++){var Z=d._fullLayout.selections[R];if(!Z){O[R]=Z;continue}if(O[R]=Z._input,p!==void 0&&R===d._fullLayout._activeSelectionIndex){var $=D;switch(Z.type){case"rect":L("x0",$.x0),L("x1",$.x1),L("y0",$.y0),L("y1",$.y1);break;case"path":L("path",$.path);break}}}return p===void 0?(O.push(D),O):U?U.getUpdateObj():{}}}}},5549:function(te,I,e){var o=e(1828).strTranslate;function g(f,l){switch(f.type){case"log":return f.p2d(l);case"date":return f.p2r(l,0,f.calendar);default:return f.p2r(l)}}function s(f,l){switch(f.type){case"log":return f.d2p(l);case"date":return f.r2p(l,0,f.calendar);default:return f.r2p(l)}}function i(f){var l=f._id.charAt(0)==="y"?1:0;return function(n){return g(f,n[l])}}function r(f){return o(f.xaxis._offset,f.yaxis._offset)}te.exports={p2r:g,r2p:s,axValue:i,getTransform:r}},7322:function(te,I,e){var o=e(2485),g=e(3937);te.exports={moduleType:"component",name:"selections",layoutAttributes:e(8389),supplyLayoutDefaults:e(9402),supplyDrawNewSelectionDefaults:e(849),includeBasePlot:e(6325)("selections"),draw:o.draw,drawOne:o.drawOne,reselect:g.reselect,prepSelect:g.prepSelect,clearOutline:g.clearOutline,clearSelectionsCache:g.clearSelectionsCache,selectOnClick:g.selectOnClick}},3937:function(te,I,e){var o=e(2142),g=e(8258),s=e(3972),i=e(1424).dashStyle,r=e(7901),f=e(211),l=e(3469).makeEventData,n=e(4505),t=n.freeMode,u=n.rectMode,h=n.drawMode,m=n.openMode,y=n.selectMode,d=e(477),T=e(1459),x=e(2359),M=e(1873).clearOutline,c=e(165),p=c.handleEllipse,v=c.readPaths,b=e(551).newShapes,w=e(5855),_=e(2485).activateLastSelection,D=e(1828),B=D.sorterAsc,U=e(1082),L=e(9990),O=e(1675).getFromId,R=e(3306),Z=e(1549).redrawReglTraces,$=e(4122),ie=$.MINSELECT,N=U.filter,F=U.tester,G=e(5549),W=G.p2r,X=G.axValue,J=G.getTransform;function ne(Le){return Le.subplot!==void 0}function fe(Le,Te,Pe,Ce,Oe){var oe=!ne(Ce),be=t(Oe),De=u(Oe),Se=m(Oe),ze=h(Oe),_e=y(Oe),ct=Oe==="drawline",ot=Oe==="drawcircle",$e=ct||ot,Ye=Ce.gd,it=Ye._fullLayout,wt=_e&&it.newselection.mode==="immediate"&&oe,Rt=it._zoomlayer,Ht=Ce.element.getBoundingClientRect(),Vt=Ce.plotinfo,Ut=J(Vt),St=Te-Ht.left,Gt=Pe-Ht.top;it._calcInverseTransform(Ye);var Ot=D.apply3DTransform(it._invTransform)(St,Gt);St=Ot[0],Gt=Ot[1];var It=it._invScaleX,Qt=it._invScaleY,Bt=St,xt=Gt,_t="M"+St+","+Gt,Nt=Ce.xaxes[0],Jt=Ce.yaxes[0],rr=Nt._length,lr=Jt._length,Yt=Le.altKey&&!(h(Oe)&&Se),re,q,He,Ie,Ue,Ve,Xe;Y(Le,Ye,Ce),be&&(re=N([[St,Gt]],$.BENDPX));var Ge=Rt.selectAll("path.select-outline-"+Vt.id).data([1]),Be=ze?it.newshape:it.newselection;ze&&(Ce.hasText=Be.label.text||Be.label.texttemplate);var qe=ze&&!Se?Be.fillcolor:"rgba(0,0,0,0)",at=Be.line.color||(oe?r.contrast(Ye._fullLayout.plot_bgcolor):"#7f7f7f");Ge.enter().append("path").attr("class","select-outline select-outline-"+Vt.id).style({opacity:ze?Be.opacity/2:1,"stroke-dasharray":i(Be.line.dash,Be.line.width),"stroke-width":Be.line.width+"px","shape-rendering":"crispEdges"}).call(r.stroke,at).call(r.fill,qe).attr("fill-rule","evenodd").classed("cursor-move",!!ze).attr("transform",Ut).attr("d",_t+"Z");var st=Rt.append("path").attr("class","zoombox-corners").style({fill:r.background,stroke:r.defaultLine,"stroke-width":1}).attr("transform",Ut).attr("d","M0,0Z");if(ze&&Ce.hasText){var nt=Rt.select(".label-temp");nt.empty()&&(nt=Rt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var pt=it._uid+$.SELECTID,dt=[],ut=K(Ye,Ce.xaxes,Ce.yaxes,Ce.subplot);wt&&!Le.shiftKey&&(Ce._clearSubplotSelections=function(){if(oe){var Lt=Nt._id,$t=Jt._id;je(Ye,Lt,$t,ut);for(var Et=(Ye.layout||{}).selections||[],ar=[],Ft=!1,Wt=0;Wt<Et.length;Wt++){var nr=it.selections[Wt];nr.xref!==Lt||nr.yref!==$t?ar.push(Et[Wt]):Ft=!0}Ft&&(Ye._fullLayout._noEmitSelectedAtStart=!0,s.call("_guiRelayout",Ye,{selections:ar}))}});var Pt=Mt(Ce);Ce.moveFn=function(Lt,$t){Ce._clearSubplotSelections&&(Ce._clearSubplotSelections(),Ce._clearSubplotSelections=void 0),Bt=Math.max(0,Math.min(rr,It*Lt+St)),xt=Math.max(0,Math.min(lr,Qt*$t+Gt));var Et=Math.abs(Bt-St),ar=Math.abs(xt-Gt);if(De){var Ft,Wt,nr;if(_e){var ir=it.selectdirection;switch(ir==="any"?ar<Math.min(Et*.6,ie)?Ft="h":Et<Math.min(ar*.6,ie)?Ft="v":Ft="d":Ft=ir,Ft){case"h":Wt=ot?lr/2:0,nr=lr;break;case"v":Wt=ot?rr/2:0,nr=rr;break}}if(ze)switch(it.newshape.drawdirection){case"vertical":Ft="h",Wt=ot?lr/2:0,nr=lr;break;case"horizontal":Ft="v",Wt=ot?rr/2:0,nr=rr;break;case"ortho":Et<ar?(Ft="h",Wt=Gt,nr=xt):(Ft="v",Wt=St,nr=Bt);break;default:Ft="d"}Ft==="h"?(Ie=$e?p(ot,[Bt,Wt],[Bt,nr]):[[St,Wt],[St,nr],[Bt,nr],[Bt,Wt]],Ie.xmin=$e?Bt:Math.min(St,Bt),Ie.xmax=$e?Bt:Math.max(St,Bt),Ie.ymin=Math.min(Wt,nr),Ie.ymax=Math.max(Wt,nr),st.attr("d","M"+Ie.xmin+","+(Gt-ie)+"h-4v"+2*ie+"h4ZM"+(Ie.xmax-1)+","+(Gt-ie)+"h4v"+2*ie+"h-4Z")):Ft==="v"?(Ie=$e?p(ot,[Wt,xt],[nr,xt]):[[Wt,Gt],[Wt,xt],[nr,xt],[nr,Gt]],Ie.xmin=Math.min(Wt,nr),Ie.xmax=Math.max(Wt,nr),Ie.ymin=$e?xt:Math.min(Gt,xt),Ie.ymax=$e?xt:Math.max(Gt,xt),st.attr("d","M"+(St-ie)+","+Ie.ymin+"v-4h"+2*ie+"v4ZM"+(St-ie)+","+(Ie.ymax-1)+"v4h"+2*ie+"v-4Z")):Ft==="d"&&(Ie=$e?p(ot,[St,Gt],[Bt,xt]):[[St,Gt],[St,xt],[Bt,xt],[Bt,Gt]],Ie.xmin=Math.min(St,Bt),Ie.xmax=Math.max(St,Bt),Ie.ymin=Math.min(Gt,xt),Ie.ymax=Math.max(Gt,xt),st.attr("d","M0,0Z"))}else be&&(re.addPt([Bt,xt]),Ie=re.filtered);if(Ce.selectionDefs&&Ce.selectionDefs.length?(He=me(Ce.mergedPolygons,Ie,Yt),Ie.subtract=Yt,q=H(Ce.selectionDefs.concat([Ie]))):(He=[Ie],q=F(Ie)),x(Ee(He,Se),Ge,Ce),_e){var or=xe(Ye,!1),Mr=or.eventData?or.eventData.points.slice():[];or=xe(Ye,!1,q,ut,Ce),q=or.selectionTesters,Xe=or.eventData;var sr;re?sr=re.filtered:sr=tt(He),L.throttle(pt,$.SELECTDELAY,function(){dt=we(q,ut);for(var dr=dt.slice(),Tr=0;Tr<Mr.length;Tr++){for(var vr=Mr[Tr],yr=!1,hr=0;hr<dr.length;hr++)if(dr[hr].curveNumber===vr.curveNumber&&dr[hr].pointNumber===vr.pointNumber){yr=!0;break}yr||dr.push(vr)}dr.length&&(Xe||(Xe={}),Xe.points=dr),Pt(Xe,sr),Dt(Ye,Xe)})}},Ce.clickFn=function(Lt,$t){if(st.remove(),Ye._fullLayout._activeShapeIndex>=0){Ye._fullLayout._deactivateShape(Ye);return}if(!ze){var Et=it.clickmode;L.done(pt).then(function(){if(L.clear(pt),Lt===2){for(Ge.remove(),Ue=0;Ue<ut.length;Ue++)Ve=ut[Ue],Ve._module.selectPoints(Ve,!1);if(ke(Ye,ut),z(Ce),At(Ye),ut.length){var ar=ut[0].xaxis,Ft=ut[0].yaxis;if(ar&&Ft){for(var Wt=[],nr=Ye._fullLayout.selections,ir=0;ir<nr.length;ir++){var or=nr[ir];or&&(or.xref!==ar._id||or.yref!==Ft._id)&&Wt.push(or)}Wt.length<nr.length&&(Ye._fullLayout._noEmitSelectedAtStart=!0,s.call("_guiRelayout",Ye,{selections:Wt}))}}}else Et.indexOf("select")>-1&&ye($t,Ye,Ce.xaxes,Ce.yaxes,Ce.subplot,Ce,Ge),Et==="event"&&kt(Ye,void 0);f.click(Ye,$t,Vt.id)}).catch(D.error)}},Ce.doneFn=function(){st.remove(),L.done(pt).then(function(){L.clear(pt),!wt&&Ie&&Ce.selectionDefs&&(Ie.subtract=Yt,Ce.selectionDefs.push(Ie),Ce.mergedPolygons.length=0,[].push.apply(Ce.mergedPolygons,He)),(wt||ze)&&z(Ce,wt),Ce.doneFnCompleted&&Ce.doneFnCompleted(dt),_e&&kt(Ye,Xe)}).catch(D.error)}}function ye(Le,Te,Pe,Ce,Oe,oe,be){var De=Te._hoverdata,Se=Te._fullLayout,ze=Se.clickmode,_e=ze.indexOf("event")>-1,ct=[],ot,$e,Ye,it,wt,Rt,Ht,Vt,Ut,St;if(j(De)){Y(Le,Te,oe),ot=K(Te,Pe,Ce,Oe);var Gt=ae(De,ot),Ot=Gt.pointNumbers.length>0;if(Ot?he(ot,Gt):Ae(ot)&&(Ht=ue(Gt))){for(be&&be.remove(),St=0;St<ot.length;St++)$e=ot[St],$e._module.selectPoints($e,!1);ke(Te,ot),z(oe),_e&&At(Te)}else{Vt=Le.shiftKey&&(Ht!==void 0?Ht:ue(Gt)),Ye=Me(Gt.pointNumber,Gt.searchInfo,Vt);var It=oe.selectionDefs.concat([Ye]);for(it=H(It),St=0;St<ot.length;St++)if(wt=ot[St]._module.selectPoints(ot[St],it),Rt=pe(wt,ot[St]),ct.length)for(var Qt=0;Qt<Rt.length;Qt++)ct.push(Rt[Qt]);else ct=Rt;if(Ut={points:ct},ke(Te,ot,Ut),Ye&&oe&&oe.selectionDefs.push(Ye),be){var Bt=oe.mergedPolygons,xt=m(oe.dragmode);x(Ee(Bt,xt),be,oe)}_e&&kt(Te,Ut)}}}function Me(Le,Te,Pe){return{pointNumber:Le,searchInfo:Te,subtract:!!Pe}}function le(Le){return"pointNumber"in Le&&"searchInfo"in Le}function ve(Le){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Te,Pe,Ce,Oe){var oe=Le.searchInfo.cd[0].trace._expandedIndex,be=Oe.cd[0].trace._expandedIndex;return be===oe&&Ce===Le.pointNumber},isRect:!1,degenerate:!1,subtract:!!Le.subtract}}function H(Le){if(!Le.length)return;for(var Te=[],Pe=le(Le[0])?0:Le[0][0][0],Ce=Pe,Oe=le(Le[0])?0:Le[0][0][1],oe=Oe,be=0;be<Le.length;be++)if(le(Le[be]))Te.push(ve(Le[be]));else{var De=F(Le[be]);De.subtract=!!Le[be].subtract,Te.push(De),Pe=Math.min(Pe,De.xmin),Ce=Math.max(Ce,De.xmax),Oe=Math.min(Oe,De.ymin),oe=Math.max(oe,De.ymax)}function Se(ze,_e,ct,ot){for(var $e=!1,Ye=0;Ye<Te.length;Ye++)Te[Ye].contains(ze,_e,ct,ot)&&($e=!Te[Ye].subtract);return $e}return{xmin:Pe,xmax:Ce,ymin:Oe,ymax:oe,pts:[],contains:Se,isRect:!1,degenerate:!1}}function Y(Le,Te,Pe){var Ce=Te._fullLayout,Oe=Pe.plotinfo,oe=Pe.dragmode,be=Ce._lastSelectedSubplot&&Ce._lastSelectedSubplot===Oe.id,De=(Le.shiftKey||Le.altKey)&&!(h(oe)&&m(oe));be&&De&&Oe.selection&&Oe.selection.selectionDefs&&!Pe.selectionDefs?(Pe.selectionDefs=Oe.selection.selectionDefs,Pe.mergedPolygons=Oe.selection.mergedPolygons):(!De||!Oe.selection)&&z(Pe),be||(M(Te),Ce._lastSelectedSubplot=Oe.id)}function S(Le){return Le._fullLayout._activeShapeIndex>=0}function E(Le){return Le._fullLayout._activeSelectionIndex>=0}function z(Le,Te){var Pe=Le.dragmode,Ce=Le.plotinfo,Oe=Le.gd;S(Oe)&&Oe._fullLayout._deactivateShape(Oe),E(Oe)&&Oe._fullLayout._deactivateSelection(Oe);var oe=Oe._fullLayout,be=oe._zoomlayer,De=h(Pe),Se=y(Pe);if(De||Se){var ze=be.selectAll(".select-outline-"+Ce.id);if(ze&&Oe._fullLayout._outlining){var _e;De&&(_e=b(ze,Le)),_e&&s.call("_guiRelayout",Oe,{shapes:_e});var ct;Se&&!ne(Le)&&(ct=w(ze,Le)),ct&&(Oe._fullLayout._noEmitSelectedAtStart=!0,s.call("_guiRelayout",Oe,{selections:ct}).then(function(){Te&&_(Oe)})),Oe._fullLayout._outlining=!1}}Ce.selection={},Ce.selection.selectionDefs=Le.selectionDefs=[],Ce.selection.mergedPolygons=Le.mergedPolygons=[]}function C(Le){return Le._id}function K(Le,Te,Pe,Ce){if(!Le.calcdata)return[];var Oe=[],oe=Te.map(C),be=Pe.map(C),De,Se,ze;for(ze=0;ze<Le.calcdata.length;ze++)if(De=Le.calcdata[ze],Se=De[0].trace,!(Se.visible!==!0||!Se._module||!Se._module.selectPoints))if(ne({subplot:Ce})&&(Se.subplot===Ce||Se.geo===Ce))Oe.push(P(Se._module,De,Te[0],Pe[0]));else if(Se.type==="splom"){if(Se._xaxes[oe[0]]&&Se._yaxes[be[0]]){var _e=P(Se._module,De,Te[0],Pe[0]);_e.scene=Le._fullLayout._splomScenes[Se.uid],Oe.push(_e)}}else if(Se.type==="sankey"){var ct=P(Se._module,De,Te[0],Pe[0]);Oe.push(ct)}else{if(oe.indexOf(Se.xaxis)===-1||be.indexOf(Se.yaxis)===-1)continue;Oe.push(P(Se._module,De,O(Le,Se.xaxis),O(Le,Se.yaxis)))}return Oe}function P(Le,Te,Pe,Ce){return{_module:Le,cd:Te,xaxis:Pe,yaxis:Ce}}function j(Le){return Le&&Array.isArray(Le)&&Le[0].hoverOnBox!==!0}function ae(Le,Te){var Pe=Le[0],Ce=-1,Oe=[],oe,be;for(be=0;be<Te.length;be++)if(oe=Te[be],Pe.fullData._expandedIndex===oe.cd[0].trace._expandedIndex){if(Pe.hoverOnBox===!0)break;Pe.pointNumber!==void 0?Ce=Pe.pointNumber:Pe.binNumber!==void 0&&(Ce=Pe.binNumber,Oe=Pe.pointNumbers);break}return{pointNumber:Ce,pointNumbers:Oe,searchInfo:oe}}function ue(Le){var Te=Le.searchInfo.cd[0].trace,Pe=Le.pointNumber,Ce=Le.pointNumbers,Oe=Ce.length>0,oe=Oe?Ce[0]:Pe;return Te.selectedpoints?Te.selectedpoints.indexOf(oe)>-1:!1}function he(Le,Te){var Pe=[],Ce,Oe,oe,be;for(be=0;be<Le.length;be++)Ce=Le[be],Ce.cd[0].trace.selectedpoints&&Ce.cd[0].trace.selectedpoints.length>0&&Pe.push(Ce);if(Pe.length===1&&(oe=Pe[0]===Te.searchInfo,oe&&(Oe=Te.searchInfo.cd[0].trace,Oe.selectedpoints.length===Te.pointNumbers.length))){for(be=0;be<Te.pointNumbers.length;be++)if(Oe.selectedpoints.indexOf(Te.pointNumbers[be])<0)return!1;return!0}return!1}function Ae(Le){var Te=0,Pe,Ce,Oe;for(Oe=0;Oe<Le.length;Oe++)if(Pe=Le[Oe],Ce=Pe.cd[0].trace,Ce.selectedpoints&&(Ce.selectedpoints.length>1||(Te+=Ce.selectedpoints.length,Te>1)))return!1;return Te===1}function ke(Le,Te,Pe){var Ce;for(Ce=0;Ce<Te.length;Ce++){var Oe=Te[Ce].cd[0].trace._fullInput,oe=Le._fullLayout._tracePreGUI[Oe.uid]||{};oe.selectedpoints===void 0&&(oe.selectedpoints=Oe._input.selectedpoints||null)}var be;if(Pe){var De=Pe.points||[];for(Ce=0;Ce<Te.length;Ce++)be=Te[Ce].cd[0].trace,be._input.selectedpoints=be._fullInput.selectedpoints=[],be._fullInput!==be&&(be.selectedpoints=[]);for(var Se=0;Se<De.length;Se++){var ze=De[Se],_e=ze.data,ct=ze.fullData,ot=ze.pointIndex,$e=ze.pointIndices;$e?([].push.apply(_e.selectedpoints,$e),be._fullInput!==be&&[].push.apply(ct.selectedpoints,$e)):(_e.selectedpoints.push(ot),be._fullInput!==be&&ct.selectedpoints.push(ot))}}else for(Ce=0;Ce<Te.length;Ce++)be=Te[Ce].cd[0].trace,delete be.selectedpoints,delete be._input.selectedpoints,be._fullInput!==be&&delete be._fullInput.selectedpoints;ce(Le,Te)}function ce(Le,Te){for(var Pe=!1,Ce=0;Ce<Te.length;Ce++){var Oe=Te[Ce],oe=Oe.cd;s.traceIs(oe[0].trace,"regl")&&(Pe=!0);var be=Oe._module,De=be.styleOnSelect||be.style;De&&(De(Le,oe,oe[0].node3),oe[0].nodeRangePlot3&&De(Le,oe,oe[0].nodeRangePlot3))}Pe&&(R(Le),Z(Le))}function me(Le,Te,Pe){for(var Ce=Pe?o.difference:o.union,Oe=Ce({regions:Le},{regions:[Te]}),oe=Oe.regions.reverse(),be=0;be<oe.length;be++){var De=oe[be];De.subtract=Tt(De,oe.slice(0,be))}return oe}function pe(Le,Te){if(Array.isArray(Le))for(var Pe=Te.cd,Ce=Te.cd[0].trace,Oe=0;Oe<Le.length;Oe++)Le[Oe]=l(Le[Oe],Ce,Pe);return Le}function Ee(Le,Te){for(var Pe=[],Ce=0;Ce<Le.length;Ce++){Pe[Ce]=[];for(var Oe=0;Oe<Le[Ce].length;Oe++){Pe[Ce][Oe]=[],Pe[Ce][Oe][0]=Oe?"L":"M";for(var oe=0;oe<Le[Ce][Oe].length;oe++)Pe[Ce][Oe].push(Le[Ce][Oe][oe])}Te||Pe[Ce].push(["Z",Pe[Ce][0][1],Pe[Ce][0][2]])}return Pe}function we(Le,Te){for(var Pe=[],Ce,Oe,oe=0;oe<Te.length;oe++){var be=Te[oe];Oe=be._module.selectPoints(be,Le),Ce=pe(Oe,be),Pe=Pe.concat(Ce)}return Pe}function xe(Le,Te,Pe,Ce,Oe){var oe=!!Ce,be,De,Se;Oe&&(be=Oe.plotinfo,De=Oe.xaxes[0]._id,Se=Oe.yaxes[0]._id);var ze=[],_e=[],ct=ht(Le),ot=Le._fullLayout;if(be){var $e=ot._zoomlayer,Ye=ot.dragmode,it=h(Ye),wt=y(Ye);if(it||wt){var Rt=O(Le,De,"x"),Ht=O(Le,Se,"y");if(Rt&&Ht){var Vt=$e.selectAll(".select-outline-"+be.id);if(Vt&&Le._fullLayout._outlining&&Vt.length){for(var Ut=Vt[0][0],St=Ut.getAttribute("d"),Gt=v(St,Le,be),Ot=[],It=0;It<Gt.length;It++){for(var Qt=Gt[It],Bt=[],xt=0;xt<Qt.length;xt++)Bt.push([gt(Rt,Qt[xt][1]),gt(Ht,Qt[xt][2])]);Bt.xref=De,Bt.yref=Se,Bt.subtract=Tt(Bt,Ot),Ot.push(Bt)}ct=ct.concat(Ot)}}}}var _t=De&&Se?[De+Se]:ot._subplots.cartesian;Fe(Le);for(var Nt={},Jt=0;Jt<_t.length;Jt++){var rr=_t[Jt],lr=rr.indexOf("y"),Yt=rr.slice(0,lr),re=rr.slice(lr),q=De&&Se?Pe:void 0;if(q=Je(ct,Yt,re,q),q){var He=Ce;if(!oe){var Ie=O(Le,Yt,"x"),Ue=O(Le,re,"y");He=K(Le,[Ie],[Ue],rr);for(var Ve=0;Ve<He.length;Ve++){var Xe=He[Ve],Ge=Xe.cd[0],Be=Ge.trace;if(Xe._module.name==="scattergl"&&!Ge.t.xpx){var qe=Be.x,at=Be.y,st=Be._length;Ge.t.xpx=[],Ge.t.ypx=[];for(var nt=0;nt<st;nt++)Ge.t.xpx[nt]=Ie.c2p(qe[nt]),Ge.t.ypx[nt]=Ue.c2p(at[nt])}Xe._module.name==="splom"&&(Nt[Be.uid]||(Nt[Be.uid]=!0))}}var pt=we(q,He);ze=ze.concat(pt),_e=_e.concat(He)}}var dt={points:ze};ke(Le,_e,dt);var ut=ot.clickmode,Pt=ut.indexOf("event")>-1&&Te;if(!be&&Te){var Lt=ht(Le,!0);if(Lt.length){var $t=Lt[0].xref,Et=Lt[0].yref;if($t&&Et){var ar=tt(Lt),Ft=rt([O(Le,$t,"x"),O(Le,Et,"y")]);Ft(dt,ar)}}Le._fullLayout._noEmitSelectedAtStart?Le._fullLayout._noEmitSelectedAtStart=!1:Pt&&kt(Le,dt),ot._reselect=!1}if(!be&&ot._deselect){var Wt=ot._deselect;De=Wt.xref,Se=Wt.yref,Ke(De,Se,_e)||je(Le,De,Se,Ce),Pt&&(dt.points.length?kt(Le,dt):At(Le)),ot._deselect=!1}return{eventData:dt,selectionTesters:Pe}}function Fe(Le){var Te=Le.calcdata;if(Te)for(var Pe=0;Pe<Te.length;Pe++){var Ce=Te[Pe][0],Oe=Ce.trace,oe=Le._fullLayout._splomScenes;if(oe){var be=oe[Oe.uid];be&&(be.selectBatch=[])}}}function Ke(Le,Te,Pe){for(var Ce=0;Ce<Pe.length;Ce++){var Oe=Pe[Ce];if(Oe.xaxis&&Oe.xaxis._id===Le&&Oe.yaxis&&Oe.yaxis._id===Te)return!0}return!1}function je(Le,Te,Pe,Ce){Ce=K(Le,[O(Le,Te,"x")],[O(Le,Pe,"y")],Te+Pe);for(var Oe=0;Oe<Ce.length;Oe++){var oe=Ce[Oe];oe._module.selectPoints(oe,!1)}ke(Le,Ce)}function Je(Le,Te,Pe,Ce){for(var Oe,oe=0;oe<Le.length;oe++){var be=Le[oe];if(!(Te!==be.xref||Pe!==be.yref))if(Oe){var De=!!be.subtract;Oe=me(Oe,be,De),Ce=H(Oe)}else Oe=[be],Ce=F(be)}return Ce}function ht(Le,Te){for(var Pe=[],Ce=Le._fullLayout,Oe=Ce.selections,oe=Oe.length,be=0;be<oe;be++)if(!(Te&&be!==Ce._activeSelectionIndex)){var De=Oe[be];if(De){var Se=De.xref,ze=De.yref,_e=O(Le,Se,"x"),ct=O(Le,ze,"y"),ot,$e,Ye,it,wt;if(De.type==="rect"){wt=[];var Rt=gt(_e,De.x0),Ht=gt(_e,De.x1),Vt=gt(ct,De.y0),Ut=gt(ct,De.y1);wt=[[Rt,Vt],[Rt,Ut],[Ht,Ut],[Ht,Vt]],ot=Math.min(Rt,Ht),$e=Math.max(Rt,Ht),Ye=Math.min(Vt,Ut),it=Math.max(Vt,Ut),wt.xmin=ot,wt.xmax=$e,wt.ymin=Ye,wt.ymax=it,wt.xref=Se,wt.yref=ze,wt.subtract=!1,wt.isRect=!0,Pe.push(wt)}else if(De.type==="path")for(var St=De.path.split("Z"),Gt=[],Ot=0;Ot<St.length;Ot++){var It=St[Ot];if(It){It+="Z";var Qt=d.extractPathCoords(It,T.paramIsX,"raw"),Bt=d.extractPathCoords(It,T.paramIsY,"raw");ot=1/0,$e=-1/0,Ye=1/0,it=-1/0,wt=[];for(var xt=0;xt<Qt.length;xt++){var _t=gt(_e,Qt[xt]),Nt=gt(ct,Bt[xt]);wt.push([_t,Nt]),ot=Math.min(_t,ot),$e=Math.max(_t,$e),Ye=Math.min(Nt,Ye),it=Math.max(Nt,it)}wt.xmin=ot,wt.xmax=$e,wt.ymin=Ye,wt.ymax=it,wt.xref=Se,wt.yref=ze,wt.subtract=Tt(wt,Gt),Gt.push(wt),Pe.push(wt)}}}}return Pe}function Tt(Le,Te){for(var Pe=!1,Ce=0;Ce<Te.length;Ce++)for(var Oe=Te[Ce],oe=0;oe<Le.length;oe++)if(g(Le[oe],Oe)){Pe=!Pe;break}return Pe}function gt(Le,Te){return Le.type==="date"&&(Te=Te.replace("_"," ")),Le.type==="log"?Le.c2p(Te):Le.r2p(Te,null,Le.calendar)}function tt(Le){for(var Te=Le.length,Pe=[],Ce=0;Ce<Te;Ce++){var Oe=Le[Ce];Pe=Pe.concat(Oe),Pe=Pe.concat([Oe[0]])}return Ct(Pe)}function Ct(Le){return Le.isRect=Le.length===5&&Le[0][0]===Le[4][0]&&Le[0][1]===Le[4][1]&&Le[0][0]===Le[1][0]&&Le[2][0]===Le[3][0]&&Le[0][1]===Le[3][1]&&Le[1][1]===Le[2][1]||Le[0][1]===Le[1][1]&&Le[2][1]===Le[3][1]&&Le[0][0]===Le[3][0]&&Le[1][0]===Le[2][0],Le.isRect&&(Le.xmin=Math.min(Le[0][0],Le[2][0]),Le.xmax=Math.max(Le[0][0],Le[2][0]),Le.ymin=Math.min(Le[0][1],Le[2][1]),Le.ymax=Math.max(Le[0][1],Le[2][1])),Le}function rt(Le){return function(Te,Pe){for(var Ce,Oe,oe=0;oe<Le.length;oe++){var be=Le[oe],De=be._id,Se=De.charAt(0);if(Pe.isRect){Ce||(Ce={});var ze=Pe[Se+"min"],_e=Pe[Se+"max"];ze!==void 0&&_e!==void 0&&(Ce[De]=[W(be,ze),W(be,_e)].sort(B))}else Oe||(Oe={}),Oe[De]=Pe.map(X(be))}Ce&&(Te.range=Ce),Oe&&(Te.lassoPoints=Oe)}}function Mt(Le){var Te=Le.plotinfo;return Te.fillRangeItems||rt(Le.xaxes.concat(Le.yaxes))}function Dt(Le,Te){Le.emit("plotly_selecting",Te)}function kt(Le,Te){Te&&(Te.selections=(Le.layout||{}).selections||[]),Le.emit("plotly_selected",Te)}function At(Le){Le.emit("plotly_deselect",null)}te.exports={reselect:xe,prepSelect:fe,clearOutline:M,clearSelectionsCache:z,selectOnClick:ye}},9827:function(te,I,e){var o=e(215),g=e(1940),s=e(2196).line,i=e(9952).P,r=e(1426).extendFlat,f=e(4467).templatedArray;e(4695);var l=e(9012),n=e(5386).R,t=e(7281);te.exports=f("shape",{visible:r({},l.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:r({},l.legend,{editType:"calc+arraydraw"}),legendgroup:r({},l.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:r({},l.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:g({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:r({},l.legendrank,{editType:"calc+arraydraw"}),legendwidth:r({},l.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:r({},o.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:r({},o.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:r({},s.color,{editType:"arraydraw"}),width:r({},s.width,{editType:"calc+arraydraw"}),dash:r({},i,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:n({},{keys:Object.keys(t)}),font:g({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(te,I,e){var o=e(1828),g=e(9298),s=e(1459),i=e(477);te.exports=function(u){var h=u._fullLayout,m=o.filterVisible(h.shapes);if(!(!m.length||!u._fullData.length))for(var y=0;y<m.length;y++){var d=m[y];d._extremes={};var T,x,M=g.getRefType(d.xref),c=g.getRefType(d.yref);if(d.xref!=="paper"&&M!=="domain"){var p=d.xsizemode==="pixel"?d.xanchor:d.x0,v=d.xsizemode==="pixel"?d.xanchor:d.x1;T=g.getFromId(u,d.xref),x=n(T,p,v,d.path,s.paramIsX),x&&(d._extremes[T._id]=g.findExtremes(T,x,r(d)))}if(d.yref!=="paper"&&c!=="domain"){var b=d.ysizemode==="pixel"?d.yanchor:d.y0,w=d.ysizemode==="pixel"?d.yanchor:d.y1;T=g.getFromId(u,d.yref),x=n(T,b,w,d.path,s.paramIsY),x&&(d._extremes[T._id]=g.findExtremes(T,x,f(d)))}}};function r(t){return l(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function f(t){return l(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function l(t,u,h,m,y,d){var T=t/2,x=d;if(u==="pixel"){var M=y?i.extractPathCoords(y,d?s.paramIsY:s.paramIsX):[h,m],c=o.aggNums(Math.max,null,M),p=o.aggNums(Math.min,null,M),v=p<0?Math.abs(p)+T:T,b=c>0?c+T:T;return{ppad:T,ppadplus:x?v:b,ppadminus:x?b:v}}else return{ppad:T}}function n(t,u,h,m,y){var d=t.type==="category"||t.type==="multicategory"?t.r2c:t.d2c;if(u!==void 0)return[d(u),d(h)];if(m){var T=1/0,x=-1/0,M=m.match(s.segmentRE),c,p,v,b,w;for(t.type==="date"&&(d=i.decodeDate(d)),c=0;c<M.length;c++)p=M[c],v=y[p.charAt(0)].drawn,v!==void 0&&(b=M[c].substr(1).match(s.paramRE),!(!b||b.length<v)&&(w=d(b[v]),w<T&&(T=w),w>x&&(x=w)));if(x>=T)return[T,x]}}},1459:function(te){te.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},4726:function(te,I,e){var o=e(1828),g=e(9298),s=e(5501),i=e(9827),r=e(477);te.exports=function(t,u){s(t,u,{name:"shapes",handleItemDefaults:l})};function f(n,t){return n?"bottom":t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle"}function l(n,t,u){function h(le,ve){return o.coerce(n,t,i,le,ve)}t._isShape=!0;var m=h("visible");if(m){var y=h("showlegend");y&&(h("legend"),h("legendwidth"),h("legendgroup"),h("legendgrouptitle.text"),o.coerceFont(h,"legendgrouptitle.font"),h("legendrank"));var d=h("path"),T=d?"path":"rect",x=h("type",T),M=x!=="path";M&&delete t.path,h("editable"),h("layer"),h("opacity"),h("fillcolor"),h("fillrule");var c=h("line.width");c&&(h("line.color"),h("line.dash"));for(var p=h("xsizemode"),v=h("ysizemode"),b=["x","y"],w=0;w<2;w++){var _=b[w],D=_+"anchor",B=_==="x"?p:v,U={_fullLayout:u},L,O,R,Z=g.coerceRef(n,t,U,_,void 0,"paper"),$=g.getRefType(Z);if($==="range"?(L=g.getFromId(U,Z),L._shapeIndices.push(t._index),R=r.rangeToShapePosition(L),O=r.shapePositionToRange(L)):O=R=o.identity,M){var ie=.25,N=.75,F=_+"0",G=_+"1",W=n[F],X=n[G];n[F]=O(n[F],!0),n[G]=O(n[G],!0),B==="pixel"?(h(F,0),h(G,10)):(g.coercePosition(t,U,h,Z,F,ie),g.coercePosition(t,U,h,Z,G,N)),t[F]=R(t[F]),t[G]=R(t[G]),n[F]=W,n[G]=X}if(B==="pixel"){var J=n[D];n[D]=O(n[D],!0),g.coercePosition(t,U,h,Z,D,.25),t[D]=R(t[D]),n[D]=J}}M&&o.noneOrAll(n,t,["x0","x1","y0","y1"]);var ne=x==="line",fe,ye;if(M&&(fe=h("label.texttemplate")),fe||(ye=h("label.text")),ye||fe){h("label.textangle");var Me=h("label.textposition",ne?"middle":"middle center");h("label.xanchor"),h("label.yanchor",f(ne,Me)),h("label.padding"),o.coerceFont(h,"label.font",u.font)}}}},8100:function(te,I,e){var o=e(1828),g=e(9298),s=e(3893),i=e(1424),r=e(165).readPaths,f=e(477),l=f.getPathString,n=e(7281),t=e(8783).FROM_TL;te.exports=function(y,d,T,x){if(x.selectAll(".shape-label").remove(),!!(T.label.text||T.label.texttemplate)){var M;if(T.label.texttemplate){var c={};if(T.type!=="path"){var p=g.getFromId(y,T.xref),v=g.getFromId(y,T.yref);for(var b in n){var w=n[b](T,p,v);w!==void 0&&(c[b]=w)}}M=o.texttemplateStringForShapes(T.label.texttemplate,{},y._fullLayout._d3locale,c)}else M=T.label.text;var _={"data-index":d},D=T.label.font,B={"data-notex":1},U=x.append("g").attr(_).classed("shape-label",!0),L=U.append("text").attr(B).classed("shape-label-text",!0).text(M),O,R,Z,$;if(T.path){var ie=l(y,T),N=r(ie,y);O=1/0,Z=1/0,R=-1/0,$=-1/0;for(var F=0;F<N.length;F++)for(var G=0;G<N[F].length;G++)for(var W=N[F][G],X=1;X<W.length;X+=2){var J=W[X],ne=W[X+1];O=Math.min(O,J),R=Math.max(R,J),Z=Math.min(Z,ne),$=Math.max($,ne)}}else{var fe=g.getFromId(y,T.xref),ye=g.getRefType(T.xref),Me=g.getFromId(y,T.yref),le=g.getRefType(T.yref),ve=f.getDataToPixel(y,fe,!1,ye),H=f.getDataToPixel(y,Me,!0,le);O=ve(T.x0),R=ve(T.x1),Z=H(T.y0),$=H(T.y1)}var Y=T.label.textangle;Y==="auto"&&(T.type==="line"?Y=u(O,Z,R,$):Y=0),L.call(function(P){return P.call(i.font,D).attr({}),s.convertToTspans(P,y),P});var S=i.bBox(L.node()),E=h(O,Z,R,$,T,Y,S),z=E.textx,C=E.texty,K=E.xanchor;L.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[K],y:C,x:z,transform:"rotate("+Y+","+z+","+C+")"}).call(s.positionText,z,C)}};function u(m,y,d,T){var x,M;return M=Math.abs(d-m),d>=m?x=y-T:x=T-y,-180/Math.PI*Math.atan2(x,M)}function h(m,y,d,T,x,M,c){var p=x.label.textposition,v=x.label.textangle,b=x.label.padding,w=x.type,_=Math.PI/180*M,D=Math.sin(_),B=Math.cos(_),U=x.label.xanchor,L=x.label.yanchor,O,R,Z,$;if(w==="line"){p==="start"?(O=m,R=y):p==="end"?(O=d,R=T):(O=(m+d)/2,R=(y+T)/2),U==="auto"&&(p==="start"?v==="auto"?d>m?U="left":d<m?U="right":U="center":d>m?U="right":d<m?U="left":U="center":p==="end"?v==="auto"?d>m?U="right":d<m?U="left":U="center":d>m?U="left":d<m?U="right":U="center":U="center");var ie={left:1,center:0,right:-1},N={bottom:-1,middle:0,top:1};if(v==="auto"){var F=N[L];Z=-b*D*F,$=b*B*F}else{var G=ie[U],W=N[L];Z=b*G,$=b*W}O=O+Z,R=R+$}else Z=b+3,p.indexOf("right")!==-1?(O=Math.max(m,d)-Z,U==="auto"&&(U="right")):p.indexOf("left")!==-1?(O=Math.min(m,d)+Z,U==="auto"&&(U="left")):(O=(m+d)/2,U==="auto"&&(U="center")),p.indexOf("top")!==-1?R=Math.min(y,T):p.indexOf("bottom")!==-1?R=Math.max(y,T):R=(y+T)/2,$=b,L==="bottom"?R=R-$:L==="top"&&(R=R+$);var X=t[L],J=x.label.font.size,ne=c.height,fe=(ne*X-J)*D,ye=-(ne*X-J)*B;return{textx:O+fe,texty:R+ye,xanchor:U}}},2359:function(te,I,e){var o=e(1828),g=o.strTranslate,s=e(8569),i=e(4505),r=i.drawMode,f=i.selectMode,l=e(3972),n=e(7901),t=e(9995),u=t.i000,h=t.i090,m=t.i180,y=t.i270,d=e(1873),T=d.clearOutlineControllers,x=e(165),M=x.pointsOnRectangle,c=x.pointsOnEllipse,p=x.writePaths,v=e(551).newShapes,b=e(551).createShapeObj,w=e(5855),_=e(8100);te.exports=function L(O,R,Z,$){$||($=0);var ie=Z.gd;function N(){L(O,R,Z,$++),(c(O[0])||Z.hasText)&&F({redrawing:!0})}function F(me){var pe={};Z.isActiveShape!==void 0&&(Z.isActiveShape=!1,pe=v(R,Z)),Z.isActiveSelection!==void 0&&(Z.isActiveSelection=!1,pe=w(R,Z),ie._fullLayout._reselect=!0),Object.keys(pe).length&&l.call((me||{}).redrawing?"relayout":"_guiRelayout",ie,pe)}var G=ie._fullLayout,W=G._zoomlayer,X=Z.dragmode,J=r(X),ne=f(X);(J||ne)&&(ie._fullLayout._outlining=!0),T(ie),R.attr("d",p(O));var fe,ye,Me,le,ve;if(!$&&(Z.isActiveShape||Z.isActiveSelection)){ve=D([],O);var H=W.append("g").attr("class","outline-controllers");j(H),ce()}if(J&&Z.hasText){var Y=W.select(".label-temp"),S=b(R,Z,Z.dragmode);_(ie,"label-temp",S,Y)}function E(me){Me=+me.srcElement.getAttribute("data-i"),le=+me.srcElement.getAttribute("data-j"),fe[Me][le].moveFn=z}function z(me,pe){if(O.length){var Ee=ve[Me][le][1],we=ve[Me][le][2],xe=O[Me],Fe=xe.length;if(M(xe)){var Ke=me,je=pe;if(Z.isActiveSelection){var Je=B(xe,le);Je[1]===xe[le][1]?je=0:Ke=0}for(var ht=0;ht<Fe;ht++)if(ht!==le){var Tt=xe[ht];Tt[1]===xe[le][1]&&(Tt[1]=Ee+Ke),Tt[2]===xe[le][2]&&(Tt[2]=we+je)}if(xe[le][1]=Ee+Ke,xe[le][2]=we+je,!M(xe))for(var gt=0;gt<Fe;gt++)for(var tt=0;tt<xe[gt].length;tt++)xe[gt][tt]=ve[Me][gt][tt]}else xe[le][1]=Ee+me,xe[le][2]=we+pe;N()}}function C(){F()}function K(){if(O.length&&O[Me]&&O[Me].length){for(var me=[],pe=0;pe<O[Me].length;pe++)pe!==le&&me.push(O[Me][pe]);me.length>1&&!(me.length===2&&me[1][0]==="Z")&&(le===0&&(me[0][0]="M"),O[Me]=me,N(),F())}}function P(me,pe){if(me===2){Me=+pe.srcElement.getAttribute("data-i"),le=+pe.srcElement.getAttribute("data-j");var Ee=O[Me];!M(Ee)&&!c(Ee)&&K()}}function j(me){fe=[];for(var pe=0;pe<O.length;pe++){var Ee=O[pe],we=M(Ee),xe=!we&&c(Ee);fe[pe]=[];for(var Fe=Ee.length,Ke=0;Ke<Fe;Ke++)if(Ee[Ke][0]!=="Z"&&!(xe&&Ke!==u&&Ke!==h&&Ke!==m&&Ke!==y)){var je=we&&Z.isActiveSelection,Je;je&&(Je=B(Ee,Ke));var ht=Ee[Ke][1],Tt=Ee[Ke][2],gt=me.append(je?"rect":"circle").attr("data-i",pe).attr("data-j",Ke).style({fill:n.background,stroke:n.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(je){var tt=Je[1]-ht,Ct=Je[2]-Tt,rt=Ct?5:Math.max(Math.min(25,Math.abs(tt)-5),5),Mt=tt?5:Math.max(Math.min(25,Math.abs(Ct)-5),5);gt.classed(Ct?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",rt).attr("height",Mt).attr("x",ht-rt/2).attr("y",Tt-Mt/2).attr("transform",g(tt/2,Ct/2))}else gt.classed("cursor-grab",!0).attr("r",5).attr("cx",ht).attr("cy",Tt);fe[pe][Ke]={element:gt.node(),gd:ie,prepFn:E,doneFn:C,clickFn:P},s.init(fe[pe][Ke])}}}function ae(me,pe){if(O.length)for(var Ee=0;Ee<O.length;Ee++)for(var we=0;we<O[Ee].length;we++)for(var xe=0;xe+2<O[Ee][we].length;xe+=2)O[Ee][we][xe+1]=ve[Ee][we][xe+1]+me,O[Ee][we][xe+2]=ve[Ee][we][xe+2]+pe}function ue(me,pe){ae(me,pe),N()}function he(me){Me=+me.srcElement.getAttribute("data-i"),Me||(Me=0),ye[Me].moveFn=ue}function Ae(){F()}function ke(me){me===2&&U(ie)}function ce(){if(ye=[],!!O.length){var me=0;ye[me]={element:R[0][0],gd:ie,prepFn:he,doneFn:Ae,clickFn:ke},s.init(ye[me])}}};function D(L,O){for(var R=0;R<O.length;R++){var Z=O[R];L[R]=[];for(var $=0;$<Z.length;$++){L[R][$]=[];for(var ie=0;ie<Z[$].length;ie++)L[R][$][ie]=Z[$][ie]}}return L}function B(L,O){var R=L[O][1],Z=L[O][2],$=L.length,ie,N,F;return ie=(O+1)%$,N=L[ie][1],F=L[ie][2],N===R&&F===Z&&(ie=(O+2)%$,N=L[ie][1],F=L[ie][2]),[ie,N,F]}function U(L){if(f(L._fullLayout.dragmode)){T(L);var O=L._fullLayout._activeSelectionIndex,R=(L.layout||{}).selections||[];if(O<R.length){for(var Z=[],$=0;$<R.length;$++)$!==O&&Z.push(R[$]);delete L._fullLayout._activeSelectionIndex;var ie=L._fullLayout.selections[O];L._fullLayout._deselect={xref:ie.xref,yref:ie.yref},l.call("_guiRelayout",L,{selections:Z})}}}},4031:function(te,I,e){var o=e(9898),g=e(3972),s=e(1828),i=e(9298),r=e(165).readPaths,f=e(2359),l=e(8100),n=e(1873).clearOutlineControllers,t=e(7901),u=e(1424),h=e(4467).arrayEditor,m=e(8569),y=e(6964),d=e(1459),T=e(477),x=T.getPathString;te.exports={draw:M,drawOne:v,eraseActiveShape:U,drawLabel:l};function M(L){var O=L._fullLayout;O._shapeUpperLayer.selectAll("path").remove(),O._shapeLowerLayer.selectAll("path").remove(),O._shapeUpperLayer.selectAll("text").remove(),O._shapeLowerLayer.selectAll("text").remove();for(var R in O._plots){var Z=O._plots[R].shapelayer;Z&&(Z.selectAll("path").remove(),Z.selectAll("text").remove())}for(var $=0;$<O.shapes.length;$++)O.shapes[$].visible===!0&&v(L,$)}function c(L){return!!L._fullLayout._outlining}function p(L){return!L._context.edits.shapePosition}function v(L,O){L._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+O+'"]').remove();var R=T.makeShapesOptionsAndPlotinfo(L,O),Z=R.options,$=R.plotinfo;if(!Z._input||Z.visible!==!0)return;if(Z.layer!=="below")N(L._fullLayout._shapeUpperLayer);else if(Z.xref==="paper"||Z.yref==="paper")N(L._fullLayout._shapeLowerLayer);else if($._hadPlotinfo){var ie=$.mainplotinfo||$;N(ie.shapelayer)}else N(L._fullLayout._shapeLowerLayer);function N(F){var G=x(L,Z),W={"data-index":O,"fill-rule":Z.fillrule,d:G},X=Z.opacity,J=Z.fillcolor,ne=Z.line.width?Z.line.color:"rgba(0,0,0,0)",fe=Z.line.width,ye=Z.line.dash;!fe&&Z.editable===!0&&(fe=5,ye="solid");var Me=G[G.length-1]!=="Z",le=p(L)&&Z.editable&&L._fullLayout._activeShapeIndex===O;le&&(J=Me?"rgba(0,0,0,0)":L._fullLayout.activeshape.fillcolor,X=L._fullLayout.activeshape.opacity);var ve=F.append("g").classed("shape-group",!0).attr({"data-index":O}),H=ve.append("path").attr(W).style("opacity",X).call(t.stroke,ne).call(t.fill,J).call(u.dashLine,ye,fe);b(ve,L,Z),l(L,O,Z,ve);var Y;if((le||L._context.edits.shapePosition)&&(Y=h(L.layout,"shapes",Z)),le){H.style({cursor:"move"});var S={element:H.node(),plotinfo:$,gd:L,editHelpers:Y,hasText:Z.label.text||Z.label.texttemplate,isActiveShape:!0},E=r(G,L);f(E,H,S)}else L._context.edits.shapePosition?w(L,H,Z,O,F,Y):Z.editable===!0&&H.style("pointer-events",Me||t.opacity(J)*X<=.5?"stroke":"all");H.node().addEventListener("click",function(){return D(L,H)})}}function b(L,O,R){var Z=(R.xref+R.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");u.setClipUrl(L,Z?"clip"+O._fullLayout._uid+Z:null,O)}function w(L,O,R,Z,$,ie){var N=10,F=10,G=R.xsizemode==="pixel",W=R.ysizemode==="pixel",X=R.type==="line",J=R.type==="path",ne=ie.modifyItem,fe,ye,Me,le,ve,H,Y,S,E,z,C,K,P,j,ae,ue=o.select(O.node().parentNode),he=i.getFromId(L,R.xref),Ae=i.getRefType(R.xref),ke=i.getFromId(L,R.yref),ce=i.getRefType(R.yref),me=T.getDataToPixel(L,he,!1,Ae),pe=T.getDataToPixel(L,ke,!0,ce),Ee=T.getPixelToData(L,he,!1,Ae),we=T.getPixelToData(L,ke,!0,ce),xe=je(),Fe={element:xe.node(),gd:L,prepFn:Tt,doneFn:gt,clickFn:tt},Ke;m.init(Fe),xe.node().onmousemove=ht;function je(){return X?Je():O}function Je(){var At=10,Le=Math.max(R.line.width,At),Te=$.append("g").attr("data-index",Z).attr("drag-helper",!0);Te.append("path").attr("d",O.attr("d")).style({cursor:"move","stroke-width":Le,"stroke-opacity":"0"});var Pe={"fill-opacity":"0"},Ce=Math.max(Le/2,At);return Te.append("circle").attr({"data-line-point":"start-point",cx:G?me(R.xanchor)+R.x0:me(R.x0),cy:W?pe(R.yanchor)-R.y0:pe(R.y0),r:Ce}).style(Pe).classed("cursor-grab",!0),Te.append("circle").attr({"data-line-point":"end-point",cx:G?me(R.xanchor)+R.x1:me(R.x1),cy:W?pe(R.yanchor)-R.y1:pe(R.y1),r:Ce}).style(Pe).classed("cursor-grab",!0),Te}function ht(At){if(c(L)){Ke=null;return}if(X)At.target.tagName==="path"?Ke="move":Ke=At.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Le=Fe.element.getBoundingClientRect(),Te=Le.right-Le.left,Pe=Le.bottom-Le.top,Ce=At.clientX-Le.left,Oe=At.clientY-Le.top,oe=!J&&Te>N&&Pe>F&&!At.shiftKey?m.getCursor(Ce/Te,1-Oe/Pe):"move";y(O,oe),Ke=oe.split("-")[0]}}function Tt(At){c(L)||(G&&(ve=me(R.xanchor)),W&&(H=pe(R.yanchor)),R.type==="path"?ae=R.path:(fe=G?R.x0:me(R.x0),ye=W?R.y0:pe(R.y0),Me=G?R.x1:me(R.x1),le=W?R.y1:pe(R.y1)),fe<Me?(E=fe,P="x0",z=Me,j="x1"):(E=Me,P="x1",z=fe,j="x0"),!W&&ye<le||W&&ye>le?(Y=ye,C="y0",S=le,K="y1"):(Y=le,C="y1",S=ye,K="y0"),ht(At),Mt($,R),kt(O,R,L),Fe.moveFn=Ke==="move"?Ct:rt,Fe.altKey=At.altKey)}function gt(){c(L)||(y(O),Dt($),b(O,L,R),g.call("_guiRelayout",L,ie.getUpdateObj()))}function tt(){c(L)||Dt($)}function Ct(At,Le){if(R.type==="path"){var Te=function(Oe){return Oe},Pe=Te,Ce=Te;G?ne("xanchor",R.xanchor=Ee(ve+At)):(Pe=function(oe){return Ee(me(oe)+At)},he&&he.type==="date"&&(Pe=T.encodeDate(Pe))),W?ne("yanchor",R.yanchor=we(H+Le)):(Ce=function(oe){return we(pe(oe)+Le)},ke&&ke.type==="date"&&(Ce=T.encodeDate(Ce))),ne("path",R.path=_(ae,Pe,Ce))}else G?ne("xanchor",R.xanchor=Ee(ve+At)):(ne("x0",R.x0=Ee(fe+At)),ne("x1",R.x1=Ee(Me+At))),W?ne("yanchor",R.yanchor=we(H+Le)):(ne("y0",R.y0=we(ye+Le)),ne("y1",R.y1=we(le+Le)));O.attr("d",x(L,R)),Mt($,R),l(L,Z,R,ue)}function rt(At,Le){if(J){var Te=function(Rt){return Rt},Pe=Te,Ce=Te;G?ne("xanchor",R.xanchor=Ee(ve+At)):(Pe=function(Ht){return Ee(me(Ht)+At)},he&&he.type==="date"&&(Pe=T.encodeDate(Pe))),W?ne("yanchor",R.yanchor=we(H+Le)):(Ce=function(Ht){return we(pe(Ht)+Le)},ke&&ke.type==="date"&&(Ce=T.encodeDate(Ce))),ne("path",R.path=_(ae,Pe,Ce))}else if(X){if(Ke==="resize-over-start-point"){var Oe=fe+At,oe=W?ye-Le:ye+Le;ne("x0",R.x0=G?Oe:Ee(Oe)),ne("y0",R.y0=W?oe:we(oe))}else if(Ke==="resize-over-end-point"){var be=Me+At,De=W?le-Le:le+Le;ne("x1",R.x1=G?be:Ee(be)),ne("y1",R.y1=W?De:we(De))}}else{var Se=function(Rt){return Ke.indexOf(Rt)!==-1},ze=Se("n"),_e=Se("s"),ct=Se("w"),ot=Se("e"),$e=ze?Y+Le:Y,Ye=_e?S+Le:S,it=ct?E+At:E,wt=ot?z+At:z;W&&(ze&&($e=Y-Le),_e&&(Ye=S-Le)),(!W&&Ye-$e>F||W&&$e-Ye>F)&&(ne(C,R[C]=W?$e:we($e)),ne(K,R[K]=W?Ye:we(Ye))),wt-it>N&&(ne(P,R[P]=G?it:Ee(it)),ne(j,R[j]=G?wt:Ee(wt)))}O.attr("d",x(L,R)),Mt($,R),l(L,Z,R,ue)}function Mt(At,Le){(G||W)&&Te();function Te(){var Pe=Le.type!=="path",Ce=At.selectAll(".visual-cue").data([0]),Oe=1;Ce.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Oe}).classed("visual-cue",!0);var oe=me(G?Le.xanchor:s.midRange(Pe?[Le.x0,Le.x1]:T.extractPathCoords(Le.path,d.paramIsX))),be=pe(W?Le.yanchor:s.midRange(Pe?[Le.y0,Le.y1]:T.extractPathCoords(Le.path,d.paramIsY)));if(oe=T.roundPositionForSharpStrokeRendering(oe,Oe),be=T.roundPositionForSharpStrokeRendering(be,Oe),G&&W){var De="M"+(oe-1-Oe)+","+(be-1-Oe)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Ce.attr("d",De)}else if(G){var Se="M"+(oe-1-Oe)+","+(be-9-Oe)+"v18 h2 v-18 Z";Ce.attr("d",Se)}else{var ze="M"+(oe-9-Oe)+","+(be-1-Oe)+"h18 v2 h-18 Z";Ce.attr("d",ze)}}}function Dt(At){At.selectAll(".visual-cue").remove()}function kt(At,Le,Te){var Pe=Le.xref,Ce=Le.yref,Oe=i.getFromId(Te,Pe),oe=i.getFromId(Te,Ce),be="";Pe!=="paper"&&!Oe.autorange&&(be+=Pe),Ce!=="paper"&&!oe.autorange&&(be+=Ce),u.setClipUrl(At,be?"clip"+Te._fullLayout._uid+be:null,Te)}}function _(L,O,R){return L.replace(d.segmentRE,function(Z){var $=0,ie=Z.charAt(0),N=d.paramIsX[ie],F=d.paramIsY[ie],G=d.numParams[ie],W=Z.substr(1).replace(d.paramRE,function(X){return $>=G||(N[$]?X=O(X):F[$]&&(X=R(X)),$++),X});return ie+W})}function D(L,O){if(p(L)){var R=O.node(),Z=+R.getAttribute("data-index");if(Z>=0){if(Z===L._fullLayout._activeShapeIndex){B(L);return}L._fullLayout._activeShapeIndex=Z,L._fullLayout._deactivateShape=B,M(L)}}}function B(L){if(p(L)){var O=L._fullLayout._activeShapeIndex;O>=0&&(n(L),delete L._fullLayout._activeShapeIndex,M(L))}}function U(L){if(p(L)){n(L);var O=L._fullLayout._activeShapeIndex,R=(L.layout||{}).shapes||[];if(O<R.length){for(var Z=[],$=0;$<R.length;$++)$!==O&&Z.push(R[$]);return delete L._fullLayout._activeShapeIndex,g.call("_guiRelayout",L,{shapes:Z})}}}},9241:function(te,I,e){var o=e(962).overrideAll,g=e(9012),s=e(1940),i=e(9952).P,r=e(1426).extendFlat,f=e(5386).R,l=e(7281);te.exports=o({newshape:{visible:r({},g.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:r({},g.legend,{}),legendgroup:r({},g.legendgroup,{}),legendgrouptitle:{text:r({},g.legendgrouptitle.text,{}),font:s({})},legendrank:r({},g.legendrank,{}),legendwidth:r({},g.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:r({},i,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:r({},g.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:f({newshape:!0},{keys:Object.keys(l)}),font:s({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},9995:function(te){var I=32;te.exports={CIRCLE_SIDES:I,i000:0,i090:I/4,i180:I/2,i270:I/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},5547:function(te,I,e){var o=e(7901),g=e(1828);function s(i,r){return i?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}te.exports=function(r,f,l){l("newshape.visible"),l("newshape.name"),l("newshape.showlegend"),l("newshape.legend"),l("newshape.legendwidth"),l("newshape.legendgroup"),l("newshape.legendgrouptitle.text"),g.coerceFont(l,"newshape.legendgrouptitle.font"),l("newshape.legendrank"),l("newshape.drawdirection"),l("newshape.layer"),l("newshape.fillcolor"),l("newshape.fillrule"),l("newshape.opacity");var n=l("newshape.line.width");if(n){var t=(r||{}).plot_bgcolor||"#FFF";l("newshape.line.color",o.contrast(t)),l("newshape.line.dash")}var u=r.dragmode==="drawline",h=l("newshape.label.text"),m=l("newshape.label.texttemplate");if(h||m){l("newshape.label.textangle");var y=l("newshape.label.textposition",u?"middle":"middle center");l("newshape.label.xanchor"),l("newshape.label.yanchor",s(u,y)),l("newshape.label.padding"),g.coerceFont(l,"newshape.label.font",f.font)}l("activeshape.fillcolor"),l("activeshape.opacity")}},165:function(te,I,e){var o=e(5616),g=e(9995),s=g.CIRCLE_SIDES,i=g.SQRT2,r=e(5549),f=r.p2r,l=r.r2p,n=[0,3,4,5,6,1,2],t=[0,3,4,1,2];I.writePaths=function(m){var y=m.length;if(!y)return"M0,0Z";for(var d="",T=0;T<y;T++)for(var x=m[T].length,M=0;M<x;M++){var c=m[T][M][0];if(c==="Z")d+="Z";else for(var p=m[T][M].length,v=0;v<p;v++){var b=v;c==="Q"||c==="S"?b=t[v]:c==="C"&&(b=n[v]),d+=m[T][M][b],v>0&&v<p-1&&(d+=",")}}return d},I.readPaths=function(m,y,d,T){var x=o(m),M=[],c=-1,p=function(){c++,M[c]=[]},v,b=0,w=0,_,D,B=function(){_=b,D=w};B();for(var U=0;U<x.length;U++){var L=[],O,R,Z,$,ie=x[U][0],N=ie;switch(ie){case"M":p(),b=+x[U][1],w=+x[U][2],L.push([N,b,w]),B();break;case"Q":case"S":O=+x[U][1],Z=+x[U][2],b=+x[U][3],w=+x[U][4],L.push([N,b,w,O,Z]);break;case"C":O=+x[U][1],Z=+x[U][2],R=+x[U][3],$=+x[U][4],b=+x[U][5],w=+x[U][6],L.push([N,b,w,O,Z,R,$]);break;case"T":case"L":b=+x[U][1],w=+x[U][2],L.push([N,b,w]);break;case"H":N="L",b=+x[U][1],L.push([N,b,w]);break;case"V":N="L",w=+x[U][1],L.push([N,b,w]);break;case"A":N="L";var F=+x[U][1],G=+x[U][2];+x[U][4]||(F=-F,G=-G);var W=b-F,X=w;for(v=1;v<=s/2;v++){var J=2*Math.PI*v/s;L.push([N,W+F*Math.cos(J),X+G*Math.sin(J)])}break;case"Z":(b!==_||w!==D)&&(b=_,w=D,L.push([N,b,w]));break}for(var ne=(d||{}).domain,fe=y._fullLayout._size,ye=d&&d.xsizemode==="pixel",Me=d&&d.ysizemode==="pixel",le=T===!1,ve=0;ve<L.length;ve++){for(v=0;v+2<7;v+=2){var H=L[ve][v+1],Y=L[ve][v+2];H===void 0||Y===void 0||(b=H,w=Y,d&&(d.xaxis&&d.xaxis.p2r?(le&&(H-=d.xaxis._offset),ye?H=l(d.xaxis,d.xanchor)+H:H=f(d.xaxis,H)):(le&&(H-=fe.l),ne?H=ne.x[0]+H/fe.w:H=H/fe.w),d.yaxis&&d.yaxis.p2r?(le&&(Y-=d.yaxis._offset),Me?Y=l(d.yaxis,d.yanchor)-Y:Y=f(d.yaxis,Y)):(le&&(Y-=fe.t),ne?Y=ne.y[1]-Y/fe.h:Y=1-Y/fe.h)),L[ve][v+1]=H,L[ve][v+2]=Y)}M[c].push(L[ve].slice())}}return M};function u(m,y){return Math.abs(m-y)<=1e-6}function h(m,y){var d=y[1]-m[1],T=y[2]-m[2];return Math.sqrt(d*d+T*T)}I.pointsOnRectangle=function(m){var y=m.length;if(y!==5)return!1;for(var d=1;d<3;d++){var T=m[0][d]-m[1][d],x=m[3][d]-m[2][d];if(!u(T,x))return!1;var M=m[0][d]-m[3][d],c=m[1][d]-m[2][d];if(!u(M,c))return!1}return!u(m[0][1],m[1][1])&&!u(m[0][1],m[3][1])?!1:!!(h(m[0],m[1])*h(m[0],m[3]))},I.pointsOnEllipse=function(m){var y=m.length;if(y!==s+1)return!1;y=s;for(var d=0;d<y;d++){var T=(y*2-d)%y,x=(y/2+T)%y,M=(y/2+d)%y;if(!u(h(m[d],m[M]),h(m[T],m[x])))return!1}return!0},I.handleEllipse=function(m,y,d){if(!m)return[y,d];var T=I.ellipseOver({x0:y[0],y0:y[1],x1:d[0],y1:d[1]}),x=(T.x1+T.x0)/2,M=(T.y1+T.y0)/2,c=(T.x1-T.x0)/2,p=(T.y1-T.y0)/2;c||(c=p=p/i),p||(p=c=c/i);for(var v=[],b=0;b<s;b++){var w=b*2*Math.PI/s;v.push([x+c*Math.cos(w),M+p*Math.sin(w)])}return v},I.ellipseOver=function(m){var y=m.x0,d=m.y0,T=m.x1,x=m.y1,M=T-y,c=x-d;y-=M,d-=c;var p=(y+T)/2,v=(d+x)/2,b=i;return M*=b,c*=b,{x0:p-M,y0:v-c,x1:p+M,y1:v+c}},I.fixDatesForPaths=function(m,y,d){var T=y.type==="date",x=d.type==="date";if(!T&&!x)return m;for(var M=0;M<m.length;M++)for(var c=0;c<m[M].length;c++)for(var p=0;p+2<m[M][c].length;p+=2)T&&(m[M][c][p+1]=m[M][c][p+1].replace(" ","_")),x&&(m[M][c][p+2]=m[M][c][p+2].replace(" ","_"));return m}},551:function(te,I,e){var o=e(4505),g=o.drawMode,s=o.openMode,i=e(9995),r=i.i000,f=i.i090,l=i.i180,n=i.i270,t=i.cos45,u=i.sin45,h=e(5549),m=h.p2r,y=h.r2p,d=e(1873),T=d.clearOutline,x=e(165),M=x.readPaths,c=x.writePaths,p=x.ellipseOver,v=x.fixDatesForPaths;function b(_,D){if(_.length){var B=_[0][0];if(B){var U=D.gd,L=D.isActiveShape,O=D.dragmode,R=(U.layout||{}).shapes||[];if(!g(O)&&L!==void 0){var Z=U._fullLayout._activeShapeIndex;if(Z<R.length)switch(U._fullLayout.shapes[Z].type){case"rect":O="drawrect";break;case"circle":O="drawcircle";break;case"line":O="drawline";break;case"path":var $=R[Z].path||"";$[$.length-1]==="Z"?O="drawclosedpath":O="drawopenpath";break}}var ie=w(_,D,O);T(U);for(var N=D.editHelpers,F=(N||{}).modifyItem,G=[],W=0;W<R.length;W++){var X=U._fullLayout.shapes[W];if(G[W]=X._input,L!==void 0&&W===U._fullLayout._activeShapeIndex){var J=ie;switch(X.type){case"line":case"rect":case"circle":F("x0",J.x0),F("x1",J.x1),F("y0",J.y0),F("y1",J.y1);break;case"path":F("path",J.path);break}}}return L===void 0?(G.push(ie),G):N?N.getUpdateObj():{}}}}function w(_,D,B){var U=_[0][0],L=D.gd,O=U.getAttribute("d"),R=L._fullLayout.newshape,Z=D.plotinfo,$=D.isActiveShape,ie=Z.xaxis,N=Z.yaxis,F=!!Z.domain||!Z.xaxis,G=!!Z.domain||!Z.yaxis,W=s(B),X=M(O,L,Z,$),J={editable:!0,visible:R.visible,name:R.name,showlegend:R.showlegend,legend:R.legend,legendwidth:R.legendwidth,legendgroup:R.legendgroup,legendgrouptitle:{text:R.legendgrouptitle.text,font:R.legendgrouptitle.font},legendrank:R.legendrank,label:R.label,xref:F?"paper":ie._id,yref:G?"paper":N._id,layer:R.layer,opacity:R.opacity,line:{color:R.line.color,width:R.line.width,dash:R.line.dash}};W||(J.fillcolor=R.fillcolor,J.fillrule=R.fillrule);var ne;if(X.length===1&&(ne=X[0]),ne&&ne.length===5&&B==="drawrect")J.type="rect",J.x0=ne[0][1],J.y0=ne[0][2],J.x1=ne[2][1],J.y1=ne[2][2];else if(ne&&B==="drawline")J.type="line",J.x0=ne[0][1],J.y0=ne[0][2],J.x1=ne[1][1],J.y1=ne[1][2];else if(ne&&B==="drawcircle"){J.type="circle";var fe=ne[r][1],ye=ne[f][1],Me=ne[l][1],le=ne[n][1],ve=ne[r][2],H=ne[f][2],Y=ne[l][2],S=ne[n][2],E=Z.xaxis&&(Z.xaxis.type==="date"||Z.xaxis.type==="log"),z=Z.yaxis&&(Z.yaxis.type==="date"||Z.yaxis.type==="log");E&&(fe=y(Z.xaxis,fe),ye=y(Z.xaxis,ye),Me=y(Z.xaxis,Me),le=y(Z.xaxis,le)),z&&(ve=y(Z.yaxis,ve),H=y(Z.yaxis,H),Y=y(Z.yaxis,Y),S=y(Z.yaxis,S));var C=(ye+le)/2,K=(ve+Y)/2,P=(le-ye+Me-fe)/2,j=(S-H+Y-ve)/2,ae=p({x0:C,y0:K,x1:C+P*t,y1:K+j*u});E&&(ae.x0=m(Z.xaxis,ae.x0),ae.x1=m(Z.xaxis,ae.x1)),z&&(ae.y0=m(Z.yaxis,ae.y0),ae.y1=m(Z.yaxis,ae.y1)),J.x0=ae.x0,J.y0=ae.y0,J.x1=ae.x1,J.y1=ae.y1}else J.type="path",ie&&N&&v(X,ie,N),J.path=c(X),ne=null;return J}te.exports={newShapes:b,createShapeObj:w}},1873:function(te){function I(o){var g=o._fullLayout._zoomlayer;g&&g.selectAll(".outline-controllers").remove()}function e(o){var g=o._fullLayout._zoomlayer;g&&g.selectAll(".select-outline").remove(),o._fullLayout._outlining=!1}te.exports={clearOutlineControllers:I,clearOutline:e}},477:function(te,I,e){var o=e(1459),g=e(1828),s=e(9298);I.rangeToShapePosition=function(r){return r.type==="log"?r.r2d:function(f){return f}},I.shapePositionToRange=function(r){return r.type==="log"?r.d2r:function(f){return f}},I.decodeDate=function(r){return function(f){return f.replace&&(f=f.replace("_"," ")),r(f)}},I.encodeDate=function(r){return function(f){return r(f).replace(" ","_")}},I.extractPathCoords=function(r,f,l){var n=[],t=r.match(o.segmentRE);return t.forEach(function(u){var h=f[u.charAt(0)].drawn;if(h!==void 0){var m=u.substr(1).match(o.paramRE);if(!(!m||m.length<h)){var y=m[h],d=l?y:g.cleanNumber(y);n.push(d)}}}),n},I.getDataToPixel=function(r,f,l,n){var t=r._fullLayout._size,u;if(f)if(n==="domain")u=function(m){return f._length*(l?1-m:m)+f._offset};else{var h=I.shapePositionToRange(f);u=function(m){return f._offset+f.r2p(h(m,!0))},f.type==="date"&&(u=I.decodeDate(u))}else l?u=function(m){return t.t+t.h*(1-m)}:u=function(m){return t.l+t.w*m};return u},I.getPixelToData=function(r,f,l,n){var t=r._fullLayout._size,u;if(f)if(n==="domain")u=function(m){var y=(m-f._offset)/f._length;return l?1-y:y};else{var h=I.rangeToShapePosition(f);u=function(m){return h(f.p2r(m-f._offset))}}else l?u=function(m){return 1-(m-t.t)/t.h}:u=function(m){return(m-t.l)/t.w};return u},I.roundPositionForSharpStrokeRendering=function(r,f){var l=Math.round(f%2)===1,n=Math.round(r);return l?n+.5:n},I.makeShapesOptionsAndPlotinfo=function(r,f){var l=r._fullLayout.shapes[f]||{},n=r._fullLayout._plots[l.xref+l.yref],t=!!n;return t?n._hadPlotinfo=!0:(n={},l.xref&&l.xref!=="paper"&&(n.xaxis=r._fullLayout[l.xref+"axis"]),l.yref&&l.yref!=="paper"&&(n.yaxis=r._fullLayout[l.yref+"axis"])),n.xsizemode=l.xsizemode,n.ysizemode=l.ysizemode,n.xanchor=l.xanchor,n.yanchor=l.yanchor,{options:l,plotinfo:n}},I.makeSelectionsOptionsAndPlotinfo=function(r,f){var l=r._fullLayout.selections[f]||{},n=r._fullLayout._plots[l.xref+l.yref],t=!!n;return t?n._hadPlotinfo=!0:(n={},l.xref&&(n.xaxis=r._fullLayout[l.xref+"axis"]),l.yref&&(n.yaxis=r._fullLayout[l.yref+"axis"])),{options:l,plotinfo:n}},I.getPathString=function(r,f){var l=f.type,n=s.getRefType(f.xref),t=s.getRefType(f.yref),u=s.getFromId(r,f.xref),h=s.getFromId(r,f.yref),m=r._fullLayout._size,y,d,T,x,M,c,p,v;if(u?n==="domain"?d=function(Z){return u._offset+u._length*Z}:(y=I.shapePositionToRange(u),d=function(Z){return u._offset+u.r2p(y(Z,!0))}):d=function(Z){return m.l+m.w*Z},h?t==="domain"?x=function(Z){return h._offset+h._length*(1-Z)}:(T=I.shapePositionToRange(h),x=function(Z){return h._offset+h.r2p(T(Z,!0))}):x=function(Z){return m.t+m.h*(1-Z)},l==="path")return u&&u.type==="date"&&(d=I.decodeDate(d)),h&&h.type==="date"&&(x=I.decodeDate(x)),i(f,d,x);if(f.xsizemode==="pixel"){var b=d(f.xanchor);M=b+f.x0,c=b+f.x1}else M=d(f.x0),c=d(f.x1);if(f.ysizemode==="pixel"){var w=x(f.yanchor);p=w-f.y0,v=w-f.y1}else p=x(f.y0),v=x(f.y1);if(l==="line")return"M"+M+","+p+"L"+c+","+v;if(l==="rect")return"M"+M+","+p+"H"+c+"V"+v+"H"+M+"Z";var _=(M+c)/2,D=(p+v)/2,B=Math.abs(_-M),U=Math.abs(D-p),L="A"+B+","+U,O=_+B+","+D,R=_+","+(D-U);return"M"+O+L+" 0 1,1 "+R+L+" 0 0,1 "+O+"Z"};function i(r,f,l){var n=r.path,t=r.xsizemode,u=r.ysizemode,h=r.xanchor,m=r.yanchor;return n.replace(o.segmentRE,function(y){var d=0,T=y.charAt(0),x=o.paramIsX[T],M=o.paramIsY[T],c=o.numParams[T],p=y.substr(1).replace(o.paramRE,function(v){return x[d]?t==="pixel"?v=f(h)+Number(v):v=f(v):M[d]&&(u==="pixel"?v=l(m)-Number(v):v=l(v)),d++,d>c&&(v="X"),v});return d>c&&(p=p.replace(/[\s,]*X.*/,""),g.log("Ignoring extra params in segment "+y)),T+p})}},9853:function(te,I,e){var o=e(4031);te.exports={moduleType:"component",name:"shapes",layoutAttributes:e(9827),supplyLayoutDefaults:e(4726),supplyDrawNewShapeDefaults:e(5547),includeBasePlot:e(6325)("shapes"),calcAutorange:e(5627),draw:o.draw,drawOne:o.drawOne}},7281:function(te){function I(y,d){return d?d.d2l(y):y}function e(y,d){return d?d.l2d(y):y}function o(y){return y.x0}function g(y){return y.x1}function s(y){return y.y0}function i(y){return y.y1}function r(y,d){return I(y.x1,d)-I(y.x0,d)}function f(y,d,T){return I(y.y1,T)-I(y.y0,T)}function l(y,d){return Math.abs(r(y,d))}function n(y,d,T){return Math.abs(f(y,d,T))}function t(y,d,T){return y.type!=="line"?void 0:Math.sqrt(Math.pow(r(y,d),2)+Math.pow(f(y,d,T),2))}function u(y,d){return e((I(y.x1,d)+I(y.x0,d))/2,d)}function h(y,d,T){return e((I(y.y1,T)+I(y.y0,T))/2,T)}function m(y,d,T){return y.type!=="line"?void 0:f(y,d,T)/r(y,d)}te.exports={x0:o,x1:g,y0:s,y1:i,slope:m,dx:r,dy:f,width:l,height:n,length:t,xcenter:u,ycenter:h}},5067:function(te,I,e){var o=e(1940),g=e(5025),s=e(1426).extendDeepAll,i=e(962).overrideAll,r=e(5594),f=e(4467).templatedArray,l=e(8292),n=f("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});te.exports=i(f("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:n,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:s(g({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:r.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:o({})},font:o({}),activebgcolor:{valType:"color",dflt:l.gripBgActiveColor},bgcolor:{valType:"color",dflt:l.railBgColor},bordercolor:{valType:"color",dflt:l.railBorderColor},borderwidth:{valType:"number",min:0,dflt:l.railBorderWidth},ticklen:{valType:"number",min:0,dflt:l.tickLength},tickcolor:{valType:"color",dflt:l.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:l.minorTickLength}}),"arraydraw","from-root")},8292:function(te){te.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},2343:function(te,I,e){var o=e(1828),g=e(5501),s=e(5067),i=e(8292),r=i.name,f=s.steps;te.exports=function(u,h){g(u,h,{name:r,handleItemDefaults:l})};function l(t,u,h){function m(v,b){return o.coerce(t,u,s,v,b)}for(var y=g(t,u,{name:"steps",handleItemDefaults:n}),d=0,T=0;T<y.length;T++)y[T].visible&&d++;var x;if(d<2?x=u.visible=!1:x=m("visible"),!!x){u._stepCount=d;var M=u._visibleSteps=o.filterVisible(y),c=m("active");(y[c]||{}).visible||(u.active=M[0]._index),m("x"),m("y"),o.noneOrAll(t,u,["x","y"]),m("xanchor"),m("yanchor"),m("len"),m("lenmode"),m("pad.t"),m("pad.r"),m("pad.b"),m("pad.l"),o.coerceFont(m,"font",h.font);var p=m("currentvalue.visible");p&&(m("currentvalue.xanchor"),m("currentvalue.prefix"),m("currentvalue.suffix"),m("currentvalue.offset"),o.coerceFont(m,"currentvalue.font",u.font)),m("transition.duration"),m("transition.easing"),m("bgcolor"),m("activebgcolor"),m("bordercolor"),m("borderwidth"),m("ticklen"),m("tickwidth"),m("tickcolor"),m("minorticklen")}}function n(t,u){function h(d,T){return o.coerce(t,u,f,d,T)}var m;if(t.method!=="skip"&&!Array.isArray(t.args)?m=u.visible=!1:m=h("visible"),m){h("method"),h("args");var y=h("label","step-"+u._index);h("value",y),h("execute")}}},4504:function(te,I,e){var o=e(9898),g=e(4875),s=e(7901),i=e(1424),r=e(1828),f=r.strTranslate,l=e(3893),n=e(4467).arrayEditor,t=e(8292),u=e(8783),h=u.LINE_SPACING,m=u.FROM_TL,y=u.FROM_BR;te.exports=function(F){var G=F._context.staticPlot,W=F._fullLayout,X=T(W,F),J=W._infolayer.selectAll("g."+t.containerClassName).data(X.length>0?[0]:[]);J.enter().append("g").classed(t.containerClassName,!0).style("cursor",G?null:"ew-resize");function ne(le){le._commandObserver&&(le._commandObserver.remove(),delete le._commandObserver),g.autoMargin(F,d(le))}if(J.exit().each(function(){o.select(this).selectAll("g."+t.groupClassName).each(ne)}).remove(),X.length!==0){var fe=J.selectAll("g."+t.groupClassName).data(X,x);fe.enter().append("g").classed(t.groupClassName,!0),fe.exit().each(ne).remove();for(var ye=0;ye<X.length;ye++){var Me=X[ye];M(F,Me)}fe.each(function(le){var ve=o.select(this);L(le),g.manageCommandObserver(F,le,le._visibleSteps,function(H){var Y=ve.data()[0];Y.active!==H.index&&(Y._dragging||D(F,ve,Y,H.index,!1,!0))}),c(F,o.select(this),le)})}};function d(N){return t.autoMarginIdRoot+N._index}function T(N,F){for(var G=N[t.name],W=[],X=0;X<G.length;X++){var J=G[X];J.visible&&(J._gd=F,W.push(J))}return W}function x(N){return N._index}function M(N,F){var G=i.tester.selectAll("g."+t.labelGroupClass).data(F._visibleSteps);G.enter().append("g").classed(t.labelGroupClass,!0);var W=0,X=0;G.each(function(S){var E=o.select(this),z=b(E,{step:S},F),C=z.node();if(C){var K=i.bBox(C);X=Math.max(X,K.height),W=Math.max(W,K.width)}}),G.remove();var J=F._dims={};J.inputAreaWidth=Math.max(t.railWidth,t.gripHeight);var ne=N._fullLayout._size;J.lx=ne.l+ne.w*F.x,J.ly=ne.t+ne.h*(1-F.y),F.lenmode==="fraction"?J.outerLength=Math.round(ne.w*F.len):J.outerLength=F.len,J.inputAreaStart=0,J.inputAreaLength=Math.round(J.outerLength-F.pad.l-F.pad.r);var fe=J.inputAreaLength-2*t.stepInset,ye=fe/(F._stepCount-1),Me=W+t.labelPadding;if(J.labelStride=Math.max(1,Math.ceil(Me/ye)),J.labelHeight=X,J.currentValueMaxWidth=0,J.currentValueHeight=0,J.currentValueTotalHeight=0,J.currentValueMaxLines=1,F.currentvalue.visible){var le=i.tester.append("g");G.each(function(S){var E=p(le,F,S.label),z=E.node()&&i.bBox(E.node())||{width:0,height:0},C=l.lineCount(E);J.currentValueMaxWidth=Math.max(J.currentValueMaxWidth,Math.ceil(z.width)),J.currentValueHeight=Math.max(J.currentValueHeight,Math.ceil(z.height)),J.currentValueMaxLines=Math.max(J.currentValueMaxLines,C)}),J.currentValueTotalHeight=J.currentValueHeight+F.currentvalue.offset,le.remove()}J.height=J.currentValueTotalHeight+t.tickOffset+F.ticklen+t.labelOffset+J.labelHeight+F.pad.t+F.pad.b;var ve="left";r.isRightAnchor(F)&&(J.lx-=J.outerLength,ve="right"),r.isCenterAnchor(F)&&(J.lx-=J.outerLength/2,ve="center");var H="top";r.isBottomAnchor(F)&&(J.ly-=J.height,H="bottom"),r.isMiddleAnchor(F)&&(J.ly-=J.height/2,H="middle"),J.outerLength=Math.ceil(J.outerLength),J.height=Math.ceil(J.height),J.lx=Math.round(J.lx),J.ly=Math.round(J.ly);var Y={y:F.y,b:J.height*y[H],t:J.height*m[H]};F.lenmode==="fraction"?(Y.l=0,Y.xl=F.x-F.len*m[ve],Y.r=0,Y.xr=F.x+F.len*y[ve]):(Y.x=F.x,Y.l=J.outerLength*m[ve],Y.r=J.outerLength*y[ve]),g.autoMargin(N,d(F),Y)}function c(N,F,G){(G.steps[G.active]||{}).visible||(G.active=G._visibleSteps[0]._index),F.call(p,G).call(ie,G).call(w,G).call(U,G).call($,N,G).call(v,N,G);var W=G._dims;i.setTranslate(F,W.lx+G.pad.l,W.ly+G.pad.t),F.call(O,G,!1),F.call(p,G)}function p(N,F,G){if(F.currentvalue.visible){var W=F._dims,X,J;switch(F.currentvalue.xanchor){case"right":X=W.inputAreaLength-t.currentValueInset-W.currentValueMaxWidth,J="left";break;case"center":X=W.inputAreaLength*.5,J="middle";break;default:X=t.currentValueInset,J="left"}var ne=r.ensureSingle(N,"text",t.labelClass,function(H){H.attr({"text-anchor":J,"data-notex":1})}),fe=F.currentvalue.prefix?F.currentvalue.prefix:"";if(typeof G=="string")fe+=G;else{var ye=F.steps[F.active].label,Me=F._gd._fullLayout._meta;Me&&(ye=r.templateString(ye,Me)),fe+=ye}F.currentvalue.suffix&&(fe+=F.currentvalue.suffix),ne.call(i.font,F.currentvalue.font).text(fe).call(l.convertToTspans,F._gd);var le=l.lineCount(ne),ve=(W.currentValueMaxLines+1-le)*F.currentvalue.font.size*h;return l.positionText(ne,X,ve),ne}}function v(N,F,G){var W=r.ensureSingle(N,"rect",t.gripRectClass,function(X){X.call(B,F,N,G).style("pointer-events","all")});W.attr({width:t.gripWidth,height:t.gripHeight,rx:t.gripRadius,ry:t.gripRadius}).call(s.stroke,G.bordercolor).call(s.fill,G.bgcolor).style("stroke-width",G.borderwidth+"px")}function b(N,F,G){var W=r.ensureSingle(N,"text",t.labelClass,function(ne){ne.attr({"text-anchor":"middle","data-notex":1})}),X=F.step.label,J=G._gd._fullLayout._meta;return J&&(X=r.templateString(X,J)),W.call(i.font,G.font).text(X).call(l.convertToTspans,G._gd),W}function w(N,F){var G=r.ensureSingle(N,"g",t.labelsClass),W=F._dims,X=G.selectAll("g."+t.labelGroupClass).data(W.labelSteps);X.enter().append("g").classed(t.labelGroupClass,!0),X.exit().remove(),X.each(function(J){var ne=o.select(this);ne.call(b,J,F),i.setTranslate(ne,R(F,J.fraction),t.tickOffset+F.ticklen+F.font.size*h+t.labelOffset+W.currentValueTotalHeight)})}function _(N,F,G,W,X){var J=Math.round(W*(G._stepCount-1)),ne=G._visibleSteps[J]._index;ne!==G.active&&D(N,F,G,ne,!0,X)}function D(N,F,G,W,X,J){var ne=G.active;G.active=W,n(N.layout,t.name,G).applyUpdate("active",W);var fe=G.steps[G.active];F.call(O,G,J),F.call(p,G),N.emit("plotly_sliderchange",{slider:G,step:G.steps[G.active],interaction:X,previousActive:ne}),fe&&fe.method&&X&&(F._nextMethod?(F._nextMethod.step=fe,F._nextMethod.doCallback=X,F._nextMethod.doTransition=J):(F._nextMethod={step:fe,doCallback:X,doTransition:J},F._nextMethodRaf=window.requestAnimationFrame(function(){var ye=F._nextMethod.step;ye.method&&(ye.execute&&g.executeAPICommand(N,ye.method,ye.args),F._nextMethod=null,F._nextMethodRaf=null)})))}function B(N,F,G){if(F._context.staticPlot)return;var W=G.node(),X=o.select(F);function J(){return G.data()[0]}function ne(){var fe=J();F.emit("plotly_sliderstart",{slider:fe});var ye=G.select("."+t.gripRectClass);o.event.stopPropagation(),o.event.preventDefault(),ye.call(s.fill,fe.activebgcolor);var Me=Z(fe,o.mouse(W)[0]);_(F,G,fe,Me,!0),fe._dragging=!0;function le(){var H=J(),Y=Z(H,o.mouse(W)[0]);_(F,G,H,Y,!1)}X.on("mousemove",le),X.on("touchmove",le);function ve(){var H=J();H._dragging=!1,ye.call(s.fill,H.bgcolor),X.on("mouseup",null),X.on("mousemove",null),X.on("touchend",null),X.on("touchmove",null),F.emit("plotly_sliderend",{slider:H,step:H.steps[H.active]})}X.on("mouseup",ve),X.on("touchend",ve)}N.on("mousedown",ne),N.on("touchstart",ne)}function U(N,F){var G=N.selectAll("rect."+t.tickRectClass).data(F._visibleSteps),W=F._dims;G.enter().append("rect").classed(t.tickRectClass,!0),G.exit().remove(),G.attr({width:F.tickwidth+"px","shape-rendering":"crispEdges"}),G.each(function(X,J){var ne=J%W.labelStride===0,fe=o.select(this);fe.attr({height:ne?F.ticklen:F.minorticklen}).call(s.fill,F.tickcolor),i.setTranslate(fe,R(F,J/(F._stepCount-1))-.5*F.tickwidth,(ne?t.tickOffset:t.minorTickOffset)+W.currentValueTotalHeight)})}function L(N){var F=N._dims;F.labelSteps=[];for(var G=N._stepCount,W=0;W<G;W+=F.labelStride)F.labelSteps.push({fraction:W/(G-1),step:N._visibleSteps[W]})}function O(N,F,G){for(var W=N.select("rect."+t.gripRectClass),X=0,J=0;J<F._stepCount;J++)if(F._visibleSteps[J]._index===F.active){X=J;break}var ne=R(F,X/(F._stepCount-1));if(!F._invokingCommand){var fe=W;G&&F.transition.duration>0&&(fe=fe.transition().duration(F.transition.duration).ease(F.transition.easing)),fe.attr("transform",f(ne-t.gripWidth*.5,F._dims.currentValueTotalHeight))}}function R(N,F){var G=N._dims;return G.inputAreaStart+t.stepInset+(G.inputAreaLength-2*t.stepInset)*Math.min(1,Math.max(0,F))}function Z(N,F){var G=N._dims;return Math.min(1,Math.max(0,(F-t.stepInset-G.inputAreaStart)/(G.inputAreaLength-2*t.stepInset-2*G.inputAreaStart)))}function $(N,F,G){var W=G._dims,X=r.ensureSingle(N,"rect",t.railTouchRectClass,function(J){J.call(B,F,N,G).style("pointer-events","all")});X.attr({width:W.inputAreaLength,height:Math.max(W.inputAreaWidth,t.tickOffset+G.ticklen+W.labelHeight)}).call(s.fill,G.bgcolor).attr("opacity",0),i.setTranslate(X,0,W.currentValueTotalHeight)}function ie(N,F){var G=F._dims,W=G.inputAreaLength-t.railInset*2,X=r.ensureSingle(N,"rect",t.railRectClass);X.attr({width:W,height:t.railWidth,rx:t.railRadius,ry:t.railRadius,"shape-rendering":"crispEdges"}).call(s.stroke,F.bordercolor).call(s.fill,F.bgcolor).style("stroke-width",F.borderwidth+"px"),i.setTranslate(X,t.railInset,(G.inputAreaWidth-t.railWidth)*.5+G.currentValueTotalHeight)}},3243:function(te,I,e){var o=e(8292);te.exports={moduleType:"component",name:o.name,layoutAttributes:e(5067),supplyLayoutDefaults:e(2343),draw:e(4504)}},2998:function(te,I,e){var o=e(9898),g=e(2770),s=e(4875),i=e(3972),r=e(1828),f=r.strTranslate,l=e(1424),n=e(7901),t=e(3893),u=e(7822),h=e(8783).OPPOSITE_SIDE,m=/ [XY][0-9]* /;function y(d,T,x){var M=x.propContainer,c=x.propName,p=x.placeholder,v=x.traceIndex,b=x.avoid||{},w=x.attributes,_=x.transform,D=x.containerGroup,B=d._fullLayout,U=1,L=!1,O=M.title,R=(O&&O.text?O.text:"").trim(),Z=O&&O.font?O.font:{},$=Z.family,ie=Z.size,N=Z.color,F;c==="title.text"?F="titleText":c.indexOf("axis")!==-1?F="axisTitleText":c.indexOf("colorbar"!==-1)&&(F="colorbarTitleText");var G=d._context.edits[F];R===""?U=0:R.replace(m," % ")===p.replace(m," % ")&&(U=.2,L=!0,G||(R="")),x._meta?R=r.templateString(R,x._meta):B._meta&&(R=r.templateString(R,B._meta));var W=R||G,X;D||(D=r.ensureSingle(B._infolayer,"g","g-"+T),X=B._hColorbarMoveTitle);var J=D.selectAll("text").data(W?[0]:[]);if(J.enter().append("text"),J.text(R).attr("class",T),J.exit().remove(),!W)return D;function ne(le){r.syncOrAsync([fe,ye],le)}function fe(le){var ve;return!_&&X&&(_={}),_?(ve="",_.rotate&&(ve+="rotate("+[_.rotate,w.x,w.y]+")"),(_.offset||X)&&(ve+=f(0,(_.offset||0)-(X||0)))):ve=null,le.attr("transform",ve),le.style({"font-family":$,"font-size":o.round(ie,2)+"px",fill:n.rgb(N),opacity:U*n.opacity(N),"font-weight":s.fontWeight}).attr(w).call(t.convertToTspans,d),s.previousPromises(d)}function ye(le){var ve=o.select(le.node().parentNode);if(b&&b.selection&&b.side&&R){ve.attr("transform",null);var H=h[b.side],Y=b.side==="left"||b.side==="top"?-1:1,S=g(b.pad)?b.pad:2,E=l.bBox(ve.node()),z={t:0,b:0,l:0,r:0},C=d._fullLayout._reservedMargin;for(var K in C)for(var P in C[K]){var j=C[K][P];z[P]=Math.max(z[P],j)}var ae={left:z.l,top:z.t,right:B.width-z.r,bottom:B.height-z.b},ue=b.maxShift||Y*(ae[b.side]-E[b.side]),he=0;if(ue<0)he=ue;else{var Ae=b.offsetLeft||0,ke=b.offsetTop||0;E.left-=Ae,E.right-=Ae,E.top-=ke,E.bottom-=ke,b.selection.each(function(){var me=l.bBox(this);r.bBoxIntersect(E,me,S)&&(he=Math.max(he,Y*(me[b.side]-E[H])+S))}),he=Math.min(ue,he),M._titleScoot=Math.abs(he)}if(he>0||ue<0){var ce={left:[-he,0],right:[he,0],top:[0,-he],bottom:[0,he]}[b.side];ve.attr("transform",f(ce[0],ce[1]))}}}J.call(ne);function Me(){U=0,L=!0,J.text(p).on("mouseover.opacity",function(){o.select(this).transition().duration(u.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){o.select(this).transition().duration(u.HIDE_PLACEHOLDER).style("opacity",0)})}return G&&(R?J.on(".opacity",null):Me(),J.call(t.makeEditable,{gd:d}).on("edit",function(le){v!==void 0?i.call("_guiRestyle",d,c,le,v):i.call("_guiRelayout",d,c,le)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(ne)}).on("input",function(le){this.text(le||" ").call(t.positionText,w.x,w.y)})),J.classed("js-placeholder",L),D}te.exports={draw:y}},7163:function(te,I,e){var o=e(1940),g=e(2399),s=e(1426).extendFlat,i=e(962).overrideAll,r=e(5025),f=e(4467).templatedArray,l=f("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});te.exports=i(f("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:l,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:s(r({editType:"arraydraw"}),{}),font:o({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:g.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},5909:function(te){te.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},4897:function(te,I,e){var o=e(1828),g=e(5501),s=e(7163),i=e(5909),r=i.name,f=s.buttons;te.exports=function(u,h){var m={name:r,handleItemDefaults:l};g(u,h,m)};function l(t,u,h){function m(T,x){return o.coerce(t,u,s,T,x)}var y=g(t,u,{name:"buttons",handleItemDefaults:n}),d=m("visible",y.length>0);d&&(m("active"),m("direction"),m("type"),m("showactive"),m("x"),m("y"),o.noneOrAll(t,u,["x","y"]),m("xanchor"),m("yanchor"),m("pad.t"),m("pad.r"),m("pad.b"),m("pad.l"),o.coerceFont(m,"font",h.font),m("bgcolor",h.paper_bgcolor),m("bordercolor"),m("borderwidth"))}function n(t,u){function h(y,d){return o.coerce(t,u,f,y,d)}var m=h("visible",t.method==="skip"||Array.isArray(t.args));m&&(h("method"),h("args"),h("args2"),h("label"),h("execute"))}},3689:function(te,I,e){var o=e(9898),g=e(4875),s=e(7901),i=e(1424),r=e(1828),f=e(3893),l=e(4467).arrayEditor,n=e(8783).LINE_SPACING,t=e(5909),u=e(5849);te.exports=function(Z){var $=Z._fullLayout,ie=r.filterVisible($[t.name]);function N(ye){g.autoMargin(Z,U(ye))}var F=$._menulayer.selectAll("g."+t.containerClassName).data(ie.length>0?[0]:[]);if(F.enter().append("g").classed(t.containerClassName,!0).style("cursor","pointer"),F.exit().each(function(){o.select(this).selectAll("g."+t.headerGroupClassName).each(N)}).remove(),ie.length!==0){var G=F.selectAll("g."+t.headerGroupClassName).data(ie,h);G.enter().append("g").classed(t.headerGroupClassName,!0);for(var W=r.ensureSingle(F,"g",t.dropdownButtonGroupClassName,function(ye){ye.style("pointer-events","all")}),X=0;X<ie.length;X++){var J=ie[X];B(Z,J)}var ne="updatemenus"+$._uid,fe=new u(Z,W,ne);G.enter().size()&&(W.node().parentNode.appendChild(W.node()),W.call(O)),G.exit().each(function(ye){W.call(O),N(ye)}).remove(),G.each(function(ye){var Me=o.select(this),le=ye.type==="dropdown"?W:null;g.manageCommandObserver(Z,ye,ye.buttons,function(ve){d(Z,ye,ye.buttons[ve.index],Me,le,fe,ve.index,!0)}),ye.type==="dropdown"?(T(Z,Me,W,fe,ye),y(W,ye)&&x(Z,Me,W,fe,ye)):x(Z,Me,null,null,ye)})}};function h(R){return R._index}function m(R){return+R.attr(t.menuIndexAttrName)==-1}function y(R,Z){return+R.attr(t.menuIndexAttrName)===Z._index}function d(R,Z,$,ie,N,F,G,W){Z.active=G,l(R.layout,t.name,Z).applyUpdate("active",G),Z.type==="buttons"?x(R,ie,null,null,Z):Z.type==="dropdown"&&(N.attr(t.menuIndexAttrName,"-1"),T(R,ie,N,F,Z),W||x(R,ie,N,F,Z))}function T(R,Z,$,ie,N){var F=r.ensureSingle(Z,"g",t.headerClassName,function(ye){ye.style("pointer-events","all")}),G=N._dims,W=N.active,X=N.buttons[W]||t.blankHeaderOpts,J={y:N.pad.t,yPad:0,x:N.pad.l,xPad:0,index:0},ne={width:G.headerWidth,height:G.headerHeight};F.call(p,N,X,R).call(L,N,J,ne);var fe=r.ensureSingle(Z,"text",t.headerArrowClassName,function(ye){ye.attr("text-anchor","end").call(i.font,N.font).text(t.arrowSymbol[N.direction])});fe.attr({x:G.headerWidth-t.arrowOffsetX+N.pad.l,y:G.headerHeight/2+t.textOffsetY+N.pad.t}),F.on("click",function(){$.call(O,String(y($,N)?-1:N._index)),x(R,Z,$,ie,N)}),F.on("mouseover",function(){F.call(_)}),F.on("mouseout",function(){F.call(D,N)}),i.setTranslate(Z,G.lx,G.ly)}function x(R,Z,$,ie,N){$||($=Z,$.attr("pointer-events","all"));var F=!m($)||N.type==="buttons"?N.buttons:[],G=N.type==="dropdown"?t.dropdownButtonClassName:t.buttonClassName,W=$.selectAll("g."+G).data(r.filterVisible(F)),X=W.enter().append("g").classed(G,!0),J=W.exit();N.type==="dropdown"?(X.attr("opacity","0").transition().attr("opacity","1"),J.transition().attr("opacity","0").remove()):J.remove();var ne=0,fe=0,ye=N._dims,Me=["up","down"].indexOf(N.direction)!==-1;N.type==="dropdown"&&(Me?fe=ye.headerHeight+t.gapButtonHeader:ne=ye.headerWidth+t.gapButtonHeader),N.type==="dropdown"&&N.direction==="up"&&(fe=-t.gapButtonHeader+t.gapButton-ye.openHeight),N.type==="dropdown"&&N.direction==="left"&&(ne=-t.gapButtonHeader+t.gapButton-ye.openWidth);var le={x:ye.lx+ne+N.pad.l,y:ye.ly+fe+N.pad.t,yPad:t.gapButton,xPad:t.gapButton,index:0},ve={l:le.x+N.borderwidth,t:le.y+N.borderwidth};W.each(function(H,Y){var S=o.select(this);S.call(p,N,H,R).call(L,N,le),S.on("click",function(){o.event.defaultPrevented||(H.execute&&(H.args2&&N.active===Y?(d(R,N,H,Z,$,ie,-1),g.executeAPICommand(R,H.method,H.args2)):(d(R,N,H,Z,$,ie,Y),g.executeAPICommand(R,H.method,H.args))),R.emit("plotly_buttonclicked",{menu:N,button:H,active:N.active}))}),S.on("mouseover",function(){S.call(_)}),S.on("mouseout",function(){S.call(D,N),W.call(w,N)})}),W.call(w,N),Me?(ve.w=Math.max(ye.openWidth,ye.headerWidth),ve.h=le.y-ve.t):(ve.w=le.x-ve.l,ve.h=Math.max(ye.openHeight,ye.headerHeight)),ve.direction=N.direction,ie&&(W.size()?M(R,Z,$,ie,N,ve):c(ie))}function M(R,Z,$,ie,N,F){var G=N.direction,W=G==="up"||G==="down",X=N._dims,J=N.active,ne,fe,ye;if(W)for(fe=0,ye=0;ye<J;ye++)fe+=X.heights[ye]+t.gapButton;else for(ne=0,ye=0;ye<J;ye++)ne+=X.widths[ye]+t.gapButton;ie.enable(F,ne,fe),ie.hbar&&ie.hbar.attr("opacity","0").transition().attr("opacity","1"),ie.vbar&&ie.vbar.attr("opacity","0").transition().attr("opacity","1")}function c(R){var Z=!!R.hbar,$=!!R.vbar;Z&&R.hbar.transition().attr("opacity","0").each("end",function(){Z=!1,$||R.disable()}),$&&R.vbar.transition().attr("opacity","0").each("end",function(){$=!1,Z||R.disable()})}function p(R,Z,$,ie){R.call(v,Z).call(b,Z,$,ie)}function v(R,Z){var $=r.ensureSingle(R,"rect",t.itemRectClassName,function(ie){ie.attr({rx:t.rx,ry:t.ry,"shape-rendering":"crispEdges"})});$.call(s.stroke,Z.bordercolor).call(s.fill,Z.bgcolor).style("stroke-width",Z.borderwidth+"px")}function b(R,Z,$,ie){var N=r.ensureSingle(R,"text",t.itemTextClassName,function(W){W.attr({"text-anchor":"start","data-notex":1})}),F=$.label,G=ie._fullLayout._meta;G&&(F=r.templateString(F,G)),N.call(i.font,Z.font).text(F).call(f.convertToTspans,ie)}function w(R,Z){var $=Z.active;R.each(function(ie,N){var F=o.select(this);N===$&&Z.showactive&&F.select("rect."+t.itemRectClassName).call(s.fill,t.activeColor)})}function _(R){R.select("rect."+t.itemRectClassName).call(s.fill,t.hoverColor)}function D(R,Z){R.select("rect."+t.itemRectClassName).call(s.fill,Z.bgcolor)}function B(R,Z){var $=Z._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},ie=i.tester.selectAll("g."+t.dropdownButtonClassName).data(r.filterVisible(Z.buttons));ie.enter().append("g").classed(t.dropdownButtonClassName,!0);var N=["up","down"].indexOf(Z.direction)!==-1;ie.each(function(ne,fe){var ye=o.select(this);ye.call(p,Z,ne,R);var Me=ye.select("."+t.itemTextClassName),le=Me.node()&&i.bBox(Me.node()).width,ve=Math.max(le+t.textPadX,t.minWidth),H=Z.font.size*n,Y=f.lineCount(Me),S=Math.max(H*Y,t.minHeight)+t.textOffsetY;S=Math.ceil(S),ve=Math.ceil(ve),$.widths[fe]=ve,$.heights[fe]=S,$.height1=Math.max($.height1,S),$.width1=Math.max($.width1,ve),N?($.totalWidth=Math.max($.totalWidth,ve),$.openWidth=$.totalWidth,$.totalHeight+=S+t.gapButton,$.openHeight+=S+t.gapButton):($.totalWidth+=ve+t.gapButton,$.openWidth+=ve+t.gapButton,$.totalHeight=Math.max($.totalHeight,S),$.openHeight=$.totalHeight)}),N?$.totalHeight-=t.gapButton:$.totalWidth-=t.gapButton,$.headerWidth=$.width1+t.arrowPadX,$.headerHeight=$.height1,Z.type==="dropdown"&&(N?($.width1+=t.arrowPadX,$.totalHeight=$.height1):$.totalWidth=$.width1,$.totalWidth+=t.arrowPadX),ie.remove();var F=$.totalWidth+Z.pad.l+Z.pad.r,G=$.totalHeight+Z.pad.t+Z.pad.b,W=R._fullLayout._size;$.lx=W.l+W.w*Z.x,$.ly=W.t+W.h*(1-Z.y);var X="left";r.isRightAnchor(Z)&&($.lx-=F,X="right"),r.isCenterAnchor(Z)&&($.lx-=F/2,X="center");var J="top";r.isBottomAnchor(Z)&&($.ly-=G,J="bottom"),r.isMiddleAnchor(Z)&&($.ly-=G/2,J="middle"),$.totalWidth=Math.ceil($.totalWidth),$.totalHeight=Math.ceil($.totalHeight),$.lx=Math.round($.lx),$.ly=Math.round($.ly),g.autoMargin(R,U(Z),{x:Z.x,y:Z.y,l:F*({right:1,center:.5}[X]||0),r:F*({left:1,center:.5}[X]||0),b:G*({top:1,middle:.5}[J]||0),t:G*({bottom:1,middle:.5}[J]||0)})}function U(R){return t.autoMarginIdRoot+R._index}function L(R,Z,$,ie){ie=ie||{};var N=R.select("."+t.itemRectClassName),F=R.select("."+t.itemTextClassName),G=Z.borderwidth,W=$.index,X=Z._dims;i.setTranslate(R,G+$.x,G+$.y);var J=["up","down"].indexOf(Z.direction)!==-1,ne=ie.height||(J?X.heights[W]:X.height1);N.attr({x:0,y:0,width:ie.width||(J?X.width1:X.widths[W]),height:ne});var fe=Z.font.size*n,ye=f.lineCount(F),Me=(ye-1)*fe/2;f.positionText(F,t.textOffsetX,ne/2-Me+t.textOffsetY),J?$.y+=X.heights[W]+$.yPad:$.x+=X.widths[W]+$.xPad,$.index++}function O(R,Z){R.attr(t.menuIndexAttrName,Z||"-1").selectAll("g."+t.dropdownButtonClassName).remove()}},763:function(te,I,e){var o=e(5909);te.exports={moduleType:"component",name:o.name,layoutAttributes:e(7163),supplyLayoutDefaults:e(4897),draw:e(3689)}},5849:function(te,I,e){te.exports=r;var o=e(9898),g=e(7901),s=e(1424),i=e(1828);function r(f,l,n){this.gd=f,this.container=l,this.id=n,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}r.barWidth=2,r.barLength=20,r.barRadius=2,r.barPad=1,r.barColor="#808BA4",r.prototype.enable=function(l,n,t){var u=this.gd._fullLayout,h=u.width,m=u.height;this.position=l;var y=this.position.l,d=this.position.w,T=this.position.t,x=this.position.h,M=this.position.direction,c=M==="down",p=M==="left",v=M==="right",b=M==="up",w=d,_=x,D,B,U,L;!c&&!p&&!v&&!b&&(this.position.direction="down",c=!0);var O=c||b;O?(D=y,B=D+w,c?(U=T,L=Math.min(U+_,m),_=L-U):(L=T+_,U=Math.max(L-_,0),_=L-U)):(U=T,L=U+_,p?(B=y+w,D=Math.max(B-w,0),w=B-D):(D=y,B=Math.min(D+w,h),w=B-D)),this._box={l:D,t:U,w,h:_};var R=d>w,Z=r.barLength+2*r.barPad,$=r.barWidth+2*r.barPad,ie=y,N=T+x;N+$>m&&(N=m-$);var F=this.container.selectAll("rect.scrollbar-horizontal").data(R?[0]:[]);F.exit().on(".drag",null).remove(),F.enter().append("rect").classed("scrollbar-horizontal",!0).call(g.fill,r.barColor),R?(this.hbar=F.attr({rx:r.barRadius,ry:r.barRadius,x:ie,y:N,width:Z,height:$}),this._hbarXMin=ie+Z/2,this._hbarTranslateMax=w-Z):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var G=x>_,W=r.barWidth+2*r.barPad,X=r.barLength+2*r.barPad,J=y+d,ne=T;J+W>h&&(J=h-W);var fe=this.container.selectAll("rect.scrollbar-vertical").data(G?[0]:[]);fe.exit().on(".drag",null).remove(),fe.enter().append("rect").classed("scrollbar-vertical",!0).call(g.fill,r.barColor),G?(this.vbar=fe.attr({rx:r.barRadius,ry:r.barRadius,x:J,y:ne,width:W,height:X}),this._vbarYMin=ne+X/2,this._vbarTranslateMax=_-X):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ye=this.id,Me=D-.5,le=G?B+W+.5:B+.5,ve=U-.5,H=R?L+$+.5:L+.5,Y=u._topdefs.selectAll("#"+ye).data(R||G?[0]:[]);if(Y.exit().remove(),Y.enter().append("clipPath").attr("id",ye).append("rect"),R||G?(this._clipRect=Y.select("rect").attr({x:Math.floor(Me),y:Math.floor(ve),width:Math.ceil(le)-Math.floor(Me),height:Math.ceil(H)-Math.floor(ve)}),this.container.call(s.setClipUrl,ye,this.gd),this.bg.attr({x:y,y:T,width:d,height:x})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(s.setClipUrl,null),delete this._clipRect),R||G){var S=o.behavior.drag().on("dragstart",function(){o.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(S);var E=o.behavior.drag().on("dragstart",function(){o.event.sourceEvent.preventDefault(),o.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));R&&this.hbar.on(".drag",null).call(E),G&&this.vbar.on(".drag",null).call(E)}this.setTranslate(n,t)},r.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(s.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},r.prototype._onBoxDrag=function(){var l=this.translateX,n=this.translateY;this.hbar&&(l-=o.event.dx),this.vbar&&(n-=o.event.dy),this.setTranslate(l,n)},r.prototype._onBoxWheel=function(){var l=this.translateX,n=this.translateY;this.hbar&&(l+=o.event.deltaY),this.vbar&&(n+=o.event.deltaY),this.setTranslate(l,n)},r.prototype._onBarDrag=function(){var l=this.translateX,n=this.translateY;if(this.hbar){var t=l+this._hbarXMin,u=t+this._hbarTranslateMax,h=i.constrain(o.event.x,t,u),m=(h-t)/(u-t),y=this.position.w-this._box.w;l=m*y}if(this.vbar){var d=n+this._vbarYMin,T=d+this._vbarTranslateMax,x=i.constrain(o.event.y,d,T),M=(x-d)/(T-d),c=this.position.h-this._box.h;n=M*c}this.setTranslate(l,n)},r.prototype.setTranslate=function(l,n){var t=this.position.w-this._box.w,u=this.position.h-this._box.h;if(l=i.constrain(l||0,0,t),n=i.constrain(n||0,0,u),this.translateX=l,this.translateY=n,this.container.call(s.setTranslate,this._box.l-this.position.l-l,this._box.t-this.position.t-n),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+l-.5),y:Math.floor(this.position.t+n-.5)}),this.hbar){var h=l/t;this.hbar.call(s.setTranslate,l+h*this._hbarTranslateMax,n)}if(this.vbar){var m=n/u;this.vbar.call(s.setTranslate,l,n+m*this._vbarTranslateMax)}}},8783:function(te){te.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},4695:function(te){te.exports={axisRefDescription:function(I,e,o){return["If set to a",I,"axis id (e.g. *"+I+"* or","*"+I+"2*), the `"+I+"` position refers to a",I,"coordinate. If set to *paper*, the `"+I+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+o+"). If set to a",I,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+I+"2 domain* refers to the domain of the second",I," axis and a",I,"position of 0.5 refers to the","point between the",e,"and the",o,"of the domain of the","second",I,"axis."].join(" ")}}},1562:function(te){te.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},4808:function(te){te.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},7822:function(te){te.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},606:function(te){te.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},7922:function(te,I){I.xmlns="http://www.w3.org/2000/xmlns/",I.svg="http://www.w3.org/2000/svg",I.xlink="http://www.w3.org/1999/xlink",I.svgAttrs={xmlns:I.svg,"xmlns:xlink":I.xlink}},8729:function(te,I,e){I.version=e(1506).version,e(7417),e(8847);for(var o=e(3972),g=I.register=o.register,s=e(641),i=Object.keys(s),r=0;r<i.length;r++){var f=i[r];f.charAt(0)!=="_"&&(I[f]=s[f]),g({moduleType:"apiMethod",name:f,fn:s[f]})}g(e(7368)),g([e(2745),e(2468),e(7322),e(9853),e(8804),e(763),e(3243),e(3137),e(7218),e(3312),e(7369),e(1081),e(2311),e(2199),e(211),e(4168)]),g([e(2177),e(7815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(g(window.PlotlyLocales),delete window.PlotlyLocales),I.Icons=e(4255);var l=e(211),n=e(4875);I.Plots={resize:n.resize,graphJson:n.graphJson,sendDataToCloud:n.sendDataToCloud},I.Fx={hover:l.hover,unhover:l.unhover,loneHover:l.loneHover,loneUnhover:l.loneUnhover},I.Snapshot=e(4511),I.PlotSchema=e(6281)},4255:function(te){te.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},9863:function(te,I){I.isLeftAnchor=function(o){return o.xanchor==="left"||o.xanchor==="auto"&&o.x<=.3333333333333333},I.isCenterAnchor=function(o){return o.xanchor==="center"||o.xanchor==="auto"&&o.x>.3333333333333333&&o.x<.6666666666666666},I.isRightAnchor=function(o){return o.xanchor==="right"||o.xanchor==="auto"&&o.x>=.6666666666666666},I.isTopAnchor=function(o){return o.yanchor==="top"||o.yanchor==="auto"&&o.y>=.6666666666666666},I.isMiddleAnchor=function(o){return o.yanchor==="middle"||o.yanchor==="auto"&&o.y>.3333333333333333&&o.y<.6666666666666666},I.isBottomAnchor=function(o){return o.yanchor==="bottom"||o.yanchor==="auto"&&o.y<=.3333333333333333}},6348:function(te,I,e){var o=e(4872),g=o.mod,s=o.modHalf,i=Math.PI,r=2*i;function f(M){return M/180*i}function l(M){return M/i*180}function n(M){return Math.abs(M[1]-M[0])>r-1e-14}function t(M,c){return s(c-M,r)}function u(M,c){return Math.abs(t(M,c))}function h(M,c){if(n(c))return!0;var p,v;c[0]<c[1]?(p=c[0],v=c[1]):(p=c[1],v=c[0]),p=g(p,r),v=g(v,r),p>v&&(v+=r);var b=g(M,r),w=b+r;return b>=p&&b<=v||w>=p&&w<=v}function m(M,c,p,v){if(!h(c,v))return!1;var b,w;return p[0]<p[1]?(b=p[0],w=p[1]):(b=p[1],w=p[0]),M>=b&&M<=w}function y(M,c,p,v,b,w,_){b=b||0,w=w||0;var D=n([p,v]),B,U,L,O,R;D?(B=0,U=i,L=r):p<v?(B=p,L=v):(B=v,L=p),M<c?(O=M,R=c):(O=c,R=M);function Z(F,G){return[F*Math.cos(G)+b,w-F*Math.sin(G)]}var $=Math.abs(L-B)<=i?0:1;function ie(F,G,W){return"A"+[F,F]+" "+[0,$,W]+" "+Z(F,G)}var N;return D?O===null?N="M"+Z(R,B)+ie(R,U,0)+ie(R,L,0)+"Z":N="M"+Z(O,B)+ie(O,U,0)+ie(O,L,0)+"ZM"+Z(R,B)+ie(R,U,1)+ie(R,L,1)+"Z":O===null?(N="M"+Z(R,B)+ie(R,L,0),_&&(N+="L0,0Z")):N="M"+Z(O,B)+"L"+Z(R,B)+ie(R,L,0)+"L"+Z(O,L)+ie(O,B,1)+"Z",N}function d(M,c,p,v,b){return y(null,M,c,p,v,b,0)}function T(M,c,p,v,b){return y(null,M,c,p,v,b,1)}function x(M,c,p,v,b,w){return y(M,c,p,v,b,w,1)}te.exports={deg2rad:f,rad2deg:l,angleDelta:t,angleDist:u,isFullCircle:n,isAngleInsideSector:h,isPtInsideSector:m,pathArc:d,pathSector:T,pathAnnulus:x}},3627:function(te,I){var e=Array.isArray,o=ArrayBuffer,g=DataView;function s(l){return o.isView(l)&&!(l instanceof g)}I.isTypedArray=s;function i(l){return e(l)||s(l)}I.isArrayOrTypedArray=i;function r(l){return!i(l[0])}I.isArray1D=r,I.ensureArray=function(l,n){return e(l)||(l=[]),l.length=n,l},I.concat=function(){var l=[],n=!0,t=0,u,h,m,y,d,T,x,M;for(m=0;m<arguments.length;m++)y=arguments[m],T=y.length,T&&(h?l.push(y):(h=y,d=T),e(y)?u=!1:(n=!1,t?u!==y.constructor&&(u=!1):u=y.constructor),t+=T);if(!t)return[];if(!l.length)return h;if(n)return h.concat.apply(h,l);if(u){for(x=new u(t),x.set(h),m=0;m<l.length;m++)y=l[m],x.set(y,d),d+=y.length;return x}for(x=new Array(t),M=0;M<h.length;M++)x[M]=h[M];for(m=0;m<l.length;m++){for(y=l[m],M=0;M<y.length;M++)x[d+M]=y[M];d+=M}return x},I.maxRowLength=function(l){return f(l,Math.max,0)},I.minRowLength=function(l){return f(l,Math.min,1/0)};function f(l,n,t){if(i(l))if(i(l[0])){for(var u=t,h=0;h<l.length;h++)u=n(u,l[h].length);return u}else return l.length;return 0}},5218:function(te,I,e){var o=e(2770),g=e(606).BADNUM,s=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;te.exports=function(r){return typeof r=="string"&&(r=r.replace(s,"")),o(r)?Number(r):g}},3306:function(te){te.exports=function(e){var o=e._fullLayout;o._glcanvas&&o._glcanvas.size()&&o._glcanvas.each(function(g){g.regl&&g.regl.clear({color:!0,depth:!0})})}},6367:function(te){te.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},6554:function(te,I,e){var o=e(2770),g=e(4267),s=e(9012),i=e(3282),r=e(7901),f=e(7822).DESELECTDIM,l=e(5487),n=e(587).counter,t=e(4872).modHalf,u=e(3627).isArrayOrTypedArray;I.valObjectMeta={data_array:{coerceFunction:function(m,y,d){u(m)?y.set(m):d!==void 0&&y.set(d)}},enumerated:{coerceFunction:function(m,y,d,T){T.coerceNumber&&(m=+m),T.values.indexOf(m)===-1?y.set(d):y.set(m)},validateFunction:function(m,y){y.coerceNumber&&(m=+m);for(var d=y.values,T=0;T<d.length;T++){var x=String(d[T]);if(x.charAt(0)==="/"&&x.charAt(x.length-1)==="/"){var M=new RegExp(x.substr(1,x.length-2));if(M.test(m))return!0}else if(m===d[T])return!0}return!1}},boolean:{coerceFunction:function(m,y,d){m===!0||m===!1?y.set(m):y.set(d)}},number:{coerceFunction:function(m,y,d,T){!o(m)||T.min!==void 0&&m<T.min||T.max!==void 0&&m>T.max?y.set(d):y.set(+m)}},integer:{coerceFunction:function(m,y,d,T){m%1||!o(m)||T.min!==void 0&&m<T.min||T.max!==void 0&&m>T.max?y.set(d):y.set(+m)}},string:{coerceFunction:function(m,y,d,T){if(typeof m!="string"){var x=typeof m=="number";T.strict===!0||!x?y.set(d):y.set(String(m))}else T.noBlank&&!m?y.set(d):y.set(m)}},color:{coerceFunction:function(m,y,d){g(m).isValid()?y.set(m):y.set(d)}},colorlist:{coerceFunction:function(m,y,d){function T(x){return g(x).isValid()}!Array.isArray(m)||!m.length?y.set(d):m.every(T)?y.set(m):y.set(d)}},colorscale:{coerceFunction:function(m,y,d){y.set(i.get(m,d))}},angle:{coerceFunction:function(m,y,d){m==="auto"?y.set("auto"):o(m)?y.set(t(+m,360)):y.set(d)}},subplotid:{coerceFunction:function(m,y,d,T){var x=T.regex||n(d);if(typeof m=="string"&&x.test(m)){y.set(m);return}y.set(d)},validateFunction:function(m,y){var d=y.dflt;return m===d?!0:typeof m!="string"?!1:!!n(d).test(m)}},flaglist:{coerceFunction:function(m,y,d,T){if((T.extras||[]).indexOf(m)!==-1){y.set(m);return}if(typeof m!="string"){y.set(d);return}for(var x=m.split("+"),M=0;M<x.length;){var c=x[M];T.flags.indexOf(c)===-1||x.indexOf(c)<M?x.splice(M,1):M++}x.length?y.set(x.join("+")):y.set(d)}},any:{coerceFunction:function(m,y,d){m===void 0?y.set(d):y.set(m)}},info_array:{coerceFunction:function(m,y,d,T){function x(Z,$,ie){var N,F={set:function(G){N=G}};return ie===void 0&&(ie=$.dflt),I.valObjectMeta[$.valType].coerceFunction(Z,F,ie,$),N}var M=T.dimensions===2||T.dimensions==="1-2"&&Array.isArray(m)&&Array.isArray(m[0]);if(!Array.isArray(m)){y.set(d);return}var c=T.items,p=[],v=Array.isArray(c),b=v&&M&&Array.isArray(c[0]),w=M&&v&&!b,_=v&&!w?c.length:m.length,D,B,U,L,O,R;if(d=Array.isArray(d)?d:[],M)for(D=0;D<_;D++)for(p[D]=[],U=Array.isArray(m[D])?m[D]:[],w?O=c.length:v?O=c[D].length:O=U.length,B=0;B<O;B++)w?L=c[B]:v?L=c[D][B]:L=c,R=x(U[B],L,(d[D]||[])[B]),R!==void 0&&(p[D][B]=R);else for(D=0;D<_;D++)R=x(m[D],v?c[D]:c,d[D]),R!==void 0&&(p[D]=R);y.set(p)},validateFunction:function(m,y){if(!Array.isArray(m))return!1;var d=y.items,T=Array.isArray(d),x=y.dimensions===2;if(!y.freeLength&&m.length!==d.length)return!1;for(var M=0;M<m.length;M++)if(x){if(!Array.isArray(m[M])||!y.freeLength&&m[M].length!==d[M].length)return!1;for(var c=0;c<m[M].length;c++)if(!h(m[M][c],T?d[M][c]:d))return!1}else if(!h(m[M],T?d[M]:d))return!1;return!0}}},I.coerce=function(m,y,d,T,x){var M=l(d,T).get(),c=l(m,T),p=l(y,T),v=c.get(),b=y._template;if(v===void 0&&b&&(v=l(b,T).get(),b=0),x===void 0&&(x=M.dflt),M.arrayOk&&u(v))return p.set(v),v;var w=I.valObjectMeta[M.valType].coerceFunction;w(v,p,x,M);var _=p.get();return b&&_===x&&!h(v,M)&&(v=l(b,T).get(),w(v,p,x,M),_=p.get()),_},I.coerce2=function(m,y,d,T,x){var M=l(m,T),c=I.coerce(m,y,d,T,x),p=M.get();return p!=null?c:!1},I.coerceFont=function(m,y,d){var T={};return d=d||{},T.family=m(y+".family",d.family),T.size=m(y+".size",d.size),T.color=m(y+".color",d.color),T},I.coercePattern=function(m,y,d,T){var x=m(y+".shape");if(x){m(y+".solidity"),m(y+".size");var M=m(y+".fillmode"),c=M==="overlay";if(!T){var p=m(y+".bgcolor",c?d:void 0);m(y+".fgcolor",c?r.contrast(p):d)}m(y+".fgopacity",c?.5:1)}},I.coerceHoverinfo=function(m,y,d){var T=y._module.attributes,x=T.hoverinfo?T:s,M=x.hoverinfo,c;if(d._dataLength===1){var p=M.dflt==="all"?M.flags.slice():M.dflt.split("+");p.splice(p.indexOf("name"),1),c=p.join("+")}return I.coerce(m,y,x,"hoverinfo",c)},I.coerceSelectionMarkerOpacity=function(m,y){if(m.marker){var d=m.marker.opacity;if(d!==void 0){var T,x;!u(d)&&!m.selected&&!m.unselected&&(T=d,x=f*d),y("selected.marker.opacity",T),y("unselected.marker.opacity",x)}}};function h(m,y){var d=I.valObjectMeta[y.valType];if(y.arrayOk&&u(m))return!0;if(d.validateFunction)return d.validateFunction(m,y);var T={},x=T,M={set:function(c){x=c}};return d.coerceFunction(m,M,T,y),x!==T}I.validate=h},1631:function(te,I,e){var o=e(4096).i$,g=e(2770),s=e(7769),i=e(4872).mod,r=e(606),f=r.BADNUM,l=r.ONEDAY,n=r.ONEHOUR,t=r.ONEMIN,u=r.ONESEC,h=r.EPOCHJD,m=e(3972),y=e(4096).g0,d=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,T=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,x=new Date().getFullYear()-70;function M(N){return N&&m.componentsRegistry.calendars&&typeof N=="string"&&N!=="gregorian"}I.dateTick0=function(N,F){var G=c(N,!!F);if(F<2)return G;var W=I.dateTime2ms(G,N);return W+=l*(F-1),I.ms2DateTime(W,0,N)};function c(N,F){return M(N)?F?m.getComponentMethod("calendars","CANONICAL_SUNDAY")[N]:m.getComponentMethod("calendars","CANONICAL_TICK")[N]:F?"2000-01-02":"2000-01-01"}I.dfltRange=function(N){return M(N)?m.getComponentMethod("calendars","DFLTRANGE")[N]:["2000-01-01","2001-01-01"]},I.isJSDate=function(N){return typeof N=="object"&&N!==null&&typeof N.getTime=="function"};var p,v;I.dateTime2ms=function(N,F){if(I.isJSDate(N)){var G=N.getTimezoneOffset()*t,W=(N.getUTCMinutes()-N.getMinutes())*t+(N.getUTCSeconds()-N.getSeconds())*u+(N.getUTCMilliseconds()-N.getMilliseconds());if(W){var X=3*t;G=G-X/2+i(W-G+X/2,X)}return N=Number(N)-G,N>=p&&N<=v?N:f}if(typeof N!="string"&&typeof N!="number")return f;N=String(N);var J=M(F),ne=N.charAt(0);J&&(ne==="G"||ne==="g")&&(N=N.substr(1),F="");var fe=J&&F.substr(0,7)==="chinese",ye=N.match(fe?T:d);if(!ye)return f;var Me=ye[1],le=ye[3]||"1",ve=Number(ye[5]||1),H=Number(ye[7]||0),Y=Number(ye[9]||0),S=Number(ye[11]||0);if(J){if(Me.length===2)return f;Me=Number(Me);var E;try{var z=m.getComponentMethod("calendars","getCal")(F);if(fe){var C=le.charAt(le.length-1)==="i";le=parseInt(le,10),E=z.newDate(Me,z.toMonthIndex(Me,le,C),ve)}else E=z.newDate(Me,Number(le),ve)}catch{return f}return E?(E.toJD()-h)*l+H*n+Y*t+S*u:f}Me.length===2?Me=(Number(Me)+2e3-x)%100+x:Me=Number(Me),le-=1;var K=new Date(Date.UTC(2e3,le,ve,H,Y));return K.setUTCFullYear(Me),K.getUTCMonth()!==le||K.getUTCDate()!==ve?f:K.getTime()+S*u},p=I.MIN_MS=I.dateTime2ms("-9999"),v=I.MAX_MS=I.dateTime2ms("9999-12-31 23:59:59.9999"),I.isDateTime=function(N,F){return I.dateTime2ms(N,F)!==f};function b(N,F){return String(N+Math.pow(10,F)).substr(1)}var w=90*l,_=3*n,D=5*t;I.ms2DateTime=function(N,F,G){if(typeof N!="number"||!(N>=p&&N<=v))return f;F||(F=0);var W=Math.floor(i(N+.05,1)*10),X=Math.round(N-W/10),J,ne,fe,ye,Me,le;if(M(G)){var ve=Math.floor(X/l)+h,H=Math.floor(i(N,l));try{J=m.getComponentMethod("calendars","getCal")(G).fromJD(ve).formatDate("yyyy-mm-dd")}catch{J=y("G%Y-%m-%d")(new Date(X))}if(J.charAt(0)==="-")for(;J.length<11;)J="-0"+J.substr(1);else for(;J.length<10;)J="0"+J;ne=F<w?Math.floor(H/n):0,fe=F<w?Math.floor(H%n/t):0,ye=F<_?Math.floor(H%t/u):0,Me=F<D?H%u*10+W:0}else le=new Date(X),J=y("%Y-%m-%d")(le),ne=F<w?le.getUTCHours():0,fe=F<w?le.getUTCMinutes():0,ye=F<_?le.getUTCSeconds():0,Me=F<D?le.getUTCMilliseconds()*10+W:0;return B(J,ne,fe,ye,Me)},I.ms2DateTimeLocal=function(N){if(!(N>=p+l&&N<=v-l))return f;var F=Math.floor(i(N+.05,1)*10),G=new Date(Math.round(N-F/10)),W=o("%Y-%m-%d")(G),X=G.getHours(),J=G.getMinutes(),ne=G.getSeconds(),fe=G.getUTCMilliseconds()*10+F;return B(W,X,J,ne,fe)};function B(N,F,G,W,X){if((F||G||W||X)&&(N+=" "+b(F,2)+":"+b(G,2),(W||X)&&(N+=":"+b(W,2),X))){for(var J=4;X%10===0;)J-=1,X/=10;N+="."+b(X,J)}return N}I.cleanDate=function(N,F,G){if(N===f)return F;if(I.isJSDate(N)||typeof N=="number"&&isFinite(N)){if(M(G))return s.error("JS Dates and milliseconds are incompatible with world calendars",N),F;if(N=I.ms2DateTimeLocal(+N),!N&&F!==void 0)return F}else if(!I.isDateTime(N,G))return s.error("unrecognized date",N),F;return N};var U=/%\d?f/g,L=/%h/g,O={1:"1",2:"1",3:"2",4:"2"};function R(N,F,G,W){N=N.replace(U,function(J){var ne=Math.min(+J.charAt(1)||6,6),fe=(F/1e3%1+2).toFixed(ne).substr(2).replace(/0+$/,"")||"0";return fe});var X=new Date(Math.floor(F+.05));if(N=N.replace(L,function(){return O[G("%q")(X)]}),M(W))try{N=m.getComponentMethod("calendars","worldCalFmt")(N,F,W)}catch{return"Invalid"}return G(N)(X)}var Z=[59,59.9,59.99,59.999,59.9999];function $(N,F){var G=i(N+.05,l),W=b(Math.floor(G/n),2)+":"+b(i(Math.floor(G/t),60),2);if(F!=="M"){g(F)||(F=0);var X=Math.min(i(N/u,60),Z[F]),J=(100+X).toFixed(F).substr(1);F>0&&(J=J.replace(/0+$/,"").replace(/[\.]$/,"")),W+=":"+J}return W}I.formatDate=function(N,F,G,W,X,J){if(X=M(X)&&X,!F)if(G==="y")F=J.year;else if(G==="m")F=J.month;else if(G==="d")F=J.dayMonth+`
`+J.year;else return $(N,G)+`
`+R(J.dayMonthYear,N,W,X);return R(F,N,W,X)};var ie=3*l;I.incrementMonth=function(N,F,G){G=M(G)&&G;var W=i(N,l);if(N=Math.round(N-W),G)try{var X=Math.round(N/l)+h,J=m.getComponentMethod("calendars","getCal")(G),ne=J.fromJD(X);return F%12?J.add(ne,F,"m"):J.add(ne,F/12,"y"),(ne.toJD()-h)*l+W}catch{s.error("invalid ms "+N+" in calendar "+G)}var fe=new Date(N+ie);return fe.setUTCMonth(fe.getUTCMonth()+F)+W-ie},I.findExactDates=function(N,F){for(var G=0,W=0,X=0,J=0,ne,fe,ye=M(F)&&m.getComponentMethod("calendars","getCal")(F),Me=0;Me<N.length;Me++){if(fe=N[Me],!g(fe)){J++;continue}if(!(fe%l))if(ye)try{ne=ye.fromJD(fe/l+h),ne.day()===1?ne.month()===1?G++:W++:X++}catch{}else ne=new Date(fe),ne.getUTCDate()===1?ne.getUTCMonth()===0?G++:W++:X++}W+=G,X+=W;var le=N.length-J;return{exactYears:G/le,exactMonths:W/le,exactDays:X/le}}},4401:function(te,I,e){var o=e(9898),g=e(7769),s=e(5657),i=e(9576);function r(x){var M;if(typeof x=="string"){if(M=document.getElementById(x),M===null)throw new Error("No DOM element with id '"+x+"' exists on the page.");return M}else if(x==null)throw new Error("DOM element provided is null or undefined");return x}function f(x){var M=o.select(x);return M.node()instanceof HTMLElement&&M.size()&&M.classed("js-plotly-plot")}function l(x){var M=x&&x.parentNode;M&&M.removeChild(x)}function n(x,M){t("global",x,M)}function t(x,M,c){var p="plotly.js-style-"+x,v=document.getElementById(p);v||(v=document.createElement("style"),v.setAttribute("id",p),v.appendChild(document.createTextNode("")),document.head.appendChild(v));var b=v.sheet;b.insertRule?b.insertRule(M+"{"+c+"}",0):b.addRule?b.addRule(M,c,0):g.warn("addStyleRule failed")}function u(x){var M="plotly.js-style-"+x,c=document.getElementById(M);c&&l(c)}function h(x){var M=y(x),c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return M.forEach(function(p){var v=m(p);if(v){var b=s.convertCssMatrix(v);c=i.multiply(c,c,b)}}),c}function m(x){var M=window.getComputedStyle(x,null),c=M.getPropertyValue("-webkit-transform")||M.getPropertyValue("-moz-transform")||M.getPropertyValue("-ms-transform")||M.getPropertyValue("-o-transform")||M.getPropertyValue("transform");return c==="none"?null:c.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(p){return+p})}function y(x){for(var M=[];d(x);)M.push(x),x=x.parentNode;return M}function d(x){return x&&(x instanceof Element||x instanceof HTMLElement)}function T(x,M){return x&&M&&x.top===M.top&&x.left===M.left&&x.right===M.right&&x.bottom===M.bottom}te.exports={getGraphDiv:r,isPlotDiv:f,removeElement:l,addStyleRule:n,addRelatedStyleRule:t,deleteRelatedStyleRule:u,getFullTransformMatrix:h,getElementTransformMatrix:m,getElementAndAncestors:y,equalDomRects:T}},1086:function(te,I,e){var o=e(5398).EventEmitter,g={init:function(s){if(s._ev instanceof o)return s;var i=new o,r=new o;return s._ev=i,s._internalEv=r,s.on=i.on.bind(i),s.once=i.once.bind(i),s.removeListener=i.removeListener.bind(i),s.removeAllListeners=i.removeAllListeners.bind(i),s._internalOn=r.on.bind(r),s._internalOnce=r.once.bind(r),s._removeInternalListener=r.removeListener.bind(r),s._removeAllInternalListeners=r.removeAllListeners.bind(r),s.emit=function(f,l){typeof jQuery<"u"&&jQuery(s).trigger(f,l),i.emit(f,l),r.emit(f,l)},s},triggerHandler:function(s,i,r){var f,l;typeof jQuery<"u"&&(f=jQuery(s).triggerHandler(i,r));var n=s._ev;if(!n)return f;var t=n._events[i];if(!t)return f;function u(m){if(m.listener){if(n.removeListener(i,m.listener),!m.fired)return m.fired=!0,m.listener.apply(n,[r])}else return m.apply(n,[r])}t=Array.isArray(t)?t:[t];var h;for(h=0;h<t.length-1;h++)u(t[h]);return l=u(t[h]),f!==void 0?f:l},purge:function(s){return delete s._ev,delete s.on,delete s.once,delete s.removeListener,delete s.removeAllListeners,delete s.emit,delete s._ev,delete s._internalEv,delete s._internalOn,delete s._internalOnce,delete s._removeInternalListener,delete s._removeAllInternalListeners,s}};te.exports=g},1426:function(te,I,e){var o=e(1965),g=Array.isArray;function s(r,f){var l,n;for(l=0;l<r.length;l++){if(n=r[l],n!==null&&typeof n=="object")return!1;n!==void 0&&(f[l]=n)}return!0}I.extendFlat=function(){return i(arguments,!1,!1,!1)},I.extendDeep=function(){return i(arguments,!0,!1,!1)},I.extendDeepAll=function(){return i(arguments,!0,!0,!1)},I.extendDeepNoArrays=function(){return i(arguments,!0,!1,!0)};function i(r,f,l,n){var t=r[0],u=r.length,h,m,y,d,T,x,M;if(u===2&&g(t)&&g(r[1])&&t.length===0){if(M=s(r[1],t),M)return t;t.splice(0,t.length)}for(var c=1;c<u;c++){h=r[c];for(m in h)y=t[m],d=h[m],n&&g(d)?t[m]=d:f&&d&&(o(d)||(T=g(d)))?(T?(T=!1,x=y&&g(y)?y:[]):x=y&&o(y)?y:{},t[m]=i([x,d],f,l,n)):(typeof d<"u"||l)&&(t[m]=d)}return t}},5744:function(te){te.exports=function(e){for(var o={},g=[],s=0,i=0;i<e.length;i++){var r=e[i];o[r]!==1&&(o[r]=1,g[s++]=r)}return g}},6756:function(te){te.exports=function(s){for(var i=o(s)?e:I,r=[],f=0;f<s.length;f++){var l=s[f];i(l)&&r.push(l)}return r};function I(g){return g.visible===!0}function e(g){var s=g[0].trace;return s.visible===!0&&s._length!==0}function o(g){return Array.isArray(g)&&Array.isArray(g[0])&&g[0][0]&&g[0][0].trace}},7642:function(te,I,e){var o=e(4872).mod;I.segmentsIntersect=g;function g(l,n,t,u,h,m,y,d){var T=t-l,x=h-l,M=y-h,c=u-n,p=m-n,v=d-m,b=T*v-M*c;if(b===0)return null;var w=(x*v-M*p)/b,_=(x*c-T*p)/b;return _<0||_>1||w<0||w>1?null:{x:l+T*w,y:n+c*w}}I.segmentDistance=function(n,t,u,h,m,y,d,T){if(g(n,t,u,h,m,y,d,T))return 0;var x=u-n,M=h-t,c=d-m,p=T-y,v=x*x+M*M,b=c*c+p*p,w=Math.min(s(x,M,v,m-n,y-t),s(x,M,v,d-n,T-t),s(c,p,b,n-m,t-y),s(c,p,b,u-m,h-y));return Math.sqrt(w)};function s(l,n,t,u,h){var m=u*l+h*n;if(m<0)return u*u+h*h;if(m>t){var y=u-l,d=h-n;return y*y+d*d}else{var T=u*n-h*l;return T*T/t}}var i,r,f;I.getTextLocation=function(n,t,u,h){if((n!==r||h!==f)&&(i={},r=n,f=h),i[u])return i[u];var m=n.getPointAtLength(o(u-h/2,t)),y=n.getPointAtLength(o(u+h/2,t)),d=Math.atan((y.y-m.y)/(y.x-m.x)),T=n.getPointAtLength(o(u,t)),x=(T.x*4+m.x+y.x)/6,M=(T.y*4+m.y+y.y)/6,c={x,y:M,theta:d};return i[u]=c,c},I.clearLocationCache=function(){r=null},I.getVisibleSegment=function(n,t,u){var h=t.left,m=t.right,y=t.top,d=t.bottom,T=0,x=n.getTotalLength(),M=x,c,p;function v(w){var _=n.getPointAtLength(w);w===0?c=_:w===x&&(p=_);var D=_.x<h?h-_.x:_.x>m?_.x-m:0,B=_.y<y?y-_.y:_.y>d?_.y-d:0;return Math.sqrt(D*D+B*B)}for(var b=v(T);b;){if(T+=b+u,T>M)return;b=v(T)}for(b=v(M);b;){if(M-=b+u,T>M)return;b=v(M)}return{min:T,max:M,len:M-T,total:x,isClosed:T===0&&M===x&&Math.abs(c.x-p.x)<.1&&Math.abs(c.y-p.y)<.1}},I.findPointOnPath=function(n,t,u,h){h=h||{};for(var m=h.pathLength||n.getTotalLength(),y=h.tolerance||.001,d=h.iterationLimit||30,T=n.getPointAtLength(0)[u]>n.getPointAtLength(m)[u]?-1:1,x=0,M=0,c=m,p,v,b;x<d;){if(p=(M+c)/2,v=n.getPointAtLength(p),b=v[u]-t,Math.abs(b)<y)return v;T*b>0?c=p:M=p,x++}return v}},3389:function(te){te.exports=function(e){return e}},9240:function(te){te.exports=function(e,o){if(!o)return e;var g=1/Math.abs(o),s=g>1?(g*e+g*o)/g:e+o,i=String(s).length;if(i>16){var r=String(o).length,f=String(e).length;if(i>=f+r){var l=parseFloat(s).toPrecision(12);l.indexOf("e+")===-1&&(s=+l)}}return s}},1828:function(te,I,e){var o=e(9898),g=e(4096).g0,s=e(721).WU,i=e(2770),r=e(606),f=r.FP_SAFE,l=-f,n=r.BADNUM,t=te.exports={};t.adjustFormat=function(E){return!E||/^\d[.]\df/.test(E)||/[.]\d%/.test(E)?E:E==="0.f"?"~f":/^\d%/.test(E)?"~%":/^\ds/.test(E)?"~s":!/^[~,.0$]/.test(E)&&/[&fps]/.test(E)?"~"+E:E};var u={};t.warnBadFormat=function(S){var E=String(S);u[E]||(u[E]=1,t.warn('encountered bad format: "'+E+'"'))},t.noFormat=function(S){return String(S)},t.numberFormat=function(S){var E;try{E=s(t.adjustFormat(S))}catch{return t.warnBadFormat(S),t.noFormat}return E},t.nestedProperty=e(5487),t.keyedContainer=e(6636),t.relativeAttr=e(6962),t.isPlainObject=e(1965),t.toLogRange=e(8163),t.relinkPrivateKeys=e(1332);var h=e(3627);t.isTypedArray=h.isTypedArray,t.isArrayOrTypedArray=h.isArrayOrTypedArray,t.isArray1D=h.isArray1D,t.ensureArray=h.ensureArray,t.concat=h.concat,t.maxRowLength=h.maxRowLength,t.minRowLength=h.minRowLength;var m=e(4872);t.mod=m.mod,t.modHalf=m.modHalf;var y=e(6554);t.valObjectMeta=y.valObjectMeta,t.coerce=y.coerce,t.coerce2=y.coerce2,t.coerceFont=y.coerceFont,t.coercePattern=y.coercePattern,t.coerceHoverinfo=y.coerceHoverinfo,t.coerceSelectionMarkerOpacity=y.coerceSelectionMarkerOpacity,t.validate=y.validate;var d=e(1631);t.dateTime2ms=d.dateTime2ms,t.isDateTime=d.isDateTime,t.ms2DateTime=d.ms2DateTime,t.ms2DateTimeLocal=d.ms2DateTimeLocal,t.cleanDate=d.cleanDate,t.isJSDate=d.isJSDate,t.formatDate=d.formatDate,t.incrementMonth=d.incrementMonth,t.dateTick0=d.dateTick0,t.dfltRange=d.dfltRange,t.findExactDates=d.findExactDates,t.MIN_MS=d.MIN_MS,t.MAX_MS=d.MAX_MS;var T=e(5888);t.findBin=T.findBin,t.sorterAsc=T.sorterAsc,t.sorterDes=T.sorterDes,t.distinctVals=T.distinctVals,t.roundUp=T.roundUp,t.sort=T.sort,t.findIndexOfMin=T.findIndexOfMin,t.sortObjectKeys=e(8607);var x=e(38);t.aggNums=x.aggNums,t.len=x.len,t.mean=x.mean,t.median=x.median,t.midRange=x.midRange,t.variance=x.variance,t.stdev=x.stdev,t.interp=x.interp;var M=e(5657);t.init2dArray=M.init2dArray,t.transposeRagged=M.transposeRagged,t.dot=M.dot,t.translationMatrix=M.translationMatrix,t.rotationMatrix=M.rotationMatrix,t.rotationXYMatrix=M.rotationXYMatrix,t.apply3DTransform=M.apply3DTransform,t.apply2DTransform=M.apply2DTransform,t.apply2DTransform2=M.apply2DTransform2,t.convertCssMatrix=M.convertCssMatrix,t.inverseTransformMatrix=M.inverseTransformMatrix;var c=e(6348);t.deg2rad=c.deg2rad,t.rad2deg=c.rad2deg,t.angleDelta=c.angleDelta,t.angleDist=c.angleDist,t.isFullCircle=c.isFullCircle,t.isAngleInsideSector=c.isAngleInsideSector,t.isPtInsideSector=c.isPtInsideSector,t.pathArc=c.pathArc,t.pathSector=c.pathSector,t.pathAnnulus=c.pathAnnulus;var p=e(9863);t.isLeftAnchor=p.isLeftAnchor,t.isCenterAnchor=p.isCenterAnchor,t.isRightAnchor=p.isRightAnchor,t.isTopAnchor=p.isTopAnchor,t.isMiddleAnchor=p.isMiddleAnchor,t.isBottomAnchor=p.isBottomAnchor;var v=e(7642);t.segmentsIntersect=v.segmentsIntersect,t.segmentDistance=v.segmentDistance,t.getTextLocation=v.getTextLocation,t.clearLocationCache=v.clearLocationCache,t.getVisibleSegment=v.getVisibleSegment,t.findPointOnPath=v.findPointOnPath;var b=e(1426);t.extendFlat=b.extendFlat,t.extendDeep=b.extendDeep,t.extendDeepAll=b.extendDeepAll,t.extendDeepNoArrays=b.extendDeepNoArrays;var w=e(7769);t.log=w.log,t.warn=w.warn,t.error=w.error;var _=e(587);t.counterRegex=_.counter;var D=e(9990);t.throttle=D.throttle,t.throttleDone=D.done,t.clearThrottle=D.clear;var B=e(4401);t.getGraphDiv=B.getGraphDiv,t.isPlotDiv=B.isPlotDiv,t.removeElement=B.removeElement,t.addStyleRule=B.addStyleRule,t.addRelatedStyleRule=B.addRelatedStyleRule,t.deleteRelatedStyleRule=B.deleteRelatedStyleRule,t.getFullTransformMatrix=B.getFullTransformMatrix,t.getElementTransformMatrix=B.getElementTransformMatrix,t.getElementAndAncestors=B.getElementAndAncestors,t.equalDomRects=B.equalDomRects,t.clearResponsive=e(6367),t.preserveDrawingBuffer=e(5142),t.makeTraceGroups=e(7310),t._=e(5867),t.notifier=e(5046),t.filterUnique=e(5744),t.filterVisible=e(6756),t.pushUnique=e(5138),t.increment=e(9240),t.cleanNumber=e(5218),t.ensureNumber=function(E){return i(E)?(E=Number(E),E>f||E<l?n:E):n},t.isIndex=function(S,E){return E!==void 0&&S>=E?!1:i(S)&&S>=0&&S%1===0},t.noop=e(4213),t.identity=e(3389),t.repeat=function(S,E){for(var z=new Array(E),C=0;C<E;C++)z[C]=S;return z},t.swapAttrs=function(S,E,z,C){z||(z="x"),C||(C="y");for(var K=0;K<E.length;K++){var P=E[K],j=t.nestedProperty(S,P.replace("?",z)),ae=t.nestedProperty(S,P.replace("?",C)),ue=j.get();j.set(ae.get()),ae.set(ue)}},t.raiseToTop=function(E){E.parentNode.appendChild(E)},t.cancelTransition=function(S){return S.transition().duration(0)},t.constrain=function(S,E,z){return E>z?Math.max(z,Math.min(E,S)):Math.max(E,Math.min(z,S))},t.bBoxIntersect=function(S,E,z){return z=z||0,S.left<=E.right+z&&E.left<=S.right+z&&S.top<=E.bottom+z&&E.top<=S.bottom+z},t.simpleMap=function(S,E,z,C,K){for(var P=S.length,j=new Array(P),ae=0;ae<P;ae++)j[ae]=E(S[ae],z,C,K);return j},t.randstr=function S(E,z,C,K){if(C||(C=16),z===void 0&&(z=24),z<=0)return"0";var P=Math.log(Math.pow(2,z))/Math.log(C),j="",ae,ue,he;for(ae=2;P===1/0;ae*=2)P=Math.log(Math.pow(2,z/ae))/Math.log(C)*ae;var Ae=P-Math.floor(P);for(ae=0;ae<Math.floor(P);ae++)he=Math.floor(Math.random()*C).toString(C),j=he+j;Ae&&(ue=Math.pow(C,Ae),he=Math.floor(Math.random()*ue).toString(C),j=he+j);var ke=parseInt(j,C);return E&&E[j]||ke!==1/0&&ke>=Math.pow(2,z)?K>10?(t.warn("randstr failed uniqueness"),j):S(E,z,C,(K||0)+1):j},t.OptionControl=function(S,E){S||(S={}),E||(E="opt");var z={};return z.optionList=[],z._newoption=function(C){C[E]=S,z[C.name]=C,z.optionList.push(C)},z["_"+E]=S,z},t.smooth=function(S,E){if(E=Math.round(E)||0,E<2)return S;var z=S.length,C=2*z,K=2*E-1,P=new Array(K),j=new Array(z),ae,ue,he,Ae;for(ae=0;ae<K;ae++)P[ae]=(1-Math.cos(Math.PI*(ae+1)/E))/(2*E);for(ae=0;ae<z;ae++){for(Ae=0,ue=0;ue<K;ue++)he=ae+ue+1-E,he<-z?he-=C*Math.round(he/C):he>=C&&(he-=C*Math.floor(he/C)),he<0?he=-1-he:he>=z&&(he=C-1-he),Ae+=S[he]*P[ue];j[ae]=Ae}return j},t.syncOrAsync=function(S,E,z){var C,K;function P(){return t.syncOrAsync(S,E,z)}for(;S.length;)if(K=S.splice(0,1)[0],C=K(E),C&&C.then)return C.then(P);return z&&z(E)},t.stripTrailingSlash=function(S){return S.substr(-1)==="/"?S.substr(0,S.length-1):S},t.noneOrAll=function(S,E,z){if(S){var C=!1,K=!0,P,j;for(P=0;P<z.length;P++)j=S[z[P]],j!=null?C=!0:K=!1;if(C&&!K)for(P=0;P<z.length;P++)S[z[P]]=E[z[P]]}},t.mergeArray=function(S,E,z,C){var K=typeof C=="function";if(t.isArrayOrTypedArray(S))for(var P=Math.min(S.length,E.length),j=0;j<P;j++){var ae=S[j];E[j][z]=K?C(ae):ae}},t.mergeArrayCastPositive=function(S,E,z){return t.mergeArray(S,E,z,function(C){var K=+C;return isFinite(K)&&K>0?K:0})},t.fillArray=function(S,E,z,C){if(C=C||t.identity,t.isArrayOrTypedArray(S))for(var K=0;K<E.length;K++)E[K][z]=C(S[K])},t.castOption=function(S,E,z,C){C=C||t.identity;var K=t.nestedProperty(S,z).get();return t.isArrayOrTypedArray(K)?Array.isArray(E)&&t.isArrayOrTypedArray(K[E[0]])?C(K[E[0]][E[1]]):C(K[E]):K},t.extractOption=function(S,E,z,C){if(z in S)return S[z];var K=t.nestedProperty(E,C).get();if(!Array.isArray(K))return K};function U(S){var E={};for(var z in S)for(var C=S[z],K=0;K<C.length;K++)E[C[K]]=+z;return E}t.tagSelected=function(S,E,z){var C=E.selectedpoints,K=E._indexToPoints,P;K&&(P=U(K));function j(ke){return ke!==void 0&&ke<S.length}for(var ae=0;ae<C.length;ae++){var ue=C[ae];if(t.isIndex(ue)||t.isArrayOrTypedArray(ue)&&t.isIndex(ue[0])&&t.isIndex(ue[1])){var he=P?P[ue]:ue,Ae=z?z[he]:he;j(Ae)&&(S[Ae].selected=1)}}},t.selIndices2selPoints=function(S){var E=S.selectedpoints,z=S._indexToPoints;if(z){for(var C=U(z),K=[],P=0;P<E.length;P++){var j=E[P];if(t.isIndex(j)){var ae=C[j];t.isIndex(ae)&&K.push(ae)}}return K}else return E},t.getTargetArray=function(S,E){var z=E.target;if(typeof z=="string"&&z){var C=t.nestedProperty(S,z).get();return Array.isArray(C)?C:!1}else if(Array.isArray(z))return z;return!1};function L(S,E,z){var C={};typeof E!="object"&&(E={});var K=z==="pieLike"?-1:3,P=Object.keys(S),j,ae,ue;for(j=0;j<P.length;j++)ae=P[j],ue=S[ae],!(ae.charAt(0)==="_"||typeof ue=="function")&&(ae==="module"?C[ae]=ue:Array.isArray(ue)?ae==="colorscale"||K===-1?C[ae]=ue.slice():C[ae]=ue.slice(0,K):t.isTypedArray(ue)?K===-1?C[ae]=ue.subarray():C[ae]=ue.subarray(0,K):ue&&typeof ue=="object"?C[ae]=L(S[ae],E[ae],z):C[ae]=ue);for(P=Object.keys(E),j=0;j<P.length;j++)ae=P[j],ue=E[ae],(typeof ue!="object"||!(ae in C)||typeof C[ae]!="object")&&(C[ae]=ue);return C}t.minExtend=L,t.titleCase=function(S){return S.charAt(0).toUpperCase()+S.substr(1)},t.containsAny=function(S,E){for(var z=0;z<E.length;z++)if(S.indexOf(E[z])!==-1)return!0;return!1},t.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var O=/Version\/[\d\.]+.*Safari/;t.isSafari=function(){return O.test(window.navigator.userAgent)};var R=/iPad|iPhone|iPod/;t.isIOS=function(){return R.test(window.navigator.userAgent)};var Z=/Firefox\/(\d+)\.\d+/;t.getFirefoxVersion=function(){var S=Z.exec(window.navigator.userAgent);if(S&&S.length===2){var E=parseInt(S[1]);if(!isNaN(E))return E}return null},t.isD3Selection=function(S){return S instanceof o.selection},t.ensureSingle=function(S,E,z,C){var K=S.select(E+(z?"."+z:""));if(K.size())return K;var P=S.append(E);return z&&P.classed(z,!0),C&&P.call(C),P},t.ensureSingleById=function(S,E,z,C){var K=S.select(E+"#"+z);if(K.size())return K;var P=S.append(E).attr("id",z);return C&&P.call(C),P},t.objectFromPath=function(S,E){for(var z=S.split("."),C,K=C={},P=0;P<z.length;P++){var j=z[P],ae=null,ue=z[P].match(/(.*)\[([0-9]+)\]/);ue?(j=ue[1],ae=ue[2],C=C[j]=[],P===z.length-1?C[ae]=E:C[ae]={},C=C[ae]):(P===z.length-1?C[j]=E:C[j]={},C=C[j])}return K};var $=/^([^\[\.]+)\.(.+)?/,ie=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function N(S){return S.slice(0,2)==="__"}t.expandObjectPaths=function(S){var E,z,C,K,P,j,ae;if(typeof S=="object"&&!Array.isArray(S)){for(z in S)if(S.hasOwnProperty(z))if(E=z.match($)){if(K=S[z],C=E[1],N(C))continue;delete S[z],S[C]=t.extendDeepNoArrays(S[C]||{},t.objectFromPath(z,t.expandObjectPaths(K))[C])}else if(E=z.match(ie)){if(K=S[z],C=E[1],N(C))continue;if(P=parseInt(E[2]),delete S[z],S[C]=S[C]||[],E[3]===".")ae=E[4],j=S[C][P]=S[C][P]||{},t.extendDeepNoArrays(j,t.objectFromPath(ae,t.expandObjectPaths(K)));else{if(N(C))continue;S[C][P]=t.expandObjectPaths(K)}}else{if(N(z))continue;S[z]=t.expandObjectPaths(S[z])}}return S},t.numSeparate=function(S,E,z){if(z||(z=!1),typeof E!="string"||E.length===0)throw new Error("Separator string required for formatting!");typeof S=="number"&&(S=String(S));var C=/(\d+)(\d{3})/,K=E.charAt(0),P=E.charAt(1),j=S.split("."),ae=j[0],ue=j.length>1?K+j[1]:"";if(P&&(j.length>1||ae.length>4||z))for(;C.test(ae);)ae=ae.replace(C,"$1"+P+"$2");return ae+ue},t.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var F=/^\w*$/;t.templateString=function(S,E){var z={};return S.replace(t.TEMPLATE_STRING_REGEX,function(C,K){var P;return F.test(K)?P=E[K]:(z[K]=z[K]||t.nestedProperty(E,K).get,P=z[K]()),t.isValidTextValue(P)?P:""})};var G={max:10,count:0,name:"hovertemplate"};t.hovertemplateString=function(){return ye.apply(G,arguments)};var W={max:10,count:0,name:"texttemplate"};t.texttemplateString=function(){return ye.apply(W,arguments)};var X=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function J(S){var E=S.match(X);return E?{key:E[1],op:E[2],number:Number(E[3])}:{key:S,op:null,number:null}}var ne={max:10,count:0,name:"texttemplate",parseMultDiv:!0};t.texttemplateStringForShapes=function(){return ye.apply(ne,arguments)};var fe=/^[:|\|]/;function ye(S,E,z){var C=this,K=arguments;E||(E={});var P={};return S.replace(t.TEMPLATE_STRING_REGEX,function(j,ae,ue){var he=ae==="xother"||ae==="yother",Ae=ae==="_xother"||ae==="_yother",ke=ae==="_xother_"||ae==="_yother_",ce=ae==="xother_"||ae==="yother_",me=he||Ae||ce||ke,pe=ae;(Ae||ke)&&(pe=pe.substring(1)),(ce||ke)&&(pe=pe.substring(0,pe.length-1));var Ee=null,we=null;if(C.parseMultDiv){var xe=J(pe);pe=xe.key,Ee=xe.op,we=xe.number}var Fe;if(me){if(Fe=E[pe],Fe===void 0)return""}else{var Ke,je;for(je=3;je<K.length;je++)if(Ke=K[je],!!Ke){if(Ke.hasOwnProperty(pe)){Fe=Ke[pe];break}if(F.test(pe)||(Fe=t.nestedProperty(Ke,pe).get(),Fe=P[pe]||t.nestedProperty(Ke,pe).get(),Fe&&(P[pe]=Fe)),Fe!==void 0)break}}if(Fe!==void 0&&(Ee==="*"&&(Fe*=we),Ee==="/"&&(Fe/=we)),Fe===void 0&&C)return C.count<C.max&&(t.warn("Variable '"+pe+"' in "+C.name+" could not be found!"),Fe=j),C.count===C.max&&t.warn("Too many "+C.name+" warnings - additional warnings will be suppressed"),C.count++,j;if(ue){var Je;if(ue[0]===":"&&(Je=z?z.numberFormat:t.numberFormat,Fe=Je(ue.replace(fe,""))(Fe)),ue[0]==="|"){Je=z?z.timeFormat:g;var ht=t.dateTime2ms(Fe);Fe=t.formatDate(ht,ue.replace(fe,""),!1,Je)}}else{var Tt=pe+"Label";E.hasOwnProperty(Tt)&&(Fe=E[Tt])}return me&&(Fe="("+Fe+")",(Ae||ke)&&(Fe=" "+Fe),(ce||ke)&&(Fe=Fe+" ")),Fe})}var Me=48,le=57;t.subplotSort=function(S,E){for(var z=Math.min(S.length,E.length)+1,C=0,K=0,P=0;P<z;P++){var j=S.charCodeAt(P)||0,ae=E.charCodeAt(P)||0,ue=j>=Me&&j<=le,he=ae>=Me&&ae<=le;if(ue&&(C=10*C+j-Me),he&&(K=10*K+ae-Me),!ue||!he){if(C!==K)return C-K;if(j!==ae)return j-ae}}return K-C};var ve=2e9;t.seedPseudoRandom=function(){ve=2e9},t.pseudoRandom=function(){var S=ve;return ve=(69069*ve+1)%4294967296,Math.abs(ve-S)<429496729?t.pseudoRandom():ve/4294967296},t.fillText=function(S,E,z){var C=Array.isArray(z)?function(j){z.push(j)}:function(j){z.text=j},K=t.extractOption(S,E,"htx","hovertext");if(t.isValidTextValue(K))return C(K);var P=t.extractOption(S,E,"tx","text");if(t.isValidTextValue(P))return C(P)},t.isValidTextValue=function(S){return S||S===0},t.formatPercent=function(S,E){E=E||0;for(var z=(Math.round(100*S*Math.pow(10,E))*Math.pow(.1,E)).toFixed(E)+"%",C=0;C<E;C++)z.indexOf(".")!==-1&&(z=z.replace("0%","%"),z=z.replace(".%","%"));return z},t.isHidden=function(S){var E=window.getComputedStyle(S).display;return!E||E==="none"},t.strTranslate=function(S,E){return S||E?"translate("+S+","+E+")":""},t.strRotate=function(S){return S?"rotate("+S+")":""},t.strScale=function(S){return S!==1?"scale("+S+")":""},t.getTextTransform=function(S){var E=S.noCenter,z=S.textX,C=S.textY,K=S.targetX,P=S.targetY,j=S.anchorX||0,ae=S.anchorY||0,ue=S.rotate,he=S.scale;return he?he>1&&(he=1):he=0,t.strTranslate(K-he*(z+j),P-he*(C+ae))+t.strScale(he)+(ue?"rotate("+ue+(E?"":" "+z+" "+C)+")":"")},t.setTransormAndDisplay=function(S,E){S.attr("transform",t.getTextTransform(E)),S.style("display",E.scale?null:"none")},t.ensureUniformFontSize=function(S,E){var z=t.extendFlat({},E);return z.size=Math.max(E.size,S._fullLayout.uniformtext.minsize||0),z},t.join2=function(S,E,z){var C=S.length;return C>1?S.slice(0,-1).join(E)+z+S[C-1]:S.join(E)},t.bigFont=function(S){return Math.round(1.2*S)};var H=t.getFirefoxVersion(),Y=H!==null&&H<86;t.getPositionFromD3Event=function(){return Y?[o.event.layerX,o.event.layerY]:[o.event.offsetX,o.event.offsetY]}},1965:function(te){te.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},6636:function(te,I,e){var o=e(5487),g=/^\w*$/,s=0,i=1,r=2,f=3,l=4;te.exports=function(t,u,h,m){h=h||"name",m=m||"value";var y,d,T,x={};u&&u.length?(T=o(t,u),d=T.get()):d=t,u=u||"";var M={};if(d)for(y=0;y<d.length;y++)M[d[y][h]]=y;var c=g.test(m),p={set:function(v,b){var w=b===null?l:s;if(!d){if(!T||w===l)return;d=[],T.set(d)}var _=M[v];if(_===void 0){if(w===l)return;w=w|f,_=d.length,M[v]=_}else b!==(c?d[_][m]:o(d[_],m).get())&&(w=w|r);var D=d[_]=d[_]||{};return D[h]=v,c?D[m]=b:o(D,m).set(b),b!==null&&(w=w&~l),x[_]=x[_]|w,p},get:function(v){if(d){var b=M[v];if(b!==void 0)return c?d[b][m]:o(d[b],m).get()}},rename:function(v,b){var w=M[v];return w===void 0||(x[w]=x[w]|i,M[b]=w,delete M[v],d[w][h]=b),p},remove:function(v){var b=M[v];if(b===void 0)return p;var w=d[b];if(Object.keys(w).length>2)return x[b]=x[b]|r,p.set(v,null);if(c){for(y=b;y<d.length;y++)x[y]=x[y]|f;for(y=b;y<d.length;y++)M[d[y][h]]--;d.splice(b,1),delete M[v]}else o(w,m).set(null),x[b]=x[b]|r|l;return p},constructUpdate:function(){for(var v,b,w={},_=Object.keys(x),D=0;D<_.length;D++)b=_[D],v=u+"["+b+"]",d[b]?(x[b]&i&&(w[v+"."+h]=d[b][h]),x[b]&r&&(c?w[v+"."+m]=x[b]&l?null:d[b][m]:w[v+"."+m]=x[b]&l?null:o(d[b],m).get())):w[v]=null;return w}};return p}},5867:function(te,I,e){var o=e(3972);te.exports=function(s,i){for(var r=s._context.locale,f=0;f<2;f++){for(var l=s._context.locales,n=0;n<2;n++){var t=(l[r]||{}).dictionary;if(t){var u=t[i];if(u)return u}l=o.localeRegistry}var h=r.split("-")[0];if(h===r)break;r=h}return i}},7769:function(te,I,e){var o=e(2075).dfltConfig,g=e(5046),s=te.exports={};s.log=function(){var i;if(o.logging>1){var r=["LOG:"];for(i=0;i<arguments.length;i++)r.push(arguments[i]);console.trace.apply(console,r)}if(o.notifyOnLogging>1){var f=[];for(i=0;i<arguments.length;i++)f.push(arguments[i]);g(f.join("<br>"),"long")}},s.warn=function(){var i;if(o.logging>0){var r=["WARN:"];for(i=0;i<arguments.length;i++)r.push(arguments[i]);console.trace.apply(console,r)}if(o.notifyOnLogging>0){var f=[];for(i=0;i<arguments.length;i++)f.push(arguments[i]);g(f.join("<br>"),"stick")}},s.error=function(){var i;if(o.logging>0){var r=["ERROR:"];for(i=0;i<arguments.length;i++)r.push(arguments[i]);console.error.apply(console,r)}if(o.notifyOnLogging>0){var f=[];for(i=0;i<arguments.length;i++)f.push(arguments[i]);g(f.join("<br>"),"stick")}}},7310:function(te,I,e){var o=e(9898);te.exports=function(s,i,r){var f=s.selectAll("g."+r.replace(/\s/g,".")).data(i,function(n){return n[0].trace.uid});f.exit().remove(),f.enter().append("g").attr("class",r),f.order();var l=s.classed("rangeplot")?"nodeRangePlot3":"node3";return f.each(function(n){n[0][l]=o.select(this)}),f}},5657:function(te,I,e){var o=e(9576);I.init2dArray=function(g,s){for(var i=new Array(g),r=0;r<g;r++)i[r]=new Array(s);return i},I.transposeRagged=function(g){var s=0,i=g.length,r,f;for(r=0;r<i;r++)s=Math.max(s,g[r].length);var l=new Array(s);for(r=0;r<s;r++)for(l[r]=new Array(i),f=0;f<i;f++)l[r][f]=g[f][r];return l},I.dot=function(g,s){if(!(g.length&&s.length)||g.length!==s.length)return null;var i=g.length,r,f;if(g[0].length)for(r=new Array(i),f=0;f<i;f++)r[f]=I.dot(g[f],s);else if(s[0].length){var l=I.transposeRagged(s);for(r=new Array(l.length),f=0;f<l.length;f++)r[f]=I.dot(g,l[f])}else for(r=0,f=0;f<i;f++)r+=g[f]*s[f];return r},I.translationMatrix=function(g,s){return[[1,0,g],[0,1,s],[0,0,1]]},I.rotationMatrix=function(g){var s=g*Math.PI/180;return[[Math.cos(s),-Math.sin(s),0],[Math.sin(s),Math.cos(s),0],[0,0,1]]},I.rotationXYMatrix=function(g,s,i){return I.dot(I.dot(I.translationMatrix(s,i),I.rotationMatrix(g)),I.translationMatrix(-s,-i))},I.apply3DTransform=function(g){return function(){var s=arguments,i=arguments.length===1?s[0]:[s[0],s[1],s[2]||0];return I.dot(g,[i[0],i[1],i[2],1]).slice(0,3)}},I.apply2DTransform=function(g){return function(){var s=arguments;s.length===3&&(s=s[0]);var i=arguments.length===1?s[0]:[s[0],s[1]];return I.dot(g,[i[0],i[1],1]).slice(0,2)}},I.apply2DTransform2=function(g){var s=I.apply2DTransform(g);return function(i){return s(i.slice(0,2)).concat(s(i.slice(2,4)))}},I.convertCssMatrix=function(g){if(g){var s=g.length;if(s===16)return g;if(s===6)return[g[0],g[1],0,0,g[2],g[3],0,0,0,0,1,0,g[4],g[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},I.inverseTransformMatrix=function(g){var s=[];return o.invert(s,g),[[s[0],s[1],s[2],s[3]],[s[4],s[5],s[6],s[7]],[s[8],s[9],s[10],s[11]],[s[12],s[13],s[14],s[15]]]}},4872:function(te){function I(o,g){var s=o%g;return s<0?s+g:s}function e(o,g){return Math.abs(o)>g/2?o-Math.round(o/g)*g:o}te.exports={mod:I,modHalf:e}},5487:function(te,I,e){var o=e(2770),g=e(3627).isArrayOrTypedArray;te.exports=function(m,y){if(o(y))y=String(y);else if(typeof y!="string"||y.substr(y.length-4)==="[-1]")throw"bad property string";var d=y.split("."),T,x,M,c;for(c=0;c<d.length;c++)if(String(d[c]).slice(0,2)==="__")throw"bad property string";for(c=0;c<d.length;){if(T=String(d[c]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),T){if(T[1])d[c]=T[1];else if(c===0)d.splice(0,1);else throw"bad property string";for(x=T[2].substr(1,T[2].length-2).split("]["),M=0;M<x.length;M++)c++,d.splice(c,0,Number(x[M]))}c++}return typeof m!="object"?u(m,y,d):{set:f(m,d,y),get:s(m,d),astr:y,parts:d,obj:m}};function s(h,m){return function(){var y=h,d,T,x,M,c;for(M=0;M<m.length-1;M++){if(d=m[M],d===-1){for(T=!0,x=[],c=0;c<y.length;c++)x[c]=s(y[c],m.slice(M+1))(),x[c]!==x[0]&&(T=!1);return T?x[0]:x}if(typeof d=="number"&&!g(y)||(y=y[d],typeof y!="object"||y===null))return}if(!(typeof y!="object"||y===null)&&(x=y[m[M]],x!==null))return x}}var i=/(^|\.)args\[/;function r(h,m){return h===void 0||h===null&&!m.match(i)}function f(h,m,y){return function(d){var T=h,x="",M=r(d,y),c,p;for(p=0;p<m.length-1;p++){if(c=m[p],typeof c=="number"&&!g(T))throw"array index but container is not an array";if(c===-1){if(M=!n(T,m.slice(p+1),d,y),M)break;return}if(!t(T,c,m[p+1],M))break;if(T=T[c],typeof T!="object"||T===null)throw"container is not an object";x=l(x,c)}if(M){if(p===m.length-1&&(delete T[m[p]],Array.isArray(T)&&+m[p]===T.length-1))for(;T.length&&T[T.length-1]===void 0;)T.pop()}else T[m[p]]=d}}function l(h,m){var y=m;return o(m)?y="["+m+"]":h&&(y="."+m),h+y}function n(h,m,y,d){var T=g(y),x=!0,M=y,c=d.replace("-1",0),p=T?!1:r(y,c),v=m[0],b;for(b=0;b<h.length;b++)c=d.replace("-1",b),T&&(M=y[b%y.length],p=r(M,c)),p&&(x=!1),t(h,b,v,p)&&f(h[b],m,d.replace("-1",b))(M);return x}function t(h,m,y,d){if(h[m]===void 0){if(d)return!1;typeof y=="number"?h[m]=[]:h[m]={}}return!0}function u(h,m,y){return{set:function(){throw"bad container"},get:function(){},astr:m,parts:y,obj:h}}},4213:function(te){te.exports=function(){}},5046:function(te,I,e){var o=e(9898),g=e(2770),s=[];te.exports=function(i,r){if(s.indexOf(i)!==-1)return;s.push(i);var f=1e3;g(r)?f=r:r==="long"&&(f=3e3);var l=o.select("body").selectAll(".plotly-notifier").data([0]);l.enter().append("div").classed("plotly-notifier",!0);var n=l.selectAll(".notifier-note").data(s);function t(u){u.duration(700).style("opacity",0).each("end",function(h){var m=s.indexOf(h);m!==-1&&s.splice(m,1),o.select(this).remove()})}n.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(u){var h=o.select(this);h.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){h.transition().call(t)});for(var m=h.append("p"),y=u.split(/<br\s*\/?>/g),d=0;d<y.length;d++)d&&m.append("br"),m.append("span").text(y[d]);r==="stick"?h.transition().duration(350).style("opacity",1):h.transition().duration(700).style("opacity",1).transition().delay(f).call(t)})}},9918:function(te,I,e){var o=e(6964),g="data-savedcursor",s="!!";te.exports=function(r,f){var l=r.attr(g);if(f){if(!l){for(var n=(r.attr("class")||"").split(" "),t=0;t<n.length;t++){var u=n[t];u.indexOf("cursor-")===0&&r.attr(g,u.substr(7)).classed(u,!1)}r.attr(g)||r.attr(g,s)}o(r,f)}else l&&(r.attr(g,null),l===s?o(r):o(r,l))}},1082:function(te,I,e){var o=e(5657).dot,g=e(606).BADNUM,s=te.exports={};s.tester=function(r){var f=r.slice(),l=f[0][0],n=l,t=f[0][1],u=t,h;for((f[f.length-1][0]!==f[0][0]||f[f.length-1][1]!==f[0][1])&&f.push(f[0]),h=1;h<f.length;h++)l=Math.min(l,f[h][0]),n=Math.max(n,f[h][0]),t=Math.min(t,f[h][1]),u=Math.max(u,f[h][1]);var m=!1,y;f.length===5&&(f[0][0]===f[1][0]?f[2][0]===f[3][0]&&f[0][1]===f[3][1]&&f[1][1]===f[2][1]&&(m=!0,y=function(c){return c[0]===f[0][0]}):f[0][1]===f[1][1]&&f[2][1]===f[3][1]&&f[0][0]===f[3][0]&&f[1][0]===f[2][0]&&(m=!0,y=function(c){return c[1]===f[0][1]}));function d(c,p){var v=c[0],b=c[1];return!(v===g||v<l||v>n||b===g||b<t||b>u||p&&y(c))}function T(c,p){var v=c[0],b=c[1];if(v===g||v<l||v>n||b===g||b<t||b>u)return!1;var w=f.length,_=f[0][0],D=f[0][1],B=0,U,L,O,R,Z;for(U=1;U<w;U++)if(L=_,O=D,_=f[U][0],D=f[U][1],R=Math.min(L,_),!(v<R||v>Math.max(L,_)||b>Math.max(O,D)))if(b<Math.min(O,D))v!==R&&B++;else{if(_===L?Z=b:Z=O+(v-L)*(D-O)/(_-L),b===Z)return!(U===1&&p);b<=Z&&v!==R&&B++}return B%2===1}var x=!0,M=f[0];for(h=1;h<f.length;h++)if(M[0]!==f[h][0]||M[1]!==f[h][1]){x=!1;break}return{xmin:l,xmax:n,ymin:t,ymax:u,pts:f,contains:m?d:T,isRect:m,degenerate:x}},s.isSegmentBent=function(r,f,l,n){var t=r[f],u=[r[l][0]-t[0],r[l][1]-t[1]],h=o(u,u),m=Math.sqrt(h),y=[-u[1]/m,u[0]/m],d,T,x;for(d=f+1;d<l;d++)if(T=[r[d][0]-t[0],r[d][1]-t[1]],x=o(T,u),x<0||x>h||Math.abs(o(T,y))>n)return!0;return!1},s.filter=function(r,f){var l=[r[0]],n=0,t=0;function u(m){r.push(m);var y=l.length,d=n;l.splice(t+1);for(var T=d+1;T<r.length;T++)(T===r.length-1||s.isSegmentBent(r,d,T+1,f))&&(l.push(r[T]),l.length<y-2&&(n=T,t=l.length-1),d=T)}if(r.length>1){var h=r.pop();u(h)}return{addPt:u,raw:r,filtered:l}}},5142:function(te,I,e){var o=e(2770),g=e(5791);te.exports=function(r){var f;if(r&&r.hasOwnProperty("userAgent")?f=r.userAgent:f=s(),typeof f!="string")return!0;var l=g({ua:{headers:{"user-agent":f}},tablet:!0,featureDetect:!1});if(!l)for(var n=f.split(" "),t=1;t<n.length;t++){var u=n[t];if(u.indexOf("Safari")!==-1)for(var h=t-1;h>-1;h--){var m=n[h];if(m.substr(0,8)==="Version/"){var y=m.substr(8).split(".")[0];if(o(y)&&(y=+y),y>=13)return!0}}}return l};function s(){var i;return typeof navigator<"u"&&(i=navigator.userAgent),i&&i.headers&&typeof i.headers["user-agent"]=="string"&&(i=i.headers["user-agent"]),i}},5138:function(te){te.exports=function(e,o){if(o instanceof RegExp){for(var g=o.toString(),s=0;s<e.length;s++)if(e[s]instanceof RegExp&&e[s].toString()===g)return e;e.push(o)}else(o||o===0)&&e.indexOf(o)===-1&&e.push(o);return e}},847:function(te,I,e){var o=e(1828),g=e(2075).dfltConfig;function s(r,f){for(var l=[],n,t=0;t<f.length;t++)n=f[t],n===r?l[t]=n:typeof n=="object"?l[t]=Array.isArray(n)?o.extendDeep([],n):o.extendDeepAll({},n):l[t]=n;return l}var i={};i.add=function(r,f,l,n,t){var u,h;if(r.undoQueue=r.undoQueue||{index:0,queue:[],sequence:!1},h=r.undoQueue.index,r.autoplay){r.undoQueue.inSequence||(r.autoplay=!1);return}!r.undoQueue.sequence||r.undoQueue.beginSequence?(u={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},r.undoQueue.queue.splice(h,r.undoQueue.queue.length-h,u),r.undoQueue.index+=1):u=r.undoQueue.queue[h-1],r.undoQueue.beginSequence=!1,u&&(u.undo.calls.unshift(f),u.undo.args.unshift(l),u.redo.calls.push(n),u.redo.args.push(t)),r.undoQueue.queue.length>g.queueLength&&(r.undoQueue.queue.shift(),r.undoQueue.index--)},i.startSequence=function(r){r.undoQueue=r.undoQueue||{index:0,queue:[],sequence:!1},r.undoQueue.sequence=!0,r.undoQueue.beginSequence=!0},i.stopSequence=function(r){r.undoQueue=r.undoQueue||{index:0,queue:[],sequence:!1},r.undoQueue.sequence=!1,r.undoQueue.beginSequence=!1},i.undo=function(f){var l,n;if(!(f.undoQueue===void 0||isNaN(f.undoQueue.index)||f.undoQueue.index<=0)){for(f.undoQueue.index--,l=f.undoQueue.queue[f.undoQueue.index],f.undoQueue.inSequence=!0,n=0;n<l.undo.calls.length;n++)i.plotDo(f,l.undo.calls[n],l.undo.args[n]);f.undoQueue.inSequence=!1,f.autoplay=!1}},i.redo=function(f){var l,n;if(!(f.undoQueue===void 0||isNaN(f.undoQueue.index)||f.undoQueue.index>=f.undoQueue.queue.length)){for(l=f.undoQueue.queue[f.undoQueue.index],f.undoQueue.inSequence=!0,n=0;n<l.redo.calls.length;n++)i.plotDo(f,l.redo.calls[n],l.redo.args[n]);f.undoQueue.inSequence=!1,f.autoplay=!1,f.undoQueue.index++}},i.plotDo=function(r,f,l){r.autoplay=!0,l=s(r,l),f.apply(null,l)},te.exports=i},587:function(te,I){I.counter=function(e,o,g,s){var i=(o||"")+(g?"":"$"),r=s===!1?"":"^";return e==="xy"?new RegExp(r+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+i):new RegExp(r+e+"([2-9]|[1-9][0-9]+)?"+i)}},6962:function(te){var I=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;te.exports=function(o,g){for(;g;){var s=o.match(I);if(s)o=s[1];else if(o.match(e))o="";else throw new Error("bad relativeAttr call:"+[o,g]);if(g.charAt(0)==="^")g=g.slice(1);else break}return o&&g.charAt(0)!=="["?o+"."+g:o+g}},1332:function(te,I,e){var o=e(3627).isArrayOrTypedArray,g=e(1965);te.exports=function s(i,r){for(var f in r){var l=r[f],n=i[f];if(n!==l)if(f.charAt(0)==="_"||typeof l=="function"){if(f in i)continue;i[f]=l}else if(o(l)&&o(n)&&g(l[0])){if(f==="customdata"||f==="ids")continue;for(var t=Math.min(l.length,n.length),u=0;u<t;u++)n[u]!==l[u]&&g(l[u])&&g(n[u])&&s(n[u],l[u])}else g(l)&&g(n)&&(s(n,l),Object.keys(n).length||delete i[f])}}},5888:function(te,I,e){var o=e(2770),g=e(7769),s=e(3389),i=e(606).BADNUM,r=1e-9;I.findBin=function(u,h,m){if(o(h.start))return m?Math.ceil((u-h.start)/h.size-r)-1:Math.floor((u-h.start)/h.size+r);var y=0,d=h.length,T=0,x=d>1?(h[d-1]-h[0])/(d-1):1,M,c;for(x>=0?c=m?f:l:c=m?t:n,u+=x*r*(m?-1:1)*(x>=0?1:-1);y<d&&T++<100;)M=Math.floor((y+d)/2),c(h[M],u)?y=M+1:d=M;return T>90&&g.log("Long binary search..."),y-1};function f(u,h){return u<h}function l(u,h){return u<=h}function n(u,h){return u>h}function t(u,h){return u>=h}I.sorterAsc=function(u,h){return u-h},I.sorterDes=function(u,h){return h-u},I.distinctVals=function(u){var h=u.slice();h.sort(I.sorterAsc);var m;for(m=h.length-1;m>-1&&h[m]===i;m--);for(var y=h[m]-h[0]||1,d=y/(m||1)/1e4,T=[],x,M=0;M<=m;M++){var c=h[M],p=c-x;x===void 0?(T.push(c),x=c):p>d&&(y=Math.min(y,p),T.push(c),x=c)}return{vals:T,minDiff:y}},I.roundUp=function(u,h,m){for(var y=0,d=h.length-1,T,x=0,M=m?0:1,c=m?1:0,p=m?Math.ceil:Math.floor;y<d&&x++<100;)T=p((y+d)/2),h[T]<=u?y=T+M:d=T-c;return h[y]},I.sort=function(u,h){for(var m=0,y=0,d=1;d<u.length;d++){var T=h(u[d],u[d-1]);if(T<0?m=1:T>0&&(y=1),m&&y)return u.sort(h)}return y?u:u.reverse()},I.findIndexOfMin=function(u,h){h=h||s;for(var m=1/0,y,d=0;d<u.length;d++){var T=h(u[d]);T<m&&(m=T,y=d)}return y}},6964:function(te){te.exports=function(e,o){(e.attr("class")||"").split(" ").forEach(function(g){g.indexOf("cursor-")===0&&e.classed(g,!1)}),o&&e.classed("cursor-"+o,!0)}},8607:function(te){te.exports=function(e){return Object.keys(e).sort()}},38:function(te,I,e){var o=e(2770),g=e(3627).isArrayOrTypedArray;I.aggNums=function(s,i,r,f){var l,n;if((!f||f>r.length)&&(f=r.length),o(i)||(i=!1),g(r[0])){for(n=new Array(f),l=0;l<f;l++)n[l]=I.aggNums(s,i,r[l]);r=n}for(l=0;l<f;l++)o(i)?o(r[l])&&(i=s(+i,+r[l])):i=r[l];return i},I.len=function(s){return I.aggNums(function(i){return i+1},0,s)},I.mean=function(s,i){return i||(i=I.len(s)),I.aggNums(function(r,f){return r+f},0,s)/i},I.midRange=function(s){if(!(s===void 0||s.length===0))return(I.aggNums(Math.max,null,s)+I.aggNums(Math.min,null,s))/2},I.variance=function(s,i,r){return i||(i=I.len(s)),o(r)||(r=I.mean(s,i)),I.aggNums(function(f,l){return f+Math.pow(l-r,2)},0,s)/i},I.stdev=function(s,i,r){return Math.sqrt(I.variance(s,i,r))},I.median=function(s){var i=s.slice().sort();return I.interp(i,.5)},I.interp=function(s,i){if(!o(i))throw"n should be a finite number";if(i=i*s.length-.5,i<0)return s[0];if(i>s.length-1)return s[s.length-1];var r=i%1;return r*s[Math.ceil(i)]+(1-r)*s[Math.floor(i)]}},3893:function(te,I,e){var o=e(9898),g=e(1828),s=g.strTranslate,i=e(7922),r=e(8783).LINE_SPACING,f=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;I.convertToTspans=function(G,W,X){var J=G.text(),ne=!G.attr("data-notex")&&W&&W._context.typesetMath&&typeof MathJax<"u"&&J.match(f),fe=o.select(G.node().parentNode);if(fe.empty())return;var ye=G.attr("class")?G.attr("class").split(" ")[0]:"text";ye+="-math",fe.selectAll("svg."+ye).remove(),fe.selectAll("g."+ye+"-group").remove(),G.style("display",null).attr({"data-unformatted":J,"data-math":"N"});function Me(){fe.empty()||(ye=G.attr("class")+"-math",fe.select("svg."+ye).remove()),G.text("").style("white-space","pre");var le=$(G.node(),J);le&&G.style("pointer-events","all"),I.positionText(G),X&&X.call(G)}return ne?(W&&W._promises||[]).push(new Promise(function(le){G.style("display","none");var ve=parseInt(G.node().style.fontSize,10),H={fontSize:ve};h(ne[2],H,function(Y,S,E){fe.selectAll("svg."+ye).remove(),fe.selectAll("g."+ye+"-group").remove();var z=Y&&Y.select("svg");if(!z||!z.node()){Me(),le();return}var C=fe.append("g").classed(ye+"-group",!0).attr({"pointer-events":"none","data-unformatted":J,"data-math":"Y"});C.node().appendChild(z.node()),S&&S.node()&&z.node().insertBefore(S.node().cloneNode(!0),z.node().firstChild);var K=E.width,P=E.height;z.attr({class:ye,height:P,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var j=G.node().style.fill||"black",ae=z.select("g");ae.attr({fill:j,stroke:j});var ue=ae.node().getBoundingClientRect(),he=ue.width,Ae=ue.height;(he>K||Ae>P)&&(z.style("overflow","hidden"),ue=z.node().getBoundingClientRect(),he=ue.width,Ae=ue.height);var ke=+G.attr("x"),ce=+G.attr("y"),me=ve||G.node().getBoundingClientRect().height,pe=-me/4;if(ye[0]==="y")C.attr({transform:"rotate("+[-90,ke,ce]+")"+s(-he/2,pe-Ae/2)});else if(ye[0]==="l")ce=pe-Ae/2;else if(ye[0]==="a"&&ye.indexOf("atitle")!==0)ke=0,ce=pe;else{var Ee=G.attr("text-anchor");ke=ke-he*(Ee==="middle"?.5:Ee==="end"?1:0),ce=ce+pe-Ae/2}z.attr({x:ke,y:ce}),X&&X.call(G,C),le(C)})})):Me(),G};var l=/(<|&lt;|&#60;)/g,n=/(>|&gt;|&#62;)/g;function t(G){return G.replace(l,"\\lt ").replace(n,"\\gt ")}var u=[["$","$"],["\\(","\\)"]];function h(G,W,X){var J=parseInt((MathJax.version||"").split(".")[0]);if(J!==2&&J!==3){g.warn("No MathJax version:",MathJax.version);return}var ne,fe,ye,Me,le=function(){return fe=g.extendDeepAll({},MathJax.Hub.config),ye=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:u},displayAlign:"left"})},ve=function(){fe=g.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=u},H=function(){if(ne=MathJax.Hub.config.menuSettings.renderer,ne!=="SVG")return MathJax.Hub.setRenderer("SVG")},Y=function(){ne=MathJax.config.startup.output,ne!=="svg"&&(MathJax.config.startup.output="svg")},S=function(){var j="math-output-"+g.randstr({},64);Me=o.select("body").append("div").attr({id:j}).style({visibility:"hidden",position:"absolute","font-size":W.fontSize+"px"}).text(t(G));var ae=Me.node();return J===2?MathJax.Hub.Typeset(ae):MathJax.typeset([ae])},E=function(){var j=Me.select(J===2?".MathJax_SVG":".MathJax"),ae=!j.empty()&&Me.select("svg").node();if(!ae)g.log("There was an error in the tex syntax.",G),X();else{var ue=ae.getBoundingClientRect(),he;J===2?he=o.select("body").select("#MathJax_SVG_glyphs"):he=j.select("defs"),X(j,he,ue)}Me.remove()},z=function(){if(ne!=="SVG")return MathJax.Hub.setRenderer(ne)},C=function(){ne!=="svg"&&(MathJax.config.startup.output=ne)},K=function(){return ye!==void 0&&(MathJax.Hub.processSectionDelay=ye),MathJax.Hub.Config(fe)},P=function(){MathJax.config=fe};J===2?MathJax.Hub.Queue(le,H,S,E,z,K):J===3&&(ve(),Y(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){S(),E(),C(),P()}))}var m={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},y={sub:"0.3em",sup:"-0.6em"},d={sub:"-0.21em",sup:"0.42em"},T="",x=["http:","https:","mailto:","",void 0,":"],M=I.NEWLINES=/(\r\n?|\n)/g,c=/(<[^<>]*>)/,p=/<(\/?)([^ >]*)(\s+(.*))?>/i,v=/<br(\s+.*)?>/i;I.BR_TAG_ALL=/<br(\s+.*)?>/gi;var b=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,w=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,_=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,D=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function B(G,W){if(!G)return null;var X=G.match(W),J=X&&(X[3]||X[4]);return J&&R(J)}var U=/(^|;)\s*color:/;I.plainText=function(G,W){W=W||{};for(var X=W.len!==void 0&&W.len!==-1?W.len:1/0,J=W.allowedTags!==void 0?W.allowedTags:["br"],ne="...",fe=ne.length,ye=G.split(c),Me=[],le="",ve=0,H=0;H<ye.length;H++){var Y=ye[H],S=Y.match(p),E=S&&S[2].toLowerCase();if(E)J.indexOf(E)!==-1&&(Me.push(Y),le=E);else{var z=Y.length;if(ve+z<X)Me.push(Y),ve+=z;else if(ve<X){var C=X-ve;le&&(le!=="br"||C<=fe||z<=fe)&&Me.pop(),X>fe?Me.push(Y.substr(0,C-fe)+ne):Me.push(Y.substr(0,C));break}le=""}}return Me.join("")};var L={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},O=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function R(G){return G.replace(O,function(W,X){var J;return X.charAt(0)==="#"?J=Z(X.charAt(1)==="x"?parseInt(X.substr(2),16):parseInt(X.substr(1),10)):J=L[X],J||W})}I.convertEntities=R;function Z(G){if(!(G>1114111)){var W=String.fromCodePoint;if(W)return W(G);var X=String.fromCharCode;return G<=65535?X(G):X((G>>10)+55232,G%1024+56320)}}function $(G,W){W=W.replace(M," ");var X=!1,J=[],ne,fe=-1;function ye(){fe++;var Ae=document.createElementNS(i.svg,"tspan");o.select(Ae).attr({class:"line",dy:fe*r+"em"}),G.appendChild(Ae),ne=Ae;var ke=J;if(J=[{node:Ae}],ke.length>1)for(var ce=1;ce<ke.length;ce++)Me(ke[ce])}function Me(Ae){var ke=Ae.type,ce={},me;if(ke==="a"){me="a";var pe=Ae.target,Ee=Ae.href,we=Ae.popup;Ee&&(ce={"xlink:xlink:show":pe==="_blank"||pe.charAt(0)!=="_"?"new":"replace",target:pe,"xlink:xlink:href":Ee},we&&(ce.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+we+'");return false;'))}else me="tspan";Ae.style&&(ce.style=Ae.style);var xe=document.createElementNS(i.svg,me);if(ke==="sup"||ke==="sub"){le(ne,T),ne.appendChild(xe);var Fe=document.createElementNS(i.svg,"tspan");le(Fe,T),o.select(Fe).attr("dy",d[ke]),ce.dy=y[ke],ne.appendChild(xe),ne.appendChild(Fe)}else ne.appendChild(xe);o.select(xe).attr(ce),ne=Ae.node=xe,J.push(Ae)}function le(Ae,ke){Ae.appendChild(document.createTextNode(ke))}function ve(Ae){if(J.length===1){g.log("Ignoring unexpected end tag </"+Ae+">.",W);return}var ke=J.pop();Ae!==ke.type&&g.log("Start tag <"+ke.type+"> doesnt match end tag <"+Ae+">. Pretending it did match.",W),ne=J[J.length-1].node}var H=v.test(W);H?ye():(ne=G,J=[{node:G}]);for(var Y=W.split(c),S=0;S<Y.length;S++){var E=Y[S],z=E.match(p),C=z&&z[2].toLowerCase(),K=m[C];if(C==="br")ye();else if(K===void 0)le(ne,R(E));else if(z[1])ve(C);else{var P=z[4],j={type:C},ae=B(P,b);if(ae?(ae=ae.replace(U,"$1 fill:"),K&&(ae+=";"+K)):K&&(ae=K),ae&&(j.style=ae),C==="a"){X=!0;var ue=B(P,w);if(ue){var he=ie(ue);he&&(j.href=he,j.target=B(P,_)||"_blank",j.popup=B(P,D))}}Me(j)}}return X}function ie(G){var W=encodeURI(decodeURI(G)),X=document.createElement("a"),J=document.createElement("a");X.href=G,J.href=W;var ne=X.protocol,fe=J.protocol;return x.indexOf(ne)!==-1&&x.indexOf(fe)!==-1?W:""}I.sanitizeHTML=function(W){W=W.replace(M," ");for(var X=document.createElement("p"),J=X,ne=[],fe=W.split(c),ye=0;ye<fe.length;ye++){var Me=fe[ye],le=Me.match(p),ve=le&&le[2].toLowerCase();if(ve in m)if(le[1])ne.length&&(J=ne.pop());else{var H=le[4],Y=B(H,b),S=Y?{style:Y}:{};if(ve==="a"){var E=B(H,w);if(E){var z=ie(E);if(z){S.href=z;var C=B(H,_);C&&(S.target=C)}}}var K=document.createElement(ve);J.appendChild(K),o.select(K).attr(S),J=K,ne.push(K)}else J.appendChild(document.createTextNode(R(Me)))}var P="innerHTML";return X[P]},I.lineCount=function(W){return W.selectAll("tspan.line").size()||1},I.positionText=function(W,X,J){return W.each(function(){var ne=o.select(this);function fe(le,ve){return ve===void 0?(ve=ne.attr(le),ve===null&&(ne.attr(le,0),ve=0)):ne.attr(le,ve),ve}var ye=fe("x",X),Me=fe("y",J);this.nodeName==="text"&&ne.selectAll("tspan.line").attr({x:ye,y:Me})})};function N(G,W,X){var J=X.horizontalAlign,ne=X.verticalAlign||"top",fe=G.node().getBoundingClientRect(),ye=W.node().getBoundingClientRect(),Me,le,ve;return ne==="bottom"?le=function(){return fe.bottom-Me.height}:ne==="middle"?le=function(){return fe.top+(fe.height-Me.height)/2}:le=function(){return fe.top},J==="right"?ve=function(){return fe.right-Me.width}:J==="center"?ve=function(){return fe.left+(fe.width-Me.width)/2}:ve=function(){return fe.left},function(){Me=this.node().getBoundingClientRect();var H=ve()-ye.left,Y=le()-ye.top,S=X.gd||{};if(X.gd){S._fullLayout._calcInverseTransform(S);var E=g.apply3DTransform(S._fullLayout._invTransform)(H,Y);H=E[0],Y=E[1]}return this.style({top:Y+"px",left:H+"px","z-index":1e3}),this}}var F="1px ";I.makeTextShadow=function(G){var W=F,X=F,J=F;return W+X+J+G+", -"+W+"-"+X+J+G+", "+W+"-"+X+J+G+", -"+W+X+J+G},I.makeEditable=function(G,W){var X=W.gd,J=W.delegate,ne=o.dispatch("edit","input","cancel"),fe=J||G;if(G.style({"pointer-events":J?"none":"all"}),G.size()!==1)throw new Error("boo");function ye(){le(),G.style({opacity:0});var ve=fe.attr("class"),H;ve?H="."+ve.split(" ")[0]+"-math-group":H="[class*=-math-group]",H&&o.select(G.node().parentNode).select(H).style({opacity:0})}function Me(ve){var H=ve.node(),Y=document.createRange();Y.selectNodeContents(H);var S=window.getSelection();S.removeAllRanges(),S.addRange(Y),H.focus()}function le(){var ve=o.select(X),H=ve.select(".svg-container"),Y=H.append("div"),S=G.node().style,E=parseFloat(S.fontSize||12),z=W.text;z===void 0&&(z=G.attr("data-unformatted")),Y.classed("plugin-editable editable",!0).style({position:"absolute","font-family":S.fontFamily||"Arial","font-size":E,color:W.fill||S.fill||"black",opacity:1,"background-color":W.background||"transparent",outline:"#ffffff33 1px solid",margin:[-E/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(z).call(N(G,H,W)).on("blur",function(){X._editing=!1,G.text(this.textContent).style({opacity:1});var C=o.select(this).attr("class"),K;C?K="."+C.split(" ")[0]+"-math-group":K="[class*=-math-group]",K&&o.select(G.node().parentNode).select(K).style({opacity:0});var P=this.textContent;o.select(this).transition().duration(0).remove(),o.select(document).on("mouseup",null),ne.edit.call(G,P)}).on("focus",function(){var C=this;X._editing=!0,o.select(document).on("mouseup",function(){if(o.event.target===C)return!1;document.activeElement===Y.node()&&Y.node().blur()})}).on("keyup",function(){o.event.which===27?(X._editing=!1,G.style({opacity:1}),o.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),ne.cancel.call(G,this.textContent)):(ne.input.call(G,this.textContent),o.select(this).call(N(G,H,W)))}).on("keydown",function(){o.event.which===13&&this.blur()}).call(Me)}return W.immediate?ye():fe.on("click",ye),o.rebind(G,ne,"on")}},9990:function(te,I){var e={};I.throttle=function(s,i,r){var f=e[s],l=Date.now();if(!f){for(var n in e)e[n].ts<l-6e4&&delete e[n];f=e[s]={ts:0,timer:null}}o(f);function t(){r(),f.ts=Date.now(),f.onDone&&(f.onDone(),f.onDone=null)}if(l>f.ts+i){t();return}f.timer=setTimeout(function(){t(),f.timer=null},i)},I.done=function(g){var s=e[g];return!s||!s.timer?Promise.resolve():new Promise(function(i){var r=s.onDone;s.onDone=function(){r&&r(),i(),s.onDone=null}})},I.clear=function(g){if(g)o(e[g]),delete e[g];else for(var s in e)I.clear(s)};function o(g){g&&g.timer!==null&&(clearTimeout(g.timer),g.timer=null)}},8163:function(te,I,e){var o=e(2770);te.exports=function(s,i){if(s>0)return Math.log(s)/Math.LN10;var r=Math.log(Math.min(i[0],i[1]))/Math.LN10;return o(r)||(r=Math.log(Math.max(i[0],i[1]))/Math.LN10-6),r}},7815:function(te){te.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},2177:function(te){te.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},4458:function(te,I,e){var o=e(3972);te.exports=function(s){for(var i=o.layoutArrayContainers,r=o.layoutArrayRegexes,f=s.split("[")[0],l,n,t=0;t<r.length;t++)if(n=s.match(r[t]),n&&n.index===0){l=n[0];break}if(l||(l=i[i.indexOf(f)]),!l)return!1;var u=s.substr(l.length);return u?(n=u.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),n?{array:l,index:Number(n[1]),property:n[3]||""}:!1):{array:l,index:"",property:""}}},962:function(te,I,e){var o=e(1426).extendFlat,g=e(1965),s={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},i={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},r=s.flags.slice().concat(["fullReplot"]),f=i.flags.slice().concat("layoutReplot");te.exports={traces:s,layout:i,traceFlags:function(){return l(r)},layoutFlags:function(){return l(f)},update:function(u,h){var m=h.editType;if(m&&m!=="none")for(var y=m.split("+"),d=0;d<y.length;d++)u[y[d]]=!0},overrideAll:n};function l(u){for(var h={},m=0;m<u.length;m++)h[u[m]]=!1;return h}function n(u,h,m){var y=o({},u);for(var d in y){var T=y[d];g(T)&&(y[d]=t(T,h,m,d))}return m==="from-root"&&(y.editType=h),y}function t(u,h,m,y){if(u.valType){var d=o({},u);if(d.editType=h,Array.isArray(u.items)){d.items=new Array(u.items.length);for(var T=0;T<u.items.length;T++)d.items[T]=t(u.items[T],h)}return d}else return n(u,h,y.charAt(0)==="_"?"nested":"from-root")}},8377:function(te,I,e){var o=e(2770),g=e(7812),s=e(3972),i=e(1828),r=e(4875),f=e(1675),l=e(7901),n=f.cleanId,t=f.getFromTrace,u=s.traceIs;I.clearPromiseQueue=function(v){Array.isArray(v._promises)&&v._promises.length>0&&i.log("Clearing previous rejected promises from queue."),v._promises=[]},I.cleanLayout=function(v){var b,w;v||(v={}),v.xaxis1&&(v.xaxis||(v.xaxis=v.xaxis1),delete v.xaxis1),v.yaxis1&&(v.yaxis||(v.yaxis=v.yaxis1),delete v.yaxis1),v.scene1&&(v.scene||(v.scene=v.scene1),delete v.scene1);var _=(r.subplotsRegistry.cartesian||{}).attrRegex,D=(r.subplotsRegistry.polar||{}).attrRegex,B=(r.subplotsRegistry.ternary||{}).attrRegex,U=(r.subplotsRegistry.gl3d||{}).attrRegex,L=Object.keys(v);for(b=0;b<L.length;b++){var O=L[b];if(_&&_.test(O)){var R=v[O];R.anchor&&R.anchor!=="free"&&(R.anchor=n(R.anchor)),R.overlaying&&(R.overlaying=n(R.overlaying)),R.type||(R.isdate?R.type="date":R.islog?R.type="log":R.isdate===!1&&R.islog===!1&&(R.type="linear")),(R.autorange==="withzero"||R.autorange==="tozero")&&(R.autorange=!0,R.rangemode="tozero"),R.insiderange&&delete R.range,delete R.islog,delete R.isdate,delete R.categories,x(R,"domain")&&delete R.domain,R.autotick!==void 0&&(R.tickmode===void 0&&(R.tickmode=R.autotick?"auto":"linear"),delete R.autotick),m(R)}else if(D&&D.test(O)){var Z=v[O];m(Z.radialaxis)}else if(B&&B.test(O)){var $=v[O];m($.aaxis),m($.baxis),m($.caxis)}else if(U&&U.test(O)){var ie=v[O],N=ie.cameraposition;if(Array.isArray(N)&&N[0].length===4){var F=N[0],G=N[1],W=N[2],X=g([],F),J=[];for(w=0;w<3;++w)J[w]=G[w]+W*X[2+4*w];ie.camera={eye:{x:J[0],y:J[1],z:J[2]},center:{x:G[0],y:G[1],z:G[2]},up:{x:0,y:0,z:1}},delete ie.cameraposition}m(ie.xaxis),m(ie.yaxis),m(ie.zaxis)}}var ne=Array.isArray(v.annotations)?v.annotations.length:0;for(b=0;b<ne;b++){var fe=v.annotations[b];i.isPlainObject(fe)&&(fe.ref&&(fe.ref==="paper"?(fe.xref="paper",fe.yref="paper"):fe.ref==="data"&&(fe.xref="x",fe.yref="y"),delete fe.ref),h(fe,"xref"),h(fe,"yref"))}var ye=Array.isArray(v.shapes)?v.shapes.length:0;for(b=0;b<ye;b++){var Me=v.shapes[b];i.isPlainObject(Me)&&(h(Me,"xref"),h(Me,"yref"))}var le=Array.isArray(v.images)?v.images.length:0;for(b=0;b<le;b++){var ve=v.images[b];i.isPlainObject(ve)&&(h(ve,"xref"),h(ve,"yref"))}var H=v.legend;return H&&(H.x>3?(H.x=1.02,H.xanchor="left"):H.x<-2&&(H.x=-.02,H.xanchor="right"),H.y>3?(H.y=1.02,H.yanchor="bottom"):H.y<-2&&(H.y=-.02,H.yanchor="top")),m(v),v.dragmode==="rotate"&&(v.dragmode="orbit"),l.clean(v),v.template&&v.template.layout&&I.cleanLayout(v.template.layout),v};function h(v,b){var w=v[b],_=b.charAt(0);w&&w!=="paper"&&(v[b]=n(w,_,!0))}function m(v){v&&((typeof v.title=="string"||typeof v.title=="number")&&(v.title={text:v.title}),b("titlefont","font"),b("titleposition","position"),b("titleside","side"),b("titleoffset","offset"));function b(w,_){var D=v[w],B=v.title&&v.title[_];D&&!B&&(v.title||(v.title={}),v.title[_]=v[w],delete v[w])}}I.cleanData=function(v){for(var b=0;b<v.length;b++){var w=v[b],_;if(w.type==="histogramy"&&"xbins"in w&&!("ybins"in w)&&(w.ybins=w.xbins,delete w.xbins),w.error_y&&"opacity"in w.error_y){var D=l.defaults,B=w.error_y.color||(u(w,"bar")?l.defaultLine:D[b%D.length]);w.error_y.color=l.addOpacity(l.rgb(B),l.opacity(B)*w.error_y.opacity),delete w.error_y.opacity}if("bardir"in w&&(w.bardir==="h"&&(u(w,"bar")||w.type.substr(0,9)==="histogram")&&(w.orientation="h",I.swapXYData(w)),delete w.bardir),w.type==="histogramy"&&I.swapXYData(w),(w.type==="histogramx"||w.type==="histogramy")&&(w.type="histogram"),"scl"in w&&!("colorscale"in w)&&(w.colorscale=w.scl,delete w.scl),"reversescl"in w&&!("reversescale"in w)&&(w.reversescale=w.reversescl,delete w.reversescl),w.xaxis&&(w.xaxis=n(w.xaxis,"x")),w.yaxis&&(w.yaxis=n(w.yaxis,"y")),u(w,"gl3d")&&w.scene&&(w.scene=r.subplotsRegistry.gl3d.cleanId(w.scene)),!u(w,"pie-like")&&!u(w,"bar-like"))if(Array.isArray(w.textposition))for(_=0;_<w.textposition.length;_++)w.textposition[_]=T(w.textposition[_]);else w.textposition&&(w.textposition=T(w.textposition));var U=s.getModule(w);if(U&&U.colorbar){var L=U.colorbar.container,O=L?w[L]:w;O&&O.colorscale&&(O.colorscale==="YIGnBu"&&(O.colorscale="YlGnBu"),O.colorscale==="YIOrRd"&&(O.colorscale="YlOrRd"))}if(w.type==="surface"&&i.isPlainObject(w.contours)){var R=["x","y","z"];for(_=0;_<R.length;_++){var Z=w.contours[R[_]];i.isPlainObject(Z)&&(Z.highlightColor&&(Z.highlightcolor=Z.highlightColor,delete Z.highlightColor),Z.highlightWidth&&(Z.highlightwidth=Z.highlightWidth,delete Z.highlightWidth))}}if(w.type==="candlestick"||w.type==="ohlc"){var $=(w.increasing||{}).showlegend!==!1,ie=(w.decreasing||{}).showlegend!==!1,N=y(w.increasing),F=y(w.decreasing);if(N!==!1&&F!==!1){var G=d(N,F,$,ie);G&&(w.name=G)}else(N||F)&&!w.name&&(w.name=N||F)}if(Array.isArray(w.transforms)){var W=w.transforms;for(_=0;_<W.length;_++){var X=W[_];if(i.isPlainObject(X))switch(X.type){case"filter":X.filtersrc&&(X.target=X.filtersrc,delete X.filtersrc),X.calendar&&(X.valuecalendar||(X.valuecalendar=X.calendar),delete X.calendar);break;case"groupby":if(X.styles=X.styles||X.style,X.styles&&!Array.isArray(X.styles)){var J=X.styles,ne=Object.keys(J);X.styles=[];for(var fe=0;fe<ne.length;fe++)X.styles.push({target:ne[fe],value:J[ne[fe]]})}break}}}x(w,"line")&&delete w.line,"marker"in w&&(x(w.marker,"line")&&delete w.marker.line,x(w,"marker")&&delete w.marker),l.clean(w),w.autobinx&&(delete w.autobinx,delete w.xbins),w.autobiny&&(delete w.autobiny,delete w.ybins),m(w),w.colorbar&&m(w.colorbar),w.marker&&w.marker.colorbar&&m(w.marker.colorbar),w.line&&w.line.colorbar&&m(w.line.colorbar),w.aaxis&&m(w.aaxis),w.baxis&&m(w.baxis)}};function y(v){if(!i.isPlainObject(v))return!1;var b=v.name;return delete v.name,delete v.showlegend,(typeof b=="string"||typeof b=="number")&&String(b)}function d(v,b,w,_){if(w&&!_)return v;if(_&&!w||!v.trim())return b;if(!b.trim())return v;var D=Math.min(v.length,b.length),B;for(B=0;B<D&&v.charAt(B)===b.charAt(B);B++);var U=v.substr(0,B);return U.trim()}function T(v){var b="middle",w="center";return typeof v=="string"&&(v.indexOf("top")!==-1?b="top":v.indexOf("bottom")!==-1&&(b="bottom"),v.indexOf("left")!==-1?w="left":v.indexOf("right")!==-1&&(w="right")),b+" "+w}function x(v,b){return b in v&&typeof v[b]=="object"&&Object.keys(v[b]).length===0}I.swapXYData=function(v){var b;if(i.swapAttrs(v,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(v.z)&&Array.isArray(v.z[0])&&(v.transpose?delete v.transpose:v.transpose=!0),v.error_x&&v.error_y){var w=v.error_y,_="copy_ystyle"in w?w.copy_ystyle:!(w.color||w.thickness||w.width);i.swapAttrs(v,["error_?.copy_ystyle"]),_&&i.swapAttrs(v,["error_?.color","error_?.thickness","error_?.width"])}if(typeof v.hoverinfo=="string"){var D=v.hoverinfo.split("+");for(b=0;b<D.length;b++)D[b]==="x"?D[b]="y":D[b]==="y"&&(D[b]="x");v.hoverinfo=D.join("+")}},I.coerceTraceIndices=function(v,b){if(o(b))return[b];if(!Array.isArray(b)||!b.length)return v.data.map(function(D,B){return B});if(Array.isArray(b)){for(var w=[],_=0;_<b.length;_++)i.isIndex(b[_],v.data.length)?w.push(b[_]):i.warn("trace index (",b[_],") is not a number or is out of bounds");return w}return b},I.manageArrayContainers=function(v,b,w){var _=v.obj,D=v.parts,B=D.length,U=D[B-1],L=o(U);if(L&&b===null){var O=D.slice(0,B-1).join("."),R=i.nestedProperty(_,O).get();R.splice(U,1)}else L&&v.get()===void 0&&v.get()===void 0&&(w[v.astr]=null),v.set(b)};var M=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function c(v){var b=v.search(M);if(b>0)return v.substr(0,b)}I.hasParent=function(v,b){for(var w=c(b);w;){if(w in v)return!0;w=c(w)}return!1};var p=["x","y","z"];I.clearAxisTypes=function(v,b,w){for(var _=0;_<b.length;_++)for(var D=v._fullData[_],B=0;B<3;B++){var U=t(v,D,p[B]);if(U&&U.type!=="log"){var L=U._name,O=U._id.substr(1);if(O.substr(0,5)==="scene"){if(w[O]!==void 0)continue;L=O+"."+L}var R=L+".type";w[L]===void 0&&w[R]===void 0&&i.nestedProperty(v.layout,R).set(null)}}}},641:function(te,I,e){var o=e(2391);I._doPlot=o._doPlot,I.newPlot=o.newPlot,I.restyle=o.restyle,I.relayout=o.relayout,I.redraw=o.redraw,I.update=o.update,I._guiRestyle=o._guiRestyle,I._guiRelayout=o._guiRelayout,I._guiUpdate=o._guiUpdate,I._storeDirectGUIEdit=o._storeDirectGUIEdit,I.react=o.react,I.extendTraces=o.extendTraces,I.prependTraces=o.prependTraces,I.addTraces=o.addTraces,I.deleteTraces=o.deleteTraces,I.moveTraces=o.moveTraces,I.purge=o.purge,I.addFrames=o.addFrames,I.deleteFrames=o.deleteFrames,I.animate=o.animate,I.setPlotConfig=o.setPlotConfig;var g=e(4401).getGraphDiv,s=e(4031).eraseActiveShape;I.deleteActiveShape=function(r){return s(g(r))},I.toImage=e(403),I.validate=e(4936),I.downloadImage=e(7239);var i=e(6318);I.makeTemplate=i.makeTemplate,I.validateTemplate=i.validateTemplate},6611:function(te,I,e){var o=e(1965),g=e(4213),s=e(7769),i=e(5888).sorterAsc,r=e(3972);I.containerArrayMatch=e(4458);var f=I.isAddVal=function(t){return t==="add"||o(t)},l=I.isRemoveVal=function(t){return t===null||t==="remove"};I.applyContainerArrayChanges=function(t,u,h,m,y){var d=u.astr,T=r.getComponentMethod(d,"supplyLayoutDefaults"),x=r.getComponentMethod(d,"draw"),M=r.getComponentMethod(d,"drawOne"),c=m.replot||m.recalc||T===g||x===g,p=t.layout,v=t._fullLayout;if(h[""]){Object.keys(h).length>1&&s.warn("Full array edits are incompatible with other edits",d);var b=h[""][""];if(l(b))u.set(null);else if(Array.isArray(b))u.set(b);else return s.warn("Unrecognized full array edit value",d,b),!0;return c?!1:(T(p,v),x(t),!0)}var w=Object.keys(h).map(Number).sort(i),_=u.get(),D=_||[],B=y(v,d).get(),U=[],L=-1,O=D.length,R,Z,$,ie,N,F,G,W;for(R=0;R<w.length;R++){if($=w[R],ie=h[$],N=Object.keys(ie),F=ie[""],G=f(F),$<0||$>D.length-(G?0:1)){s.warn("index out of range",d,$);continue}if(F!==void 0)N.length>1&&s.warn("Insertion & removal are incompatible with edits to the same index.",d,$),l(F)?U.push($):G?(F==="add"&&(F={}),D.splice($,0,F),B&&B.splice($,0,{})):s.warn("Unrecognized full object edit value",d,$,F),L===-1&&(L=$);else for(Z=0;Z<N.length;Z++)W=d+"["+$+"].",y(D[$],N[Z],W).set(ie[N[Z]])}for(R=U.length-1;R>=0;R--)D.splice(U[R],1),B&&B.splice(U[R],1);if(D.length?_||u.set(D):u.set(null),c)return!1;if(T(p,v),M!==g){var X;if(L===-1)X=w;else{for(O=Math.max(D.length,O),X=[],R=0;R<w.length&&($=w[R],!($>=L));R++)X.push($);for(R=L;R<O;R++)X.push(R)}for(R=0;R<X.length;R++)M(t,X[R])}else x(t);return!0}},2391:function(te,I,e){var o=e(9898),g=e(2770),s=e(7035),i=e(1828),r=i.nestedProperty,f=e(1086),l=e(847),n=e(3972),t=e(6281),u=e(4875),h=e(9298),m=e(3608),y=e(3838),d=e(1424),T=e(7901),x=e(4305).initInteractions,M=e(7922),c=e(7322).clearOutline,p=e(2075).dfltConfig,v=e(6611),b=e(8377),w=e(1549),_=e(962),D=e(5555).AX_NAME_PATTERN,B=0,U=5;function L(oe,be,De,Se){var ze;if(oe=i.getGraphDiv(oe),f.init(oe),i.isPlainObject(be)){var _e=be;be=_e.data,De=_e.layout,Se=_e.config,ze=_e.frames}var ct=f.triggerHandler(oe,"plotly_beforeplot",[be,De,Se]);if(ct===!1)return Promise.reject();!be&&!De&&!i.isPlotDiv(oe)&&i.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",oe);function ot(){if(ze)return I.addFrames(oe,ze)}ie(oe,Se),De||(De={}),o.select(oe).classed("js-plotly-plot",!0),d.makeTester(),Array.isArray(oe._promises)||(oe._promises=[]);var $e=(oe.data||[]).length===0&&Array.isArray(be);Array.isArray(be)&&(b.cleanData(be),$e?oe.data=be:oe.data.push.apply(oe.data,be),oe.empty=!1),(!oe.layout||$e)&&(oe.layout=b.cleanLayout(De)),u.supplyDefaults(oe);var Ye=oe._fullLayout,it=Ye._has("cartesian");Ye._replotting=!0,($e||Ye._shouldCreateBgLayer)&&(Oe(oe),Ye._shouldCreateBgLayer&&delete Ye._shouldCreateBgLayer),d.initGradients(oe),d.initPatterns(oe),$e&&h.saveShowSpikeInitial(oe);var wt=!oe.calcdata||oe.calcdata.length!==(oe._fullData||[]).length;wt&&u.doCalcdata(oe);for(var Rt=0;Rt<oe.calcdata.length;Rt++)oe.calcdata[Rt][0].trace=oe._fullData[Rt];oe._context.responsive?oe._responsiveChartHandler||(oe._responsiveChartHandler=function(){i.isHidden(oe)||u.resize(oe)},window.addEventListener("resize",oe._responsiveChartHandler)):i.clearResponsive(oe);var Ht=i.extendFlat({},Ye._size),Vt=0;function Ut(){for(var _t=Ye._basePlotModules,Nt=0;Nt<_t.length;Nt++)_t[Nt].drawFramework&&_t[Nt].drawFramework(oe);!Ye._glcanvas&&Ye._has("gl")&&(Ye._glcanvas=Ye._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Yt){return Yt.key}),Ye._glcanvas.enter().append("canvas").attr("class",function(Yt){return"gl-canvas gl-canvas-"+Yt.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Jt=oe._context.plotGlPixelRatio;if(Ye._glcanvas){Ye._glcanvas.attr("width",Ye.width*Jt).attr("height",Ye.height*Jt).style("width",Ye.width+"px").style("height",Ye.height+"px");var rr=Ye._glcanvas.data()[0].regl;if(rr&&(Math.floor(Ye.width*Jt)!==rr._gl.drawingBufferWidth||Math.floor(Ye.height*Jt)!==rr._gl.drawingBufferHeight)){var lr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Vt)i.error(lr);else return i.log(lr+" Clearing graph and plotting again."),u.cleanPlot([],{},oe._fullData,Ye),u.supplyDefaults(oe),Ye=oe._fullLayout,u.doCalcdata(oe),Vt++,Ut()}}return Ye.modebar.orientation==="h"?Ye._modebardiv.style("height",null).style("width","100%"):Ye._modebardiv.style("width",null).style("height",Ye.height+"px"),u.previousPromises(oe)}function St(){if(u.clearAutoMarginIds(oe),w.drawMarginPushers(oe),h.allowAutoMargin(oe),oe._fullLayout.title.text&&oe._fullLayout.title.automargin&&u.allowAutoMargin(oe,"title.automargin"),Ye._has("pie"))for(var _t=oe._fullData,Nt=0;Nt<_t.length;Nt++){var Jt=_t[Nt];Jt.type==="pie"&&Jt.automargin&&u.allowAutoMargin(oe,"pie."+Jt.uid+".automargin")}return u.doAutoMargin(oe),u.previousPromises(oe)}function Gt(){if(u.didMarginChange(Ht,Ye._size))return i.syncOrAsync([St,w.layoutStyles],oe)}function Ot(){if(!wt){It();return}return i.syncOrAsync([n.getComponentMethod("shapes","calcAutorange"),n.getComponentMethod("annotations","calcAutorange"),It],oe)}function It(){oe._transitioning||(w.doAutoRangeAndConstraints(oe),$e&&h.saveRangeInitial(oe),n.getComponentMethod("rangeslider","calcAutorange")(oe))}function Qt(){return h.draw(oe,$e?"":"redraw")}var Bt=[u.previousPromises,ot,Ut,St,Gt];it&&Bt.push(Ot),Bt.push(w.layoutStyles),it&&Bt.push(Qt,function(Nt){var Jt=Nt._fullLayout._insideTickLabelsUpdaterange;if(Jt)return Nt._fullLayout._insideTickLabelsUpdaterange=void 0,ue(Nt,Jt).then(function(){h.saveRangeInitial(Nt,!0)})}),Bt.push(w.drawData,w.finalDraw,x,u.addLinks,u.rehover,u.redrag,u.reselect,u.doAutoMargin,u.previousPromises);var xt=i.syncOrAsync(Bt,oe);return(!xt||!xt.then)&&(xt=Promise.resolve()),xt.then(function(){return O(oe),oe})}function O(oe){var be=oe._fullLayout;be._redrawFromAutoMarginCount?be._redrawFromAutoMarginCount--:oe.emit("plotly_afterplot")}function R(oe){return i.extendFlat(p,oe)}function Z(oe,be){try{oe._fullLayout._paper.style("background",be)}catch(De){i.error(De)}}function $(oe,be){var De=T.combine(be,"white");Z(oe,De)}function ie(oe,be){if(!oe._context){oe._context=i.extendDeep({},p);var De=o.select("base");oe._context._baseUrl=De.size()&&De.attr("href")?window.location.href.split("#")[0]:""}var Se=oe._context,ze,_e,ct;if(be){for(_e=Object.keys(be),ze=0;ze<_e.length;ze++)ct=_e[ze],!(ct==="editable"||ct==="edits")&&ct in Se&&(ct==="setBackground"&&be[ct]==="opaque"?Se[ct]=$:Se[ct]=be[ct]);be.plot3dPixelRatio&&!Se.plotGlPixelRatio&&(Se.plotGlPixelRatio=Se.plot3dPixelRatio);var ot=be.editable;if(ot!==void 0)for(Se.editable=ot,_e=Object.keys(Se.edits),ze=0;ze<_e.length;ze++)Se.edits[_e[ze]]=ot;if(be.edits)for(_e=Object.keys(be.edits),ze=0;ze<_e.length;ze++)ct=_e[ze],ct in Se.edits&&(Se.edits[ct]=be.edits[ct]);Se._exportedPlot=be._exportedPlot}Se.staticPlot&&(Se.editable=!1,Se.edits={},Se.autosizable=!1,Se.scrollZoom=!1,Se.doubleClick=!1,Se.showTips=!1,Se.showLink=!1,Se.displayModeBar=!1),Se.displayModeBar==="hover"&&!s&&(Se.displayModeBar=!0),(Se.setBackground==="transparent"||typeof Se.setBackground!="function")&&(Se.setBackground=Z),Se._hasZeroHeight=Se._hasZeroHeight||oe.clientHeight===0,Se._hasZeroWidth=Se._hasZeroWidth||oe.clientWidth===0;var $e=Se.scrollZoom,Ye=Se._scrollZoom={};if($e===!0)Ye.cartesian=1,Ye.gl3d=1,Ye.geo=1,Ye.mapbox=1;else if(typeof $e=="string"){var it=$e.split("+");for(ze=0;ze<it.length;ze++)Ye[it[ze]]=1}else $e!==!1&&(Ye.gl3d=1,Ye.geo=1,Ye.mapbox=1)}function N(oe){if(oe=i.getGraphDiv(oe),!i.isPlotDiv(oe))throw new Error("This element is not a Plotly plot: "+oe);return b.cleanData(oe.data),b.cleanLayout(oe.layout),oe.calcdata=void 0,I._doPlot(oe).then(function(){return oe.emit("plotly_redraw"),oe})}function F(oe,be,De,Se){return oe=i.getGraphDiv(oe),u.cleanPlot([],{},oe._fullData||[],oe._fullLayout||{}),u.purge(oe),I._doPlot(oe,be,De,Se)}function G(oe,be){var De=be+1,Se=[],ze,_e;for(ze=0;ze<oe.length;ze++)_e=oe[ze],_e<0?Se.push(De+_e):Se.push(_e);return Se}function W(oe,be,De){var Se,ze;for(Se=0;Se<be.length;Se++){if(ze=be[Se],ze!==parseInt(ze,10))throw new Error("all values in "+De+" must be integers");if(ze>=oe.data.length||ze<-oe.data.length)throw new Error(De+" must be valid indices for gd.data.");if(be.indexOf(ze,Se+1)>-1||ze>=0&&be.indexOf(-oe.data.length+ze)>-1||ze<0&&be.indexOf(oe.data.length+ze)>-1)throw new Error("each index in "+De+" must be unique.")}}function X(oe,be,De){if(!Array.isArray(oe.data))throw new Error("gd.data must be an array.");if(typeof be>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(be)||(be=[be]),W(oe,be,"currentIndices"),typeof De<"u"&&!Array.isArray(De)&&(De=[De]),typeof De<"u"&&W(oe,De,"newIndices"),typeof De<"u"&&be.length!==De.length)throw new Error("current and new indices must be of equal length.")}function J(oe,be,De){var Se,ze;if(!Array.isArray(oe.data))throw new Error("gd.data must be an array.");if(typeof be>"u")throw new Error("traces must be defined.");for(Array.isArray(be)||(be=[be]),Se=0;Se<be.length;Se++)if(ze=be[Se],typeof ze!="object"||Array.isArray(ze)||ze===null)throw new Error("all values in traces array must be non-array objects");if(typeof De<"u"&&!Array.isArray(De)&&(De=[De]),typeof De<"u"&&De.length!==be.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function ne(oe,be,De,Se){var ze=i.isPlainObject(Se);if(!Array.isArray(oe.data))throw new Error("gd.data must be an array");if(!i.isPlainObject(be))throw new Error("update must be a key:value object");if(typeof De>"u")throw new Error("indices must be an integer or array of integers");W(oe,De,"indices");for(var _e in be){if(!Array.isArray(be[_e])||be[_e].length!==De.length)throw new Error("attribute "+_e+" must be an array of length equal to indices array length");if(ze&&(!(_e in Se)||!Array.isArray(Se[_e])||Se[_e].length!==be[_e].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function fe(oe,be,De,Se){var ze=i.isPlainObject(Se),_e=[],ct,ot,$e,Ye,it;Array.isArray(De)||(De=[De]),De=G(De,oe.data.length-1);for(var wt in be)for(var Rt=0;Rt<De.length;Rt++){if(ct=oe.data[De[Rt]],$e=r(ct,wt),ot=$e.get(),Ye=be[wt][Rt],!i.isArrayOrTypedArray(Ye))throw new Error("attribute: "+wt+" index: "+Rt+" must be an array");if(!i.isArrayOrTypedArray(ot))throw new Error("cannot extend missing or non-array attribute: "+wt);if(ot.constructor!==Ye.constructor)throw new Error("cannot extend array with an array of a different type: "+wt);it=ze?Se[wt][Rt]:Se,g(it)||(it=-1),_e.push({prop:$e,target:ot,insert:Ye,maxp:Math.floor(it)})}return _e}function ye(oe,be,De,Se,ze){ne(oe,be,De,Se);for(var _e=fe(oe,be,De,Se),ct={},ot={},$e=0;$e<_e.length;$e++){var Ye=_e[$e].prop,it=_e[$e].maxp,wt=ze(_e[$e].target,_e[$e].insert,it);Ye.set(wt[0]),Array.isArray(ct[Ye.astr])||(ct[Ye.astr]=[]),ct[Ye.astr].push(wt[1]),Array.isArray(ot[Ye.astr])||(ot[Ye.astr]=[]),ot[Ye.astr].push(_e[$e].target.length)}return{update:ct,maxPoints:ot}}function Me(oe,be){var De=new oe.constructor(oe.length+be.length);return De.set(oe),De.set(be,oe.length),De}function le(oe,be,De,Se){oe=i.getGraphDiv(oe);function ze($e,Ye,it){var wt,Rt;if(i.isTypedArray($e))if(it<0){var Ht=new $e.constructor(0),Vt=Me($e,Ye);it<0?(wt=Vt,Rt=Ht):(wt=Ht,Rt=Vt)}else if(wt=new $e.constructor(it),Rt=new $e.constructor($e.length+Ye.length-it),it===Ye.length)wt.set(Ye),Rt.set($e);else if(it<Ye.length){var Ut=Ye.length-it;wt.set(Ye.subarray(Ut)),Rt.set($e),Rt.set(Ye.subarray(0,Ut),$e.length)}else{var St=it-Ye.length,Gt=$e.length-St;wt.set($e.subarray(Gt)),wt.set(Ye,St),Rt.set($e.subarray(0,Gt))}else wt=$e.concat(Ye),Rt=it>=0&&it<wt.length?wt.splice(0,wt.length-it):[];return[wt,Rt]}var _e=ye(oe,be,De,Se,ze),ct=I.redraw(oe),ot=[oe,_e.update,De,_e.maxPoints];return l.add(oe,I.prependTraces,ot,le,arguments),ct}function ve(oe,be,De,Se){oe=i.getGraphDiv(oe);function ze($e,Ye,it){var wt,Rt;if(i.isTypedArray($e))if(it<=0){var Ht=new $e.constructor(0),Vt=Me(Ye,$e);it<0?(wt=Vt,Rt=Ht):(wt=Ht,Rt=Vt)}else if(wt=new $e.constructor(it),Rt=new $e.constructor($e.length+Ye.length-it),it===Ye.length)wt.set(Ye),Rt.set($e);else if(it<Ye.length){var Ut=Ye.length-it;wt.set(Ye.subarray(0,Ut)),Rt.set(Ye.subarray(Ut)),Rt.set($e,Ut)}else{var St=it-Ye.length;wt.set(Ye),wt.set($e.subarray(0,St),Ye.length),Rt.set($e.subarray(St))}else wt=Ye.concat($e),Rt=it>=0&&it<wt.length?wt.splice(it,wt.length):[];return[wt,Rt]}var _e=ye(oe,be,De,Se,ze),ct=I.redraw(oe),ot=[oe,_e.update,De,_e.maxPoints];return l.add(oe,I.extendTraces,ot,ve,arguments),ct}function H(oe,be,De){oe=i.getGraphDiv(oe);var Se=[],ze=I.deleteTraces,_e=H,ct=[oe,Se],ot=[oe,be],$e,Ye;for(J(oe,be,De),Array.isArray(be)||(be=[be]),be=be.map(function(it){return i.extendFlat({},it)}),b.cleanData(be),$e=0;$e<be.length;$e++)oe.data.push(be[$e]);for($e=0;$e<be.length;$e++)Se.push(-be.length+$e);if(typeof De>"u")return Ye=I.redraw(oe),l.add(oe,ze,ct,_e,ot),Ye;Array.isArray(De)||(De=[De]);try{X(oe,Se,De)}catch(it){throw oe.data.splice(oe.data.length-be.length,be.length),it}return l.startSequence(oe),l.add(oe,ze,ct,_e,ot),Ye=I.moveTraces(oe,Se,De),l.stopSequence(oe),Ye}function Y(oe,be){oe=i.getGraphDiv(oe);var De=[],Se=I.addTraces,ze=Y,_e=[oe,De,be],ct=[oe,be],ot,$e;if(typeof be>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(be)||(be=[be]),W(oe,be,"indices"),be=G(be,oe.data.length-1),be.sort(i.sorterDes),ot=0;ot<be.length;ot+=1)$e=oe.data.splice(be[ot],1)[0],De.push($e);var Ye=I.redraw(oe);return l.add(oe,Se,_e,ze,ct),Ye}function S(oe,be,De){oe=i.getGraphDiv(oe);var Se=[],ze=[],_e=S,ct=S,ot=[oe,De,be],$e=[oe,be,De],Ye;if(X(oe,be,De),be=Array.isArray(be)?be:[be],typeof De>"u")for(De=[],Ye=0;Ye<be.length;Ye++)De.push(-be.length+Ye);for(De=Array.isArray(De)?De:[De],be=G(be,oe.data.length-1),De=G(De,oe.data.length-1),Ye=0;Ye<oe.data.length;Ye++)be.indexOf(Ye)===-1&&Se.push(oe.data[Ye]);for(Ye=0;Ye<be.length;Ye++)ze.push({newIndex:De[Ye],trace:oe.data[be[Ye]]});for(ze.sort(function(wt,Rt){return wt.newIndex-Rt.newIndex}),Ye=0;Ye<ze.length;Ye+=1)Se.splice(ze[Ye].newIndex,0,ze[Ye].trace);oe.data=Se;var it=I.redraw(oe);return l.add(oe,_e,ot,ct,$e),it}function E(oe,be,De,Se){oe=i.getGraphDiv(oe),b.clearPromiseQueue(oe);var ze={};if(typeof be=="string")ze[be]=De;else if(i.isPlainObject(be))ze=i.extendFlat({},be),Se===void 0&&(Se=De);else return i.warn("Restyle fail.",be,De,Se),Promise.reject();Object.keys(ze).length&&(oe.changed=!0);var _e=b.coerceTraceIndices(oe,Se),ct=j(oe,ze,_e),ot=ct.flags;ot.calc&&(oe.calcdata=void 0),ot.clearAxisTypes&&b.clearAxisTypes(oe,_e,{});var $e=[];ot.fullReplot?$e.push(I._doPlot):($e.push(u.previousPromises),u.supplyDefaults(oe),ot.markerSize&&(u.doCalcdata(oe),Ae($e)),ot.style&&$e.push(w.doTraceStyle),ot.colorbars&&$e.push(w.doColorBars),$e.push(O)),$e.push(u.rehover,u.redrag,u.reselect),l.add(oe,E,[oe,ct.undoit,ct.traces],E,[oe,ct.redoit,ct.traces]);var Ye=i.syncOrAsync($e,oe);return(!Ye||!Ye.then)&&(Ye=Promise.resolve()),Ye.then(function(){return oe.emit("plotly_restyle",ct.eventData),oe})}function z(oe){return oe===void 0?null:oe}function C(oe,be){return be?function(De,Se,ze){var _e=r(De,Se),ct=_e.set;return _e.set=function(ot){var $e=(ze||"")+Se;K($e,_e.get(),ot,oe),ct(ot)},_e}:r}function K(oe,be,De,Se){if(Array.isArray(be)||Array.isArray(De))for(var ze=Array.isArray(be)?be:[],_e=Array.isArray(De)?De:[],ct=Math.max(ze.length,_e.length),ot=0;ot<ct;ot++)K(oe+"["+ot+"]",ze[ot],_e[ot],Se);else if(i.isPlainObject(be)||i.isPlainObject(De)){var $e=i.isPlainObject(be)?be:{},Ye=i.isPlainObject(De)?De:{},it=i.extendFlat({},$e,Ye);for(var wt in it)K(oe+"."+wt,$e[wt],Ye[wt],Se)}else Se[oe]===void 0&&(Se[oe]=z(be))}function P(oe,be,De){for(var Se in De){var ze=r(oe,Se);K(Se,ze.get(),De[Se],be)}}function j(oe,be,De){var Se=oe._fullLayout,ze=oe._fullData,_e=oe.data,ct=Se._guiEditing,ot=C(Se._preGUI,ct),$e=i.extendDeepAll({},be),Ye;ae(be);var it=_.traceFlags(),wt={},Rt={},Ht;function Vt(){return De.map(function(){})}function Ut(Et){var ar=h.id2name(Et);Ht.indexOf(ar)===-1&&Ht.push(ar)}function St(Et){return"LAYOUT"+Et+".autorange"}function Gt(Et){return"LAYOUT"+Et+".range"}function Ot(Et){for(var ar=Et;ar<ze.length;ar++)if(ze[ar]._input===_e[Et])return ze[ar]}function It(Et,ar,Ft){if(Array.isArray(Et)){Et.forEach(function(or){It(or,ar,Ft)});return}if(!(Et in be||b.hasParent(be,Et))){var Wt;if(Et.substr(0,6)==="LAYOUT")Wt=ot(oe.layout,Et.replace("LAYOUT",""));else{var nr=De[Ft],ir=Se._tracePreGUI[Ot(nr)._fullInput.uid];Wt=C(ir,ct)(_e[nr],Et)}Et in Rt||(Rt[Et]=Vt()),Rt[Et][Ft]===void 0&&(Rt[Et][Ft]=z(Wt.get())),ar!==void 0&&Wt.set(ar)}}function Qt(Et){return function(ar){return ze[ar][Et]}}function Bt(Et){return function(ar,Ft){return ar===!1?ze[De[Ft]][Et]:null}}for(var xt in be){if(b.hasParent(be,xt))throw new Error("cannot set "+xt+" and a parent attribute simultaneously");var _t=be[xt],Nt,Jt,rr,lr,Yt,re;if((xt==="autobinx"||xt==="autobiny")&&(xt=xt.charAt(xt.length-1)+"bins",Array.isArray(_t)?_t=_t.map(Bt(xt)):_t===!1?_t=De.map(Qt(xt)):_t=null),wt[xt]=_t,xt.substr(0,6)==="LAYOUT"){rr=ot(oe.layout,xt.replace("LAYOUT","")),Rt[xt]=[z(rr.get())],rr.set(Array.isArray(_t)?_t[0]:_t),it.calc=!0;continue}for(Rt[xt]=Vt(),Ye=0;Ye<De.length;Ye++){Nt=_e[De[Ye]],Jt=Ot(De[Ye]);var q=Se._tracePreGUI[Jt._fullInput.uid];if(rr=C(q,ct)(Nt,xt),lr=rr.get(),Yt=Array.isArray(_t)?_t[Ye%_t.length]:_t,Yt!==void 0){var He=rr.parts[rr.parts.length-1],Ie=xt.substr(0,xt.length-He.length-1),Ue=Ie?Ie+".":"",Ve=Ie?r(Jt,Ie).get():Jt;if(re=t.getTraceValObject(Jt,rr.parts),re&&re.impliedEdits&&Yt!==null)for(var Xe in re.impliedEdits)It(i.relativeAttr(xt,Xe),re.impliedEdits[Xe],Ye);else if((He==="thicknessmode"||He==="lenmode")&&lr!==Yt&&(Yt==="fraction"||Yt==="pixels")&&Ve){var Ge=Se._size,Be=Ve.orient,qe=Be==="top"||Be==="bottom";if(He==="thicknessmode"){var at=qe?Ge.h:Ge.w;It(Ue+"thickness",Ve.thickness*(Yt==="fraction"?1/at:at),Ye)}else{var st=qe?Ge.w:Ge.h;It(Ue+"len",Ve.len*(Yt==="fraction"?1/st:st),Ye)}}else if(xt==="type"&&(Yt==="pie"!=(lr==="pie")||Yt==="funnelarea"!=(lr==="funnelarea"))){var nt="x",pt="y";(Yt==="bar"||lr==="bar")&&Nt.orientation==="h"&&(nt="y",pt="x"),i.swapAttrs(Nt,["?","?src"],"labels",nt),i.swapAttrs(Nt,["d?","?0"],"label",nt),i.swapAttrs(Nt,["?","?src"],"values",pt),lr==="pie"||lr==="funnelarea"?(r(Nt,"marker.color").set(r(Nt,"marker.colors").get()),Se._pielayer.selectAll("g.trace").remove()):n.traceIs(Nt,"cartesian")&&r(Nt,"marker.colors").set(r(Nt,"marker.color").get())}Rt[xt][Ye]=z(lr);var dt=["swapxy","swapxyaxes","orientation","orientationaxes"];if(dt.indexOf(xt)!==-1){if(xt==="orientation"){rr.set(Yt);var ut=Nt.x&&!Nt.y?"h":"v";if((rr.get()||ut)===Jt.orientation)continue}else xt==="orientationaxes"&&(Nt.orientation={v:"h",h:"v"}[Jt.orientation]);b.swapXYData(Nt),it.calc=it.clearAxisTypes=!0}else u.dataArrayContainers.indexOf(rr.parts[0])!==-1?(b.manageArrayContainers(rr,Yt,Rt),it.calc=!0):(re?re.arrayOk&&!n.traceIs(Jt,"regl")&&(i.isArrayOrTypedArray(Yt)||i.isArrayOrTypedArray(lr))?it.calc=!0:_.update(it,re):it.calc=!0,rr.set(Yt))}}if(["swapxyaxes","orientationaxes"].indexOf(xt)!==-1&&h.swap(oe,De),xt==="orientationaxes"){var Pt=r(oe.layout,"hovermode"),Lt=Pt.get();Lt==="x"?Pt.set("y"):Lt==="y"?Pt.set("x"):Lt==="x unified"?Pt.set("y unified"):Lt==="y unified"&&Pt.set("x unified")}if(["orientation","type"].indexOf(xt)!==-1){for(Ht=[],Ye=0;Ye<De.length;Ye++){var $t=_e[De[Ye]];n.traceIs($t,"cartesian")&&(Ut($t.xaxis||"x"),Ut($t.yaxis||"y"))}It(Ht.map(St),!0,0),It(Ht.map(Gt),[0,1],0)}}return(it.calc||it.plot)&&(it.fullReplot=!0),{flags:it,undoit:Rt,redoit:wt,traces:De,eventData:i.extendDeepNoArrays([],[$e,De])}}function ae(oe){var be=i.counterRegex("axis",".title",!1,!1),De=/colorbar\.title$/,Se=Object.keys(oe),ze,_e,ct;for(ze=0;ze<Se.length;ze++)_e=Se[ze],ct=oe[_e],(_e==="title"||be.test(_e)||De.test(_e))&&(typeof ct=="string"||typeof ct=="number")?ot(_e,_e.replace("title","title.text")):_e.indexOf("titlefont")>-1&&_e.indexOf("grouptitlefont")===-1?ot(_e,_e.replace("titlefont","title.font")):_e.indexOf("titleposition")>-1?ot(_e,_e.replace("titleposition","title.position")):_e.indexOf("titleside")>-1?ot(_e,_e.replace("titleside","title.side")):_e.indexOf("titleoffset")>-1&&ot(_e,_e.replace("titleoffset","title.offset"));function ot($e,Ye){oe[Ye]=oe[$e],delete oe[$e]}}function ue(oe,be,De){oe=i.getGraphDiv(oe),b.clearPromiseQueue(oe);var Se={};if(typeof be=="string")Se[be]=De;else if(i.isPlainObject(be))Se=i.extendFlat({},be);else return i.warn("Relayout fail.",be,De),Promise.reject();Object.keys(Se).length&&(oe.changed=!0);var ze=pe(oe,Se),_e=ze.flags;_e.calc&&(oe.calcdata=void 0);var ct=[u.previousPromises];_e.layoutReplot?ct.push(w.layoutReplot):Object.keys(Se).length&&(he(oe,_e,ze)||u.supplyDefaults(oe),_e.legend&&ct.push(w.doLegend),_e.layoutstyle&&ct.push(w.layoutStyles),_e.axrange&&Ae(ct,ze.rangesAltered),_e.ticks&&ct.push(w.doTicksRelayout),_e.modebar&&ct.push(w.doModeBar),_e.camera&&ct.push(w.doCamera),_e.colorbars&&ct.push(w.doColorBars),ct.push(O)),ct.push(u.rehover,u.redrag,u.reselect),l.add(oe,ue,[oe,ze.undoit],ue,[oe,ze.redoit]);var ot=i.syncOrAsync(ct,oe);return(!ot||!ot.then)&&(ot=Promise.resolve(oe)),ot.then(function(){return oe.emit("plotly_relayout",ze.eventData),oe})}function he(oe,be,De){var Se=oe._fullLayout;if(!be.axrange)return!1;for(var ze in be)if(ze!=="axrange"&&be[ze])return!1;var _e,ct,ot=function(Ht,Vt){return i.coerce(_e,ct,y,Ht,Vt)},$e={};for(var Ye in De.rangesAltered){var it=h.id2name(Ye);if(_e=oe.layout[it],ct=Se[it],m(_e,ct,ot,$e),ct._matchGroup){for(var wt in ct._matchGroup)if(wt!==Ye){var Rt=Se[h.id2name(wt)];Rt.autorange=ct.autorange,Rt.range=ct.range.slice(),Rt._input.range=ct.range.slice()}}}return!0}function Ae(oe,be){var De=be?function(Se){var ze=[],_e=!0;for(var ct in be){var ot=h.getFromId(Se,ct);if(ze.push(ct),(ot.ticklabelposition||"").indexOf("inside")!==-1&&ot._anchorAxis&&ze.push(ot._anchorAxis._id),ot._matchGroup)for(var $e in ot._matchGroup)be[$e]||ze.push($e)}return h.draw(Se,ze,{skipTitle:_e})}:function(Se){return h.draw(Se,"redraw")};oe.push(c,w.doAutoRangeAndConstraints,De,w.drawData,w.finalDraw)}var ke=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,ce=/^[xyz]axis[0-9]*\.autorange$/,me=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function pe(oe,be){var De=oe.layout,Se=oe._fullLayout,ze=Se._guiEditing,_e=C(Se._preGUI,ze),ct=Object.keys(be),ot=h.list(oe),$e=i.extendDeepAll({},be),Ye={},it,wt,Rt;for(ae(be),ct=Object.keys(be),wt=0;wt<ct.length;wt++)if(ct[wt].indexOf("allaxes")===0){for(Rt=0;Rt<ot.length;Rt++){var Ht=ot[Rt]._id.substr(1),Vt=Ht.indexOf("scene")!==-1?Ht+".":"",Ut=ct[wt].replace("allaxes",Vt+ot[Rt]._name);be[Ut]||(be[Ut]=be[ct[wt]])}delete be[ct[wt]]}var St=_.layoutFlags(),Gt={},Ot={};function It(ir,or){if(Array.isArray(ir)){ir.forEach(function(sr){It(sr,or)});return}if(!(ir in be||b.hasParent(be,ir))){var Mr=_e(De,ir);ir in Ot||(Ot[ir]=z(Mr.get())),or!==void 0&&Mr.set(or)}}var Qt={},Bt;function xt(ir){var or=h.name2id(ir.split(".")[0]);return Qt[or]=1,or}for(var _t in be){if(b.hasParent(be,_t))throw new Error("cannot set "+_t+" and a parent attribute simultaneously");for(var Nt=_e(De,_t),Jt=be[_t],rr=Nt.parts.length,lr=rr-1;lr>0&&typeof Nt.parts[lr]!="string";)lr--;var Yt=Nt.parts[lr],re=Nt.parts[lr-1]+"."+Yt,q=Nt.parts.slice(0,lr).join("."),He=r(oe.layout,q).get(),Ie=r(Se,q).get(),Ue=Nt.get();if(Jt!==void 0){Gt[_t]=Jt,Ot[_t]=Yt==="reverse"?Jt:z(Ue);var Ve=t.getLayoutValObject(Se,Nt.parts);if(Ve&&Ve.impliedEdits&&Jt!==null)for(var Xe in Ve.impliedEdits)It(i.relativeAttr(_t,Xe),Ve.impliedEdits[Xe]);if(["width","height"].indexOf(_t)!==-1)if(Jt){It("autosize",null);var Ge=_t==="height"?"width":"height";It(Ge,Se[Ge])}else Se[_t]=oe._initialAutoSize[_t];else if(_t==="autosize")It("width",Jt?null:Se.width),It("height",Jt?null:Se.height);else if(re.match(ke))xt(re),r(Se,q+"._inputRange").set(null);else if(re.match(ce)){xt(re),r(Se,q+"._inputRange").set(null);var Be=r(Se,q).get();Be._inputDomain&&(Be._input.domain=Be._inputDomain.slice())}else re.match(me)&&r(Se,q+"._inputDomain").set(null);if(Yt==="type"){Bt=He;var qe=Ie.type==="linear"&&Jt==="log",at=Ie.type==="log"&&Jt==="linear";if(qe||at){if(!Bt||!Bt.range)It(q+".autorange",!0);else if(Ie.autorange)qe&&(Bt.range=Bt.range[1]>Bt.range[0]?[1,2]:[2,1]);else{var st=Bt.range[0],nt=Bt.range[1];qe?(st<=0&&nt<=0&&It(q+".autorange",!0),st<=0?st=nt/1e6:nt<=0&&(nt=st/1e6),It(q+".range[0]",Math.log(st)/Math.LN10),It(q+".range[1]",Math.log(nt)/Math.LN10)):(It(q+".range[0]",Math.pow(10,st)),It(q+".range[1]",Math.pow(10,nt)))}Array.isArray(Se._subplots.polar)&&Se._subplots.polar.length&&Se[Nt.parts[0]]&&Nt.parts[1]==="radialaxis"&&delete Se[Nt.parts[0]]._subplot.viewInitial["radialaxis.range"],n.getComponentMethod("annotations","convertCoords")(oe,Ie,Jt,It),n.getComponentMethod("images","convertCoords")(oe,Ie,Jt,It)}else It(q+".autorange",!0),It(q+".range",null);r(Se,q+"._inputRange").set(null)}else if(Yt.match(D)){var pt=r(Se,_t).get(),dt=(Jt||{}).type;(!dt||dt==="-")&&(dt="linear"),n.getComponentMethod("annotations","convertCoords")(oe,pt,dt,It),n.getComponentMethod("images","convertCoords")(oe,pt,dt,It)}var ut=v.containerArrayMatch(_t);if(ut){it=ut.array,wt=ut.index;var Pt=ut.property,Lt=Ve||{editType:"calc"};wt!==""&&Pt===""&&(v.isAddVal(Jt)?Ot[_t]=null:v.isRemoveVal(Jt)?Ot[_t]=(r(De,it).get()||[])[wt]:i.warn("unrecognized full object value",be)),_.update(St,Lt),Ye[it]||(Ye[it]={});var $t=Ye[it][wt];$t||($t=Ye[it][wt]={}),$t[Pt]=Jt,delete be[_t]}else Yt==="reverse"?(He.range?He.range.reverse():(It(q+".autorange",!0),He.range=[1,0]),Ie.autorange?St.calc=!0:St.plot=!0):(_t==="dragmode"&&(Jt===!1&&Ue!==!1||Jt!==!1&&Ue===!1)||Se._has("scatter-like")&&Se._has("regl")&&_t==="dragmode"&&(Jt==="lasso"||Jt==="select")&&!(Ue==="lasso"||Ue==="select")||Se._has("gl2d")?St.plot=!0:Ve?_.update(St,Ve):St.calc=!0,Nt.set(Jt))}}for(it in Ye){var Et=v.applyContainerArrayChanges(oe,_e(De,it),Ye[it],St,_e);Et||(St.plot=!0)}for(var ar in Qt){Bt=h.getFromId(oe,ar);var Ft=Bt&&Bt._constraintGroup;if(Ft){St.calc=!0;for(var Wt in Ft)Qt[Wt]||(h.getFromId(oe,Wt)._constraintShrinkable=!0)}}(Ee(oe)||be.height||be.width)&&(St.plot=!0);var nr=Se.shapes;for(wt=0;wt<nr.length;wt++)if(nr[wt].showlegend){St.calc=!0;break}return(St.plot||St.calc)&&(St.layoutReplot=!0),{flags:St,rangesAltered:Qt,undoit:Ot,redoit:Gt,eventData:$e}}function Ee(oe){var be=oe._fullLayout,De=be.width,Se=be.height;return oe.layout.autosize&&u.plotAutoSize(oe,oe.layout,be),be.width!==De||be.height!==Se}function we(oe,be,De,Se){oe=i.getGraphDiv(oe),b.clearPromiseQueue(oe),i.isPlainObject(be)||(be={}),i.isPlainObject(De)||(De={}),Object.keys(be).length&&(oe.changed=!0),Object.keys(De).length&&(oe.changed=!0);var ze=b.coerceTraceIndices(oe,Se),_e=j(oe,i.extendFlat({},be),ze),ct=_e.flags,ot=pe(oe,i.extendFlat({},De)),$e=ot.flags;(ct.calc||$e.calc)&&(oe.calcdata=void 0),ct.clearAxisTypes&&b.clearAxisTypes(oe,ze,De);var Ye=[];$e.layoutReplot?Ye.push(w.layoutReplot):ct.fullReplot?Ye.push(I._doPlot):(Ye.push(u.previousPromises),he(oe,$e,ot)||u.supplyDefaults(oe),ct.style&&Ye.push(w.doTraceStyle),(ct.colorbars||$e.colorbars)&&Ye.push(w.doColorBars),$e.legend&&Ye.push(w.doLegend),$e.layoutstyle&&Ye.push(w.layoutStyles),$e.axrange&&Ae(Ye,ot.rangesAltered),$e.ticks&&Ye.push(w.doTicksRelayout),$e.modebar&&Ye.push(w.doModeBar),$e.camera&&Ye.push(w.doCamera),Ye.push(O)),Ye.push(u.rehover,u.redrag,u.reselect),l.add(oe,we,[oe,_e.undoit,ot.undoit,_e.traces],we,[oe,_e.redoit,ot.redoit,_e.traces]);var it=i.syncOrAsync(Ye,oe);return(!it||!it.then)&&(it=Promise.resolve(oe)),it.then(function(){return oe.emit("plotly_update",{data:_e.eventData,layout:ot.eventData}),oe})}function xe(oe){return function(De){De._fullLayout._guiEditing=!0;var Se=oe.apply(null,arguments);return De._fullLayout._guiEditing=!1,Se}}var Fe=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Ke=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function je(oe,be){for(var De=0;De<be.length;De++){var Se=be[De],ze=oe.match(Se.pattern);if(ze){var _e=ze[1]||"";return{head:_e,tail:oe.substr(_e.length+1),attr:Se.attr}}}}function Je(oe,be){var De=r(be,oe).get();if(De!==void 0)return De;var Se=oe.split(".");for(Se.pop();Se.length>1;)if(Se.pop(),De=r(be,Se.join(".")+".uirevision").get(),De!==void 0)return De;return be.uirevision}function ht(oe,be){for(var De=0;De<be.length;De++)if(be[De]._fullInput.uid===oe)return De;return-1}function Tt(oe,be,De){for(var Se=0;Se<be.length;Se++)if(be[Se].uid===oe)return Se;return!be[De]||be[De].uid?-1:De}function gt(oe,be){var De=i.isPlainObject(oe),Se=Array.isArray(oe);return De||Se?(De&&i.isPlainObject(be)||Se&&Array.isArray(be))&&JSON.stringify(oe)===JSON.stringify(be):oe===be}function tt(oe,be,De,Se){var ze=Se._preGUI,_e,ct,ot,$e,Ye,it,wt,Rt,Ht,Vt,Ut=[],St={},Gt={};for(_e in ze){if(Ye=je(_e,Fe),Ye){if(Ht=Ye.head,Vt=Ye.tail,ct=Ye.attr||Ht+".uirevision",ot=r(Se,ct).get(),$e=ot&&Je(ct,be),$e&&$e===ot){if(it=ze[_e],it===null&&(it=void 0),wt=r(be,_e),Rt=wt.get(),gt(Rt,it)){Rt===void 0&&Vt==="autorange"&&Ut.push(Ht),wt.set(z(r(Se,_e).get()));continue}else if(Vt==="autorange"||Vt.substr(0,6)==="range["){var Ot=ze[Ht+".range[0]"],It=ze[Ht+".range[1]"],Qt=ze[Ht+".autorange"];if(Qt||Qt===null&&Ot===null&&It===null){if(!(Ht in St)){var Bt=r(be,Ht).get();St[Ht]=Bt&&(Bt.autorange||Bt.autorange!==!1&&(!Bt.range||Bt.range.length!==2))}if(St[Ht]){wt.set(z(r(Se,_e).get()));continue}}}}}else i.warn("unrecognized GUI edit: "+_e);delete ze[_e],Ye&&Ye.tail.substr(0,6)==="range["&&(Gt[Ye.head]=1)}for(var xt=0;xt<Ut.length;xt++){var _t=Ut[xt];if(Gt[_t]){var Nt=r(be,_t).get();Nt&&delete Nt.autorange}}var Jt=Se._tracePreGUI;for(var rr in Jt){var lr=Jt[rr],Yt=null,re;for(_e in lr){if(!Yt){var q=ht(rr,De);if(q<0){delete Jt[rr];break}var He=De[q];re=He._fullInput;var Ie=Tt(rr,oe,re.index);if(Ie<0){delete Jt[rr];break}Yt=oe[Ie]}if(Ye=je(_e,Ke),Ye){if(Ye.attr?(ot=r(Se,Ye.attr).get(),$e=ot&&Je(Ye.attr,be)):(ot=re.uirevision,$e=Yt.uirevision,$e===void 0&&($e=be.uirevision)),$e&&$e===ot&&(it=lr[_e],it===null&&(it=void 0),wt=r(Yt,_e),Rt=wt.get(),gt(Rt,it))){wt.set(z(r(re,_e).get()));continue}}else i.warn("unrecognized GUI edit: "+_e+" in trace uid "+rr);delete lr[_e]}}}function Ct(oe,be,De,Se){var ze,_e;function ct(){return I.addFrames(oe,ze)}oe=i.getGraphDiv(oe),b.clearPromiseQueue(oe);var ot=oe._fullData,$e=oe._fullLayout;if(!i.isPlotDiv(oe)||!ot||!$e)_e=I.newPlot(oe,be,De,Se);else{if(i.isPlainObject(be)){var Ye=be;be=Ye.data,De=Ye.layout,Se=Ye.config,ze=Ye.frames}var it=!1;if(Se){var wt=i.extendDeep({},oe._context);oe._context=void 0,ie(oe,Se),it=kt(wt,oe._context)}oe.data=be||[],b.cleanData(oe.data),oe.layout=De||{},b.cleanLayout(oe.layout),tt(oe.data,oe.layout,ot,$e),u.supplyDefaults(oe,{skipUpdateCalc:!0});var Rt=oe._fullData,Ht=oe._fullLayout,Vt=Ht.datarevision===void 0,Ut=Ht.transition,St=Mt(oe,$e,Ht,Vt,Ut),Gt=St.newDataRevision,Ot=rt(oe,ot,Rt,Vt,Ut,Gt);if(Ee(oe)&&(St.layoutReplot=!0),Ot.calc||St.calc){oe.calcdata=void 0;for(var It=Object.getOwnPropertyNames(Ht),Qt=0;Qt<It.length;Qt++){var Bt=It[Qt],xt=Bt.substring(0,5);if(xt==="xaxis"||xt==="yaxis"){var _t=Ht[Bt]._emptyCategories;_t&&_t()}}}else u.supplyDefaultsUpdateCalc(oe.calcdata,Rt);var Nt=[];if(ze&&(oe._transitionData={},u.createTransitionData(oe),Nt.push(ct)),Ht.transition&&!it&&(Ot.anim||St.anim))St.ticks&&Nt.push(w.doTicksRelayout),u.doCalcdata(oe),w.doAutoRangeAndConstraints(oe),Nt.push(function(){return u.transitionFromReact(oe,Ot,St,$e)});else if(Ot.fullReplot||St.layoutReplot||it)oe._fullLayout._skipDefaults=!0,Nt.push(I._doPlot);else{for(var Jt in St.arrays){var rr=St.arrays[Jt];if(rr.length){var lr=n.getComponentMethod(Jt,"drawOne");if(lr!==i.noop)for(var Yt=0;Yt<rr.length;Yt++)lr(oe,rr[Yt]);else{var re=n.getComponentMethod(Jt,"draw");if(re===i.noop)throw new Error("cannot draw components: "+Jt);re(oe)}}}Nt.push(u.previousPromises),Ot.style&&Nt.push(w.doTraceStyle),(Ot.colorbars||St.colorbars)&&Nt.push(w.doColorBars),St.legend&&Nt.push(w.doLegend),St.layoutstyle&&Nt.push(w.layoutStyles),St.axrange&&Ae(Nt),St.ticks&&Nt.push(w.doTicksRelayout),St.modebar&&Nt.push(w.doModeBar),St.camera&&Nt.push(w.doCamera),Nt.push(O)}Nt.push(u.rehover,u.redrag,u.reselect),_e=i.syncOrAsync(Nt,oe),(!_e||!_e.then)&&(_e=Promise.resolve(oe))}return _e.then(function(){return oe.emit("plotly_react",{data:be,layout:De}),oe})}function rt(oe,be,De,Se,ze,_e){var ct=be.length===De.length;if(!ze&&!ct)return{fullReplot:!0,calc:!0};var ot=_.traceFlags();ot.arrays={},ot.nChanges=0,ot.nChangesAnim=0;var $e,Ye;function it(Ht){var Vt=t.getTraceValObject(Ye,Ht);return!Ye._module.animatable&&Vt.anim&&(Vt.anim=!1),Vt}var wt={getValObject:it,flags:ot,immutable:Se,transition:ze,newDataRevision:_e,gd:oe},Rt={};for($e=0;$e<be.length;$e++)if(De[$e]){if(Ye=De[$e]._fullInput,u.hasMakesDataTransform(Ye)&&(Ye=De[$e]),Rt[Ye.uid])continue;Rt[Ye.uid]=1,Dt(be[$e]._fullInput,Ye,[],wt)}return(ot.calc||ot.plot)&&(ot.fullReplot=!0),ze&&ot.nChanges&&ot.nChangesAnim&&(ot.anim=ot.nChanges===ot.nChangesAnim&&ct?"all":"some"),ot}function Mt(oe,be,De,Se,ze){var _e=_.layoutFlags();_e.arrays={},_e.rangesAltered={},_e.nChanges=0,_e.nChangesAnim=0;function ct($e){return t.getLayoutValObject(De,$e)}var ot={getValObject:ct,flags:_e,immutable:Se,transition:ze,gd:oe};return Dt(be,De,[],ot),(_e.plot||_e.calc)&&(_e.layoutReplot=!0),ze&&_e.nChanges&&_e.nChangesAnim&&(_e.anim=_e.nChanges===_e.nChangesAnim?"all":"some"),_e}function Dt(oe,be,De,Se){var ze,_e,ct,ot=Se.getValObject,$e=Se.flags,Ye=Se.immutable,it=Se.inArray,wt=Se.arrayIndex;function Rt(){var q=ze.editType;if(it&&q.indexOf("arraydraw")!==-1){i.pushUnique($e.arrays[it],wt);return}_.update($e,ze),q!=="none"&&$e.nChanges++,Se.transition&&ze.anim&&$e.nChangesAnim++,(ke.test(ct)||ce.test(ct))&&($e.rangesAltered[De[0]]=1),me.test(ct)&&r(be,"_inputDomain").set(null),_e==="datarevision"&&($e.newDataRevision=1)}function Ht(q){return q.valType==="data_array"||q.arrayOk}for(_e in oe){if($e.calc&&!Se.transition)return;var Vt=oe[_e],Ut=be[_e],St=De.concat(_e);if(ct=St.join("."),!(_e.charAt(0)==="_"||typeof Vt=="function"||Vt===Ut)){if((_e==="tick0"||_e==="dtick")&&De[0]!=="geo"){var Gt=be.tickmode;if(Gt==="auto"||Gt==="array"||!Gt)continue}if(!(_e==="range"&&be.autorange)&&!((_e==="zmin"||_e==="zmax")&&be.type==="contourcarpet")&&(ze=ot(St),!!ze&&!(ze._compareAsJSON&&JSON.stringify(Vt)===JSON.stringify(Ut)))){var Ot=ze.valType,It,Qt=Ht(ze),Bt=Array.isArray(Vt),xt=Array.isArray(Ut);if(Bt&&xt){var _t="_input_"+_e,Nt=oe[_t],Jt=be[_t];if(Array.isArray(Nt)&&Nt===Jt)continue}if(Ut===void 0)Qt&&Bt?$e.calc=!0:Rt();else if(ze._isLinkedToArray){var rr=[],lr=!1;it||($e.arrays[_e]=rr);var Yt=Math.min(Vt.length,Ut.length),re=Math.max(Vt.length,Ut.length);if(Yt!==re)if(ze.editType==="arraydraw")lr=!0;else{Rt();continue}for(It=0;It<Yt;It++)Dt(Vt[It],Ut[It],St.concat(It),i.extendFlat({inArray:_e,arrayIndex:It},Se));if(lr)for(It=Yt;It<re;It++)rr.push(It)}else!Ot&&i.isPlainObject(Vt)?Dt(Vt,Ut,St,Se):Qt?Bt&&xt?(Ye&&($e.calc=!0),(Ye||Se.newDataRevision)&&Rt()):Bt!==xt?$e.calc=!0:Rt():Bt&&xt?(Vt.length!==Ut.length||String(Vt)!==String(Ut))&&Rt():Rt()}}}for(_e in be)if(!(_e in oe||_e.charAt(0)==="_"||typeof be[_e]=="function"))if(ze=ot(De.concat(_e)),Ht(ze)&&Array.isArray(be[_e])){$e.calc=!0;return}else Rt()}function kt(oe,be){var De;for(De in oe)if(De.charAt(0)!=="_"){var Se=oe[De],ze=be[De];if(Se!==ze)if(i.isPlainObject(Se)&&i.isPlainObject(ze)){if(kt(Se,ze))return!0}else if(Array.isArray(Se)&&Array.isArray(ze)){if(Se.length!==ze.length)return!0;for(var _e=0;_e<Se.length;_e++)if(Se[_e]!==ze[_e])if(i.isPlainObject(Se[_e])&&i.isPlainObject(ze[_e])){if(kt(Se[_e],ze[_e]))return!0}else return!0}else return!0}}function At(oe,be,De){if(oe=i.getGraphDiv(oe),!i.isPlotDiv(oe))throw new Error("This element is not a Plotly plot: "+oe+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Se=oe._transitionData;Se._frameQueue||(Se._frameQueue=[]),De=u.supplyAnimationDefaults(De);var ze=De.transition,_e=De.frame;Se._frameWaitingCnt===void 0&&(Se._frameWaitingCnt=0);function ct(Ye){return Array.isArray(ze)?Ye>=ze.length?ze[0]:ze[Ye]:ze}function ot(Ye){return Array.isArray(_e)?Ye>=_e.length?_e[0]:_e[Ye]:_e}function $e(Ye,it){var wt=0;return function(){if(Ye&&++wt===it)return Ye()}}return new Promise(function(Ye,it){function wt(){if(Se._frameQueue.length!==0){for(;Se._frameQueue.length;){var Yt=Se._frameQueue.pop();Yt.onInterrupt&&Yt.onInterrupt()}oe.emit("plotly_animationinterrupted",[])}}function Rt(Yt){if(Yt.length!==0){for(var re=0;re<Yt.length;re++){var q;Yt[re].type==="byname"?q=u.computeFrame(oe,Yt[re].name):q=Yt[re].data;var He=ot(re),Ie=ct(re);Ie.duration=Math.min(Ie.duration,He.duration);var Ue={frame:q,name:Yt[re].name,frameOpts:He,transitionOpts:Ie};re===Yt.length-1&&(Ue.onComplete=$e(Ye,2),Ue.onInterrupt=it),Se._frameQueue.push(Ue)}De.mode==="immediate"&&(Se._lastFrameAt=-1/0),Se._animationRaf||Ut()}}function Ht(){oe.emit("plotly_animated"),window.cancelAnimationFrame(Se._animationRaf),Se._animationRaf=null}function Vt(){Se._currentFrame&&Se._currentFrame.onComplete&&Se._currentFrame.onComplete();var Yt=Se._currentFrame=Se._frameQueue.shift();if(Yt){var re=Yt.name?Yt.name.toString():null;oe._fullLayout._currentFrame=re,Se._lastFrameAt=Date.now(),Se._timeToNext=Yt.frameOpts.duration,u.transition(oe,Yt.frame.data,Yt.frame.layout,b.coerceTraceIndices(oe,Yt.frame.traces),Yt.frameOpts,Yt.transitionOpts).then(function(){Yt.onComplete&&Yt.onComplete()}),oe.emit("plotly_animatingframe",{name:re,frame:Yt.frame,animation:{frame:Yt.frameOpts,transition:Yt.transitionOpts}})}else Ht()}function Ut(){oe.emit("plotly_animating"),Se._lastFrameAt=-1/0,Se._timeToNext=0,Se._runningTransitions=0,Se._currentFrame=null;var Yt=function(){Se._animationRaf=window.requestAnimationFrame(Yt),Date.now()-Se._lastFrameAt>Se._timeToNext&&Vt()};Yt()}var St=0;function Gt(Yt){return Array.isArray(ze)?St>=ze.length?Yt.transitionOpts=ze[St]:Yt.transitionOpts=ze[0]:Yt.transitionOpts=ze,St++,Yt}var Ot,It,Qt=[],Bt=be==null,xt=Array.isArray(be),_t=!Bt&&!xt&&i.isPlainObject(be);if(_t)Qt.push({type:"object",data:Gt(i.extendFlat({},be))});else if(Bt||["string","number"].indexOf(typeof be)!==-1)for(Ot=0;Ot<Se._frames.length;Ot++)It=Se._frames[Ot],It&&(Bt||String(It.group)===String(be))&&Qt.push({type:"byname",name:String(It.name),data:Gt({name:It.name})});else if(xt)for(Ot=0;Ot<be.length;Ot++){var Nt=be[Ot];["number","string"].indexOf(typeof Nt)!==-1?(Nt=String(Nt),Qt.push({type:"byname",name:Nt,data:Gt({name:Nt})})):i.isPlainObject(Nt)&&Qt.push({type:"object",data:Gt(i.extendFlat({},Nt))})}for(Ot=0;Ot<Qt.length;Ot++)if(It=Qt[Ot],It.type==="byname"&&!Se._frameHash[It.data.name]){i.warn('animate failure: frame not found: "'+It.data.name+'"'),it();return}["next","immediate"].indexOf(De.mode)!==-1&&wt(),De.direction==="reverse"&&Qt.reverse();var Jt=oe._fullLayout._currentFrame;if(Jt&&De.fromcurrent){var rr=-1;for(Ot=0;Ot<Qt.length;Ot++)if(It=Qt[Ot],It.type==="byname"&&It.name===Jt){rr=Ot;break}if(rr>0&&rr<Qt.length-1){var lr=[];for(Ot=0;Ot<Qt.length;Ot++)It=Qt[Ot],(Qt[Ot].type!=="byname"||Ot>rr)&&lr.push(It);Qt=lr}}Qt.length>0?Rt(Qt):(oe.emit("plotly_animated"),Ye())})}function Le(oe,be,De){if(oe=i.getGraphDiv(oe),be==null)return Promise.resolve();if(!i.isPlotDiv(oe))throw new Error("This element is not a Plotly plot: "+oe+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Se,ze,_e,ct,ot=oe._transitionData._frames,$e=oe._transitionData._frameHash;if(!Array.isArray(be))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+be);var Ye=ot.length+be.length*2,it=[],wt={};for(Se=be.length-1;Se>=0;Se--)if(i.isPlainObject(be[Se])){var Rt=be[Se].name,Ht=($e[Rt]||wt[Rt]||{}).name,Vt=be[Se].name,Ut=$e[Ht]||wt[Ht];Ht&&Vt&&typeof Vt=="number"&&Ut&&B<U&&(B++,i.warn('addFrames: overwriting frame "'+($e[Ht]||wt[Ht]).name+'" with a frame whose name of type "number" also equates to "'+Ht+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),B===U&&i.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),wt[Rt]={name:Rt},it.push({frame:u.supplyFrameDefaults(be[Se]),index:De&&De[Se]!==void 0&&De[Se]!==null?De[Se]:Ye+Se})}it.sort(function(_t,Nt){return _t.index>Nt.index?-1:_t.index<Nt.index?1:0});var St=[],Gt=[],Ot=ot.length;for(Se=it.length-1;Se>=0;Se--){if(ze=it[Se].frame,typeof ze.name=="number"&&i.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!ze.name)for(;$e[ze.name="frame "+oe._transitionData._counter++];);if($e[ze.name]){for(_e=0;_e<ot.length&&(ot[_e]||{}).name!==ze.name;_e++);St.push({type:"replace",index:_e,value:ze}),Gt.unshift({type:"replace",index:_e,value:ot[_e]})}else ct=Math.max(0,Math.min(it[Se].index,Ot)),St.push({type:"insert",index:ct,value:ze}),Gt.unshift({type:"delete",index:ct}),Ot++}var It=u.modifyFrames,Qt=u.modifyFrames,Bt=[oe,Gt],xt=[oe,St];return l&&l.add(oe,It,Bt,Qt,xt),u.modifyFrames(oe,St)}function Te(oe,be){if(oe=i.getGraphDiv(oe),!i.isPlotDiv(oe))throw new Error("This element is not a Plotly plot: "+oe);var De,Se,ze=oe._transitionData._frames,_e=[],ct=[];if(!be)for(be=[],De=0;De<ze.length;De++)be.push(De);for(be=be.slice(),be.sort(),De=be.length-1;De>=0;De--)Se=be[De],_e.push({type:"delete",index:Se}),ct.unshift({type:"insert",index:Se,value:ze[Se]});var ot=u.modifyFrames,$e=u.modifyFrames,Ye=[oe,ct],it=[oe,_e];return l&&l.add(oe,ot,Ye,$e,it),u.modifyFrames(oe,_e)}function Pe(oe){oe=i.getGraphDiv(oe);var be=oe._fullLayout||{},De=oe._fullData||[];return u.cleanPlot([],{},De,be),u.purge(oe),f.purge(oe),be._container&&be._container.remove(),delete oe._context,oe}function Ce(oe){var be=oe._fullLayout,De=oe.getBoundingClientRect();if(!i.equalDomRects(De,be._lastBBox)){var Se=be._invTransform=i.inverseTransformMatrix(i.getFullTransformMatrix(oe));be._invScaleX=Math.sqrt(Se[0][0]*Se[0][0]+Se[0][1]*Se[0][1]+Se[0][2]*Se[0][2]),be._invScaleY=Math.sqrt(Se[1][0]*Se[1][0]+Se[1][1]*Se[1][1]+Se[1][2]*Se[1][2]),be._lastBBox=De}}function Oe(oe){var be=o.select(oe),De=oe._fullLayout;if(De._calcInverseTransform=Ce,De._calcInverseTransform(oe),De._container=be.selectAll(".plot-container").data([0]),De._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),De._paperdiv=De._container.selectAll(".svg-container").data([0]),De._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),De._glcontainer=De._paperdiv.selectAll(".gl-container").data([{}]),De._glcontainer.enter().append("div").classed("gl-container",!0),De._paperdiv.selectAll(".main-svg").remove(),De._paperdiv.select(".modebar-container").remove(),De._paper=De._paperdiv.insert("svg",":first-child").classed("main-svg",!0),De._toppaper=De._paperdiv.append("svg").classed("main-svg",!0),De._modebardiv=De._paperdiv.append("div"),delete De._modeBar,De._hoverpaper=De._paperdiv.append("svg").classed("main-svg",!0),!De._uid){var Se={};o.selectAll("defs").each(function(){this.id&&(Se[this.id.split("-")[1]]=1)}),De._uid=i.randstr(Se)}De._paperdiv.selectAll(".main-svg").attr(M.svgAttrs),De._defs=De._paper.append("defs").attr("id","defs-"+De._uid),De._clips=De._defs.append("g").classed("clips",!0),De._topdefs=De._toppaper.append("defs").attr("id","topdefs-"+De._uid),De._topclips=De._topdefs.append("g").classed("clips",!0),De._bgLayer=De._paper.append("g").classed("bglayer",!0),De._draggers=De._paper.append("g").classed("draglayer",!0);var ze=De._paper.append("g").classed("layer-below",!0);De._imageLowerLayer=ze.append("g").classed("imagelayer",!0),De._shapeLowerLayer=ze.append("g").classed("shapelayer",!0),De._cartesianlayer=De._paper.append("g").classed("cartesianlayer",!0),De._polarlayer=De._paper.append("g").classed("polarlayer",!0),De._smithlayer=De._paper.append("g").classed("smithlayer",!0),De._ternarylayer=De._paper.append("g").classed("ternarylayer",!0),De._geolayer=De._paper.append("g").classed("geolayer",!0),De._funnelarealayer=De._paper.append("g").classed("funnelarealayer",!0),De._pielayer=De._paper.append("g").classed("pielayer",!0),De._iciclelayer=De._paper.append("g").classed("iciclelayer",!0),De._treemaplayer=De._paper.append("g").classed("treemaplayer",!0),De._sunburstlayer=De._paper.append("g").classed("sunburstlayer",!0),De._indicatorlayer=De._toppaper.append("g").classed("indicatorlayer",!0),De._glimages=De._paper.append("g").classed("glimages",!0);var _e=De._toppaper.append("g").classed("layer-above",!0);De._imageUpperLayer=_e.append("g").classed("imagelayer",!0),De._shapeUpperLayer=_e.append("g").classed("shapelayer",!0),De._selectionLayer=De._toppaper.append("g").classed("selectionlayer",!0),De._infolayer=De._toppaper.append("g").classed("infolayer",!0),De._menulayer=De._toppaper.append("g").classed("menulayer",!0),De._zoomlayer=De._toppaper.append("g").classed("zoomlayer",!0),De._hoverlayer=De._hoverpaper.append("g").classed("hoverlayer",!0),De._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),oe.emit("plotly_framework")}I.animate=At,I.addFrames=Le,I.deleteFrames=Te,I.addTraces=H,I.deleteTraces=Y,I.extendTraces=le,I.moveTraces=S,I.prependTraces=ve,I.newPlot=F,I._doPlot=L,I.purge=Pe,I.react=Ct,I.redraw=N,I.relayout=ue,I.restyle=E,I.setPlotConfig=R,I.update=we,I._guiRelayout=xe(ue),I._guiRestyle=xe(E),I._guiUpdate=xe(we),I._storeDirectGUIEdit=P},2075:function(te){var I={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function o(g,s){for(var i in g){var r=g[i];r.valType?s[i]=r.dflt:(s[i]||(s[i]={}),o(r,s[i]))}}o(I,e),te.exports={configAttributes:I,dfltConfig:e}},6281:function(te,I,e){var o=e(3972),g=e(1828),s=e(9012),i=e(820),r=e(1391),f=e(5594),l=e(2075).configAttributes,n=e(962),t=g.extendDeepAll,u=g.isPlainObject,h=g.isArrayOrTypedArray,m=g.nestedProperty,y=g.valObjectMeta,d="_isSubplotObj",T="_isLinkedToArray",x="_arrayAttrRegexps",M="_deprecated",c=[d,T,x,M];I.IS_SUBPLOT_OBJ=d,I.IS_LINKED_TO_ARRAY=T,I.DEPRECATED=M,I.UNDERSCORE_ATTRS=c,I.get=function(){var ie={};o.allTypes.forEach(function(F){ie[F]=w(F)});var N={};return Object.keys(o.transformsRegistry).forEach(function(F){N[F]=D(F)}),{defs:{valObjects:y,metaKeys:c.concat(["description","role","editType","impliedEdits"]),editType:{traces:n.traces,layout:n.layout},impliedEdits:{}},traces:ie,layout:_(),transforms:N,frames:B(),animation:U(f),config:U(l)}},I.crawl=function(ie,N,F,G){var W=F||0;G=G||"",Object.keys(ie).forEach(function(X){var J=ie[X];if(c.indexOf(X)===-1){var ne=(G?G+".":"")+X;N(J,X,ie,W,ne),!I.isValObject(J)&&u(J)&&X!=="impliedEdits"&&I.crawl(J,N,W+1,ne)}})},I.isValObject=function(ie){return ie&&ie.valType!==void 0},I.findArrayAttributes=function(ie){var N=[],F=[],G=[],W,X;function J(ve,H,Y,S){F=F.slice(0,S).concat([H]),G=G.slice(0,S).concat([ve&&ve._isLinkedToArray]);var E=ve&&(ve.valType==="data_array"||ve.arrayOk===!0)&&!(F[S-1]==="colorbar"&&(H==="ticktext"||H==="tickvals"));E&&ne(W,0,"")}function ne(ve,H,Y){var S=ve[F[H]],E=Y+F[H];if(H===F.length-1)h(S)&&N.push(X+E);else if(G[H]){if(Array.isArray(S))for(var z=0;z<S.length;z++)u(S[z])&&ne(S[z],H+1,E+"["+z+"].")}else u(S)&&ne(S,H+1,E+".")}W=ie,X="",I.crawl(s,J),ie._module&&ie._module.attributes&&I.crawl(ie._module.attributes,J);var fe=ie.transforms;if(fe)for(var ye=0;ye<fe.length;ye++){var Me=fe[ye],le=Me._module;le&&(X="transforms["+ye+"].",W=Me,I.crawl(le.attributes,J))}return N},I.getTraceValObject=function(ie,N){var F=N[0],G=1,W,X;if(F==="transforms"){if(N.length===1)return s.transforms;var J=ie.transforms;if(!Array.isArray(J)||!J.length)return!1;var ne=N[1];if(!b(ne)||ne>=J.length)return!1;W=(o.transformsRegistry[J[ne].type]||{}).attributes,X=W&&W[N[2]],G=3}else{var fe=ie._module;if(fe||(fe=(o.modules[ie.type||s.type.dflt]||{})._module),!fe)return!1;if(W=fe.attributes,X=W&&W[F],!X){var ye=fe.basePlotModule;ye&&ye.attributes&&(X=ye.attributes[F])}X||(X=s[F])}return v(X,N,G)},I.getLayoutValObject=function(ie,N){var F=p(ie,N[0]);return v(F,N,1)};function p(ie,N){var F,G,W,X,J=ie._basePlotModules;if(J){var ne;for(F=0;F<J.length;F++){if(W=J[F],W.attrRegex&&W.attrRegex.test(N)){if(W.layoutAttrOverrides)return W.layoutAttrOverrides;!ne&&W.layoutAttributes&&(ne=W.layoutAttributes)}var fe=W.baseLayoutAttrOverrides;if(fe&&N in fe)return fe[N]}if(ne)return ne}var ye=ie._modules;if(ye){for(F=0;F<ye.length;F++)if(X=ye[F].layoutAttributes,X&&N in X)return X[N]}for(G in o.componentsRegistry){if(W=o.componentsRegistry[G],W.name==="colorscale"&&N.indexOf("coloraxis")===0)return W.layoutAttributes[N];if(!W.schema&&N===W.name)return W.layoutAttributes}return N in i?i[N]:!1}function v(ie,N,F){if(!ie)return!1;if(ie._isLinkedToArray){if(b(N[F]))F++;else if(F<N.length)return!1}for(;F<N.length;F++){var G=ie[N[F]];if(u(G))ie=G;else break;if(F===N.length-1)break;if(ie._isLinkedToArray){if(F++,!b(N[F]))return!1}else if(ie.valType==="info_array"){F++;var W=N[F];if(!b(W))return!1;var X=ie.items;if(Array.isArray(X)){if(W>=X.length)return!1;if(ie.dimensions===2){if(F++,N.length===F)return ie;var J=N[F];if(!b(J))return!1;ie=X[W][J]}else ie=X[W]}else ie=X}}return ie}function b(ie){return ie===Math.round(ie)&&ie>=0}function w(ie){var N,F;N=o.modules[ie]._module,F=N.basePlotModule;var G={};G.type=null;var W=t({},s),X=t({},N.attributes);I.crawl(X,function(fe,ye,Me,le,ve){m(W,ve).set(void 0),fe===void 0&&m(X,ve).set(void 0)}),t(G,W),o.traceIs(ie,"noOpacity")&&delete G.opacity,o.traceIs(ie,"showLegend")||(delete G.showlegend,delete G.legendgroup),o.traceIs(ie,"noHover")&&(delete G.hoverinfo,delete G.hoverlabel),N.selectPoints||delete G.selectedpoints,t(G,X),F.attributes&&t(G,F.attributes),G.type=ie;var J={meta:N.meta||{},categories:N.categories||{},animatable:!!N.animatable,type:ie,attributes:U(G)};if(N.layoutAttributes){var ne={};t(ne,N.layoutAttributes),J.layoutAttributes=U(ne)}return N.animatable||I.crawl(J,function(fe){I.isValObject(fe)&&"anim"in fe&&delete fe.anim}),J}function _(){var ie={},N,F;t(ie,i);for(N in o.subplotsRegistry)if(F=o.subplotsRegistry[N],!!F.layoutAttributes)if(Array.isArray(F.attr))for(var G=0;G<F.attr.length;G++)Z(ie,F,F.attr[G]);else{var W=F.attr==="subplot"?F.name:F.attr;Z(ie,F,W)}for(N in o.componentsRegistry){F=o.componentsRegistry[N];var X=F.schema;if(X&&(X.subplots||X.layout)){var J=X.subplots;if(J&&J.xaxis&&!J.yaxis)for(var ne in J.xaxis)delete ie.yaxis[ne];delete ie.xaxis.shift,delete ie.xaxis.autoshift}else F.name==="colorscale"?t(ie,F.layoutAttributes):F.layoutAttributes&&$(ie,F.layoutAttributes,F.name)}return{layoutAttributes:U(ie)}}function D(ie){var N=o.transformsRegistry[ie],F=t({},N.attributes);return Object.keys(o.componentsRegistry).forEach(function(G){var W=o.componentsRegistry[G];W.schema&&W.schema.transforms&&W.schema.transforms[ie]&&Object.keys(W.schema.transforms[ie]).forEach(function(X){$(F,W.schema.transforms[ie][X],X)})}),{attributes:U(F)}}function B(){var ie={frames:t({},r)};return U(ie),ie.frames}function U(ie){return L(ie),O(ie),R(ie),ie}function L(ie){function N(G){return{valType:"string",editType:"none"}}function F(G,W,X){I.isValObject(G)?(G.arrayOk===!0||G.valType==="data_array")&&(X[W+"src"]=N()):u(G)&&(G.role="object")}I.crawl(ie,F)}function O(ie){function N(F,G,W){if(F){var X=F[T];X&&(delete F[T],W[G]={items:{}},W[G].items[X]=F,W[G].role="object")}}I.crawl(ie,N)}function R(ie){function N(F){for(var G in F)if(u(F[G]))N(F[G]);else if(Array.isArray(F[G]))for(var W=0;W<F[G].length;W++)N(F[G][W]);else F[G]instanceof RegExp&&(F[G]=F[G].toString())}N(ie)}function Z(ie,N,F){var G=m(ie,F),W=t({},N.layoutAttributes);W[d]=!0,G.set(W)}function $(ie,N,F){var G=m(ie,F);G.set(t(G.get()||{},N))}},4467:function(te,I,e){var o=e(1828),g=e(9012),s="templateitemname",i={name:{valType:"string",editType:"none"}};i[s]={valType:"string",editType:"calc"},I.templatedArray=function(l,n){return n._isLinkedToArray=l,n.name=i.name,n[s]=i[s],n},I.traceTemplater=function(l){var n={},t,u;for(t in l)u=l[t],Array.isArray(u)&&u.length&&(n[t]=0);function h(m){t=o.coerce(m,{},g,"type");var y={type:t,_template:null};if(t in n){u=l[t];var d=n[t]%u.length;n[t]++,y._template=u[d]}return y}return{newTrace:h}},I.newContainer=function(l,n,t){var u=l._template,h=u&&(u[n]||t&&u[t]);o.isPlainObject(h)||(h=null);var m=l[n]={_template:h};return m},I.arrayTemplater=function(l,n,t){var u=l._template,h=u&&u[f(n)],m=u&&u[n];(!Array.isArray(m)||!m.length)&&(m=[]);var y={};function d(x){var M={name:x.name,_input:x},c=M[s]=x[s];if(!r(c))return M._template=h,M;for(var p=0;p<m.length;p++){var v=m[p];if(v.name===c)return y[c]=1,M._template=v,M}return M[t]=x[t]||!1,M._template=!1,M}function T(){for(var x=[],M=0;M<m.length;M++){var c=m[M],p=c.name;if(r(p)&&!y[p]){var v={_template:c,name:p,_input:{_templateitemname:p}};v[s]=c[s],x.push(v),y[p]=1}}return x}return{newItem:d,defaultItems:T}};function r(l){return l&&typeof l=="string"}function f(l){var n=l.length-1;return l.charAt(n)!=="s"&&o.warn("bad argument to arrayDefaultKey: "+l),l.substr(0,l.length-1)+"defaults"}I.arrayDefaultKey=f,I.arrayEditor=function(l,n,t){var u=(o.nestedProperty(l,n).get()||[]).length,h=t._index,m=h>=u&&(t._input||{})._templateitemname;m&&(h=u);var y=n+"["+h+"]",d;function T(){d={},m&&(d[y]={},d[y][s]=m)}T();function x(v,b){d[v]=b}function M(v,b){m?o.nestedProperty(d[y],v).set(b):d[y+"."+v]=b}function c(){var v=d;return T(),v}function p(v,b){v&&M(v,b);var w=c();for(var _ in w)o.nestedProperty(l,_).set(w[_])}return{modifyBase:x,modifyItem:M,getUpdateObj:c,applyUpdate:p}}},1549:function(te,I,e){var o=e(9898),g=e(3972),s=e(4875),i=e(1828),r=e(3893),f=e(3306),l=e(7901),n=e(1424),t=e(2998),u=e(4168),h=e(9298),m=e(8783),y=e(9082),d=y.enforce,T=y.clean,x=e(1739).doAutoRange,M="start",c="middle",p="end";I.layoutStyles=function(F){return i.syncOrAsync([s.doAutoMargin,b],F)};function v(F,G,W){for(var X=0;X<W.length;X++){var J=W[X][0],ne=W[X][1];if(!(J[0]>=F[1]||J[1]<=F[0])&&ne[0]<G[1]&&ne[1]>G[0])return!0}return!1}function b(F){var G=F._fullLayout,W=G._size,X=W.p,J=h.list(F,"",!0),ne,fe,ye,Me,le,ve;if(G._paperdiv.style({width:F._context.responsive&&G.autosize&&!F._context._hasZeroWidth&&!F.layout.width?"100%":G.width+"px",height:F._context.responsive&&G.autosize&&!F._context._hasZeroHeight&&!F.layout.height?"100%":G.height+"px"}).selectAll(".main-svg").call(n.setSize,G.width,G.height),F._context.setBackground(F,G.paper_bgcolor),I.drawMainTitle(F),u.manage(F),!G._has("cartesian"))return s.previousPromises(F);function H(Pe,Ce,Oe){var oe=Pe._lw/2;if(Pe._id.charAt(0)==="x"){if(Ce){if(Oe==="top")return Ce._offset-X-oe}else return W.t+W.h*(1-(Pe.position||0))+oe%1;return Ce._offset+Ce._length+X+oe}if(Ce){if(Oe==="right")return Ce._offset+Ce._length+X+oe}else return W.l+W.w*(Pe.position||0)+oe%1;return Ce._offset-X-oe}for(ne=0;ne<J.length;ne++){Me=J[ne];var Y=Me._anchorAxis;Me._linepositions={},Me._lw=n.crispRound(F,Me.linewidth,1),Me._mainLinePosition=H(Me,Y,Me.side),Me._mainMirrorPosition=Me.mirror&&Y?H(Me,Y,m.OPPOSITE_SIDE[Me.side]):null}var S=[],E=[],z=[],C=l.opacity(G.paper_bgcolor)===1&&l.opacity(G.plot_bgcolor)===1&&G.paper_bgcolor===G.plot_bgcolor;for(fe in G._plots)if(ye=G._plots[fe],ye.mainplot)ye.bg&&ye.bg.remove(),ye.bg=void 0;else{var K=ye.xaxis.domain,P=ye.yaxis.domain,j=ye.plotgroup;if(v(K,P,z)){var ae=j.node(),ue=ye.bg=i.ensureSingle(j,"rect","bg");ae.insertBefore(ue.node(),ae.childNodes[0]),E.push(fe)}else j.select("rect.bg").remove(),z.push([K,P]),C||(S.push(fe),E.push(fe))}var he=G._bgLayer.selectAll(".bg").data(S);for(he.enter().append("rect").classed("bg",!0),he.exit().remove(),he.each(function(Pe){G._plots[Pe].bg=o.select(this)}),ne=0;ne<E.length;ne++)ye=G._plots[E[ne]],le=ye.xaxis,ve=ye.yaxis,ye.bg&&le._offset!==void 0&&ve._offset!==void 0&&ye.bg.call(n.setRect,le._offset-X,ve._offset-X,le._length+2*X,ve._length+2*X).call(l.fill,G.plot_bgcolor).style("stroke-width",0);if(!G._hasOnlyLargeSploms)for(fe in G._plots){ye=G._plots[fe],le=ye.xaxis,ve=ye.yaxis;var Ae=ye.clipId="clip"+G._uid+fe+"plot",ke=i.ensureSingleById(G._clips,"clipPath",Ae,function(Pe){Pe.classed("plotclip",!0).append("rect")});ye.clipRect=ke.select("rect").attr({width:le._length,height:ve._length}),n.setTranslate(ye.plot,le._offset,ve._offset);var ce,me;ye._hasClipOnAxisFalse?(ce=null,me=Ae):(ce=Ae,me=null),n.setClipUrl(ye.plot,ce,F),ye.layerClipId=me}var pe,Ee,we,xe,Fe,Ke,je,Je,ht,Tt,gt,tt,Ct;function rt(Pe){return"M"+pe+","+Pe+"H"+Ee}function Mt(Pe){return"M"+le._offset+","+Pe+"h"+le._length}function Dt(Pe){return"M"+Pe+","+Je+"V"+je}function kt(Pe){return ve._shift!==void 0&&(Pe+=ve._shift),"M"+Pe+","+ve._offset+"v"+ve._length}function At(Pe,Ce,Oe){if(!Pe.showline||fe!==Pe._mainSubplot)return"";if(!Pe._anchorAxis)return Oe(Pe._mainLinePosition);var oe=Ce(Pe._mainLinePosition);return Pe.mirror&&(oe+=Ce(Pe._mainMirrorPosition)),oe}for(fe in G._plots){ye=G._plots[fe],le=ye.xaxis,ve=ye.yaxis;var Le="M0,0";w(le,fe)&&(Fe=D(le,"left",ve,J),pe=le._offset-(Fe?X+Fe:0),Ke=D(le,"right",ve,J),Ee=le._offset+le._length+(Ke?X+Ke:0),we=H(le,ve,"bottom"),xe=H(le,ve,"top"),Ct=!le._anchorAxis||fe!==le._mainSubplot,Ct&&(le.mirror==="allticks"||le.mirror==="all")&&(le._linepositions[fe]=[we,xe]),Le=At(le,rt,Mt),Ct&&le.showline&&(le.mirror==="all"||le.mirror==="allticks")&&(Le+=rt(we)+rt(xe)),ye.xlines.style("stroke-width",le._lw+"px").call(l.stroke,le.showline?le.linecolor:"rgba(0,0,0,0)")),ye.xlines.attr("d",Le);var Te="M0,0";w(ve,fe)&&(gt=D(ve,"bottom",le,J),je=ve._offset+ve._length+(gt?X:0),tt=D(ve,"top",le,J),Je=ve._offset-(tt?X:0),ht=H(ve,le,"left"),Tt=H(ve,le,"right"),Ct=!ve._anchorAxis||fe!==ve._mainSubplot,Ct&&(ve.mirror==="allticks"||ve.mirror==="all")&&(ve._linepositions[fe]=[ht,Tt]),Te=At(ve,Dt,kt),Ct&&ve.showline&&(ve.mirror==="all"||ve.mirror==="allticks")&&(Te+=Dt(ht)+Dt(Tt)),ye.ylines.style("stroke-width",ve._lw+"px").call(l.stroke,ve.showline?ve.linecolor:"rgba(0,0,0,0)")),ye.ylines.attr("d",Te)}return h.makeClipPaths(F),s.previousPromises(F)}function w(F,G){return(F.ticks||F.showline)&&(G===F._mainSubplot||F.mirror==="all"||F.mirror==="allticks")}function _(F,G,W){if(!W.showline||!W._lw)return!1;if(W.mirror==="all"||W.mirror==="allticks")return!0;var X=W._anchorAxis;if(!X)return!1;var J=m.FROM_BL[G];return W.side===G?X.domain[J]===F.domain[J]:W.mirror&&X.domain[1-J]===F.domain[1-J]}function D(F,G,W,X){if(_(F,G,W))return W._lw;for(var J=0;J<X.length;J++){var ne=X[J];if(ne._mainAxis===W._mainAxis&&_(F,G,ne))return ne._lw}return 0}I.drawMainTitle=function(F){var G=F._fullLayout.title,W=F._fullLayout,X=ie(W),J=N(W),ne=Z(W,J),fe=R(W,X);if(t.draw(F,"gtitle",{propContainer:W,propName:"title.text",placeholder:W._dfltTitle.plot,attributes:{x:fe,y:ne,"text-anchor":X,dy:J}}),G.text&&G.automargin){var ye=o.selectAll(".gtitle"),Me=n.bBox(ye.node()).height,le=L(F,G,Me);if(le>0){O(F,ne,le,Me),ye.attr({x:fe,y:ne,"text-anchor":X,dy:$(G.yanchor)}).call(r.positionText,fe,ne);var ve=(G.text.match(r.BR_TAG_ALL)||[]).length;if(ve){var H=m.LINE_SPACING*ve+m.MID_SHIFT;G.y===0&&(H=-H),ye.selectAll(".line").each(function(){var Y=+this.getAttribute("dy").slice(0,-2)-H+"em";this.setAttribute("dy",Y)})}}}};function B(F,G,W,X,J){var ne=G.yref==="paper"?F._fullLayout._size.h:F._fullLayout.height,fe=i.isTopAnchor(G)?X:X-J,ye=W==="b"?ne-fe:fe;return i.isTopAnchor(G)&&W==="t"||i.isBottomAnchor(G)&&W==="b"?!1:ye<J}function U(F,G,W,X,J){var ne=0;return W==="middle"&&(ne+=J/2),F==="t"?(W==="top"&&(ne+=J),ne+=X-G*X):(W==="bottom"&&(ne+=J),ne+=G*X),ne}function L(F,G,W){var X=G.y,J=G.yanchor,ne=X>.5?"t":"b",fe=F._fullLayout.margin[ne],ye=0;return G.yref==="paper"?ye=W+G.pad.t+G.pad.b:G.yref==="container"&&(ye=U(ne,X,J,F._fullLayout.height,W)+G.pad.t+G.pad.b),ye>fe?ye:0}function O(F,G,W,X){var J="title.automargin",ne=F._fullLayout.title,fe=ne.y>.5?"t":"b",ye={x:ne.x,y:ne.y,t:0,b:0},Me={};ne.yref==="paper"&&B(F,ne,fe,G,X)?ye[fe]=W:ne.yref==="container"&&(Me[fe]=W,F._fullLayout._reservedMargin[J]=Me),s.allowAutoMargin(F,J),s.autoMargin(F,J,ye)}function R(F,G){var W=F.title,X=F._size,J=0;switch(G===M?J=W.pad.l:G===p&&(J=-W.pad.r),W.xref){case"paper":return X.l+X.w*W.x+J;case"container":default:return F.width*W.x+J}}function Z(F,G){var W=F.title,X=F._size,J=0;if(G==="0em"||!G?J=-W.pad.b:G===m.CAP_SHIFT+"em"&&(J=W.pad.t),W.y==="auto")return X.t/2;switch(W.yref){case"paper":return X.t+X.h-X.h*W.y+J;case"container":default:return F.height-F.height*W.y+J}}function $(F){return F==="top"?m.CAP_SHIFT+.3+"em":F==="bottom"?"-0.3em":m.MID_SHIFT+"em"}function ie(F){var G=F.title,W=c;return i.isRightAnchor(G)?W=p:i.isLeftAnchor(G)&&(W=M),W}function N(F){var G=F.title,W="0em";return i.isTopAnchor(G)?W=m.CAP_SHIFT+"em":i.isMiddleAnchor(G)&&(W=m.MID_SHIFT+"em"),W}I.doTraceStyle=function(F){var G=F.calcdata,W=[],X;for(X=0;X<G.length;X++){var J=G[X],ne=J[0]||{},fe=ne.trace||{},ye=fe._module||{},Me=ye.arraysToCalcdata;Me&&Me(J,fe);var le=ye.editStyle;le&&W.push({fn:le,cd0:ne})}if(W.length){for(X=0;X<W.length;X++){var ve=W[X];ve.fn(F,ve.cd0)}f(F),I.redrawReglTraces(F)}return s.style(F),g.getComponentMethod("legend","draw")(F),s.previousPromises(F)},I.doColorBars=function(F){return g.getComponentMethod("colorbar","draw")(F),s.previousPromises(F)},I.layoutReplot=function(F){var G=F.layout;return F.layout=void 0,g.call("_doPlot",F,"",G)},I.doLegend=function(F){return g.getComponentMethod("legend","draw")(F),s.previousPromises(F)},I.doTicksRelayout=function(F){return h.draw(F,"redraw"),F._fullLayout._hasOnlyLargeSploms&&(g.subplotsRegistry.splom.updateGrid(F),f(F),I.redrawReglTraces(F)),I.drawMainTitle(F),s.previousPromises(F)},I.doModeBar=function(F){var G=F._fullLayout;u.manage(F);for(var W=0;W<G._basePlotModules.length;W++){var X=G._basePlotModules[W].updateFx;X&&X(F)}return s.previousPromises(F)},I.doCamera=function(F){for(var G=F._fullLayout,W=G._subplots.gl3d,X=0;X<W.length;X++){var J=G[W[X]],ne=J._scene;ne.setViewport(J)}},I.drawData=function(F){var G=F._fullLayout;f(F);for(var W=G._basePlotModules,X=0;X<W.length;X++)W[X].plot(F);return I.redrawReglTraces(F),s.style(F),g.getComponentMethod("selections","draw")(F),g.getComponentMethod("shapes","draw")(F),g.getComponentMethod("annotations","draw")(F),g.getComponentMethod("images","draw")(F),G._replotting=!1,s.previousPromises(F)},I.redrawReglTraces=function(F){var G=F._fullLayout;if(G._has("regl")){var W=F._fullData,X=[],J=[],ne,fe;for(G._hasOnlyLargeSploms&&G._splomGrid.draw(),ne=0;ne<W.length;ne++){var ye=W[ne];ye.visible===!0&&ye._length!==0&&(ye.type==="splom"?G._splomScenes[ye.uid].draw():ye.type==="scattergl"?i.pushUnique(X,ye.xaxis+ye.yaxis):ye.type==="scatterpolargl"&&i.pushUnique(J,ye.subplot))}for(ne=0;ne<X.length;ne++)fe=G._plots[X[ne]],fe._scene&&fe._scene.draw();for(ne=0;ne<J.length;ne++)fe=G[J[ne]]._subplot,fe._scene&&fe._scene.draw()}},I.doAutoRangeAndConstraints=function(F){for(var G=h.list(F,"",!0),W,X={},J=0;J<G.length;J++)if(W=G[J],!X[W._id]){X[W._id]=1,T(F,W),x(F,W);var ne=W._matchGroup;if(ne)for(var fe in ne){var ye=h.getFromId(F,fe);x(F,ye,W.range),X[fe]=1}}d(F)},I.finalDraw=function(F){g.getComponentMethod("rangeslider","draw")(F),g.getComponentMethod("rangeselector","draw")(F)},I.drawMarginPushers=function(F){g.getComponentMethod("legend","draw")(F),g.getComponentMethod("rangeselector","draw")(F),g.getComponentMethod("sliders","draw")(F),g.getComponentMethod("updatemenus","draw")(F),g.getComponentMethod("colorbar","draw")(F)}},6318:function(te,I,e){var o=e(1828),g=o.isPlainObject,s=e(6281),i=e(4875),r=e(9012),f=e(4467),l=e(2075).dfltConfig;I.makeTemplate=function(x){x=o.isPlainObject(x)?x:o.getGraphDiv(x),x=o.extendDeep({_context:l},{data:x.data,layout:x.layout}),i.supplyDefaults(x);var M=x.data||[],c=x.layout||{};c._basePlotModules=x._fullLayout._basePlotModules,c._modules=x._fullLayout._modules;var p={data:{},layout:{}};M.forEach(function(R){var Z={};u(R,Z,m.bind(null,R));var $=o.coerce(R,{},r,"type"),ie=p.data[$];ie||(ie=p.data[$]=[]),ie.push(Z)}),u(c,p.layout,h.bind(null,c)),delete p.layout.template;var v=c.template;if(g(v)){var b=v.layout,w,_,D,B,U,L;g(b)&&n(b,p.layout);var O=v.data;if(g(O)){for(_ in p.data)if(D=O[_],Array.isArray(D)){for(U=p.data[_],L=U.length,B=D.length,w=0;w<L;w++)n(D[w%B],U[w]);for(w=L;w<B;w++)U.push(o.extendDeep({},D[w]))}for(_ in O)_ in p.data||(p.data[_]=o.extendDeep([],O[_]))}}return p};function n(x,M){x=o.extendDeep({},x);var c=Object.keys(x).sort(),p,v;function b(U,L,O){if(g(L)&&g(U))n(U,L);else if(Array.isArray(L)&&Array.isArray(U)){var R=f.arrayTemplater({_template:x},O);for(v=0;v<L.length;v++){var Z=L[v],$=R.newItem(Z)._template;$&&n($,Z)}var ie=R.defaultItems();for(v=0;v<ie.length;v++)L.push(ie[v]._template);for(v=0;v<L.length;v++)delete L[v].templateitemname}}for(p=0;p<c.length;p++){var w=c[p],_=x[w];if(w in M?b(_,M[w],w):M[w]=_,t(w)===w)for(var D in M){var B=t(D);D!==B&&B===w&&!(D in x)&&b(_,M[D],w)}}}function t(x){return x.replace(/[0-9]+$/,"")}function u(x,M,c,p,v){var b=v&&c(v);for(var w in x){var _=x[w],D=y(x,w,p),B=y(x,w,v),U=c(B);if(!U){var L=t(w);L!==w&&(B=y(x,L,v),U=c(B))}if(!(b&&b===U)&&!(!U||U._noTemplating||U.valType==="data_array"||U.arrayOk&&Array.isArray(_)))if(!U.valType&&g(_))u(_,M,c,D,B);else if(U._isLinkedToArray&&Array.isArray(_))for(var O=!1,R=0,Z={},$=0;$<_.length;$++){var ie=_[$];if(g(ie)){var N=ie.name;if(N)Z[N]||(u(ie,M,c,y(_,R,D),y(_,R,B)),R++,Z[N]=1);else if(!O){var F=f.arrayDefaultKey(w),G=y(x,F,p),W=y(_,R,D);u(ie,M,c,W,y(_,R,B));var X=o.nestedProperty(M,W),J=o.nestedProperty(M,G);J.set(X.get()),X.set(null),O=!0}}}else{var ne=o.nestedProperty(M,D);ne.set(_)}}}function h(x,M){return s.getLayoutValObject(x,o.nestedProperty({},M).parts)}function m(x,M){return s.getTraceValObject(x,o.nestedProperty({},M).parts)}function y(x,M,c){var p;return c?Array.isArray(x)?p=c+"["+M+"]":p=c+"."+M:p=M,p}I.validateTemplate=function(x,M){var c=o.extendDeep({},{_context:l,data:x.data,layout:x.layout}),p=c.layout||{};g(M)||(M=p.template||{});var v=M.layout,b=M.data,w=[];c.layout=p,c.layout.template=M,i.supplyDefaults(c);var _=c._fullLayout,D=c._fullData,B={};function U(G,W){for(var X in G)if(X.charAt(0)!=="_"&&g(G[X])){var J=t(X),ne=[],fe;for(fe=0;fe<W.length;fe++)ne.push(y(G,X,W[fe])),J!==X&&ne.push(y(G,J,W[fe]));for(fe=0;fe<ne.length;fe++)B[ne[fe]]=1;U(G[X],ne)}}function L(G,W){for(var X in G)if(X.indexOf("defaults")===-1&&g(G[X])){var J=y(G,X,W);B[J]?L(G[X],J):w.push({code:"unused",path:J})}}if(g(v)?(U(_,["layout"]),L(v,"layout")):w.push({code:"layout"}),!g(b))w.push({code:"data"});else{for(var O={},R,Z=0;Z<D.length;Z++){var $=D[Z];R=$.type,O[R]=(O[R]||0)+1,$._fullInput._template||w.push({code:"missing",index:$._fullInput.index,traceType:R})}for(R in b){var ie=b[R].length,N=O[R]||0;ie>N?w.push({code:"unused",traceType:R,templateCount:ie,dataCount:N}):N>ie&&w.push({code:"reused",traceType:R,templateCount:ie,dataCount:N})}}function F(G,W){for(var X in G)if(X.charAt(0)!=="_"){var J=G[X],ne=y(G,X,W);g(J)?(Array.isArray(G)&&J._template===!1&&J.templateitemname&&w.push({code:"missing",path:ne,templateitemname:J.templateitemname}),F(J,ne)):Array.isArray(J)&&d(J)&&F(J,ne)}}if(F({data:D,layout:_},""),w.length)return w.map(T)};function d(x){for(var M=0;M<x.length;M++)if(g(x[M]))return!0}function T(x){var M;switch(x.code){case"data":M="The template has no key data.";break;case"layout":M="The template has no key layout.";break;case"missing":x.path?M="There are no templates for item "+x.path+" with name "+x.templateitemname:M="There are no templates for trace "+x.index+", of type "+x.traceType+".";break;case"unused":x.path?M="The template item at "+x.path+" was not used in constructing the plot.":x.dataCount?M="Some of the templates of type "+x.traceType+" were not used. The template has "+x.templateCount+" traces, the data only has "+x.dataCount+" of this type.":M="The template has "+x.templateCount+" traces of type "+x.traceType+" but there are none in the data.";break;case"reused":M="Some of the templates of type "+x.traceType+" were used more than once. The template has "+x.templateCount+" traces, the data has "+x.dataCount+" of this type.";break}return x.msg=M,x}},403:function(te,I,e){var o=e(2770),g=e(2391),s=e(4875),i=e(1828),r=e(5095),f=e(5900),l=e(942),n=e(1506).version,t={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function u(h,m){m=m||{};var y,d,T,x;i.isPlainObject(h)?(y=h.data||[],d=h.layout||{},T=h.config||{},x={}):(h=i.getGraphDiv(h),y=i.extendDeep([],h.data),d=i.extendDeep({},h.layout),T=h._context,x=h._fullLayout||{});function M(N){return!(N in m)||i.validate(m[N],t[N])}if(!M("width")&&m.width!==null||!M("height")&&m.height!==null)throw new Error("Height and width should be pixel values.");if(!M("format"))throw new Error("Export format is not "+i.join2(t.format.values,", "," or ")+".");var c={};function p(N,F){return i.coerce(m,c,t,N,F)}var v=p("format"),b=p("width"),w=p("height"),_=p("scale"),D=p("setBackground"),B=p("imageDataOnly"),U=document.createElement("div");U.style.position="absolute",U.style.left="-5000px",document.body.appendChild(U);var L=i.extendFlat({},d);b?L.width=b:m.width===null&&o(x.width)&&(L.width=x.width),w?L.height=w:m.height===null&&o(x.height)&&(L.height=x.height);var O=i.extendFlat({},T,{_exportedPlot:!0,staticPlot:!0,setBackground:D}),R=r.getRedrawFunc(U);function Z(){return new Promise(function(N){setTimeout(N,r.getDelay(U._fullLayout))})}function $(){return new Promise(function(N,F){var G=f(U,v,_),W=U._fullLayout.width,X=U._fullLayout.height;function J(){g.purge(U),document.body.removeChild(U)}if(v==="full-json"){var ne=s.graphJson(U,!1,"keepdata","object",!0,!0);return ne.version=n,ne=JSON.stringify(ne),J(),N(B?ne:r.encodeJSON(ne))}if(J(),v==="svg")return N(B?G:r.encodeSVG(G));var fe=document.createElement("canvas");fe.id=i.randstr(),l({format:v,width:W,height:X,scale:_,canvas:fe,svg:G,promise:!0}).then(N).catch(F)})}function ie(N){return B?N.replace(r.IMAGE_URL_PREFIX,""):N}return new Promise(function(N,F){g.newPlot(U,y,L,O).then(R).then(Z).then($).then(function(G){N(ie(G))}).catch(function(G){F(G)})})}te.exports=u},4936:function(te,I,e){var o=e(1828),g=e(4875),s=e(6281),i=e(2075).dfltConfig,r=o.isPlainObject,f=Array.isArray,l=o.isArrayOrTypedArray;te.exports=function(p,v){p===void 0&&(p=[]),v===void 0&&(v={});var b=s.get(),w=[],_={_context:o.extendFlat({},i)},D,B;f(p)?(_.data=o.extendDeep([],p),D=p):(_.data=[],D=[],w.push(m("array","data"))),r(v)?(_.layout=o.extendDeep({},v),B=v):(_.layout={},B={},arguments.length>1&&w.push(m("object","layout"))),g.supplyDefaults(_);for(var U=_._fullData,L=D.length,O=0;O<L;O++){var R=D[O],Z=["data",O];if(!r(R)){w.push(m("object",Z));continue}var $=U[O],ie=$.type,N=b.traces[ie].attributes;N.type={valType:"enumerated",values:[ie]},$.visible===!1&&R.visible!==!1&&w.push(m("invisible",Z)),n(R,$,N,w,Z);var F=R.transforms,G=$.transforms;if(F){f(F)||w.push(m("array",Z,["transforms"])),Z.push("transforms");for(var W=0;W<F.length;W++){var X=["transforms",W],J=F[W].type;if(!r(F[W])){w.push(m("object",Z,X));continue}var ne=b.transforms[J]?b.transforms[J].attributes:{};ne.type={valType:"enumerated",values:Object.keys(b.transforms)},n(F[W],G[W],ne,w,Z,X)}}}var fe=_._fullLayout,ye=t(b,U);return n(B,fe,ye,w,"layout"),w.length===0?void 0:w};function n(c,p,v,b,w,_){_=_||[];for(var D=Object.keys(c),B=0;B<D.length;B++){var U=D[B];if(U!=="transforms"){var L=_.slice();L.push(U);var O=c[U],R=p[U],Z=d(v,U),$=(Z||{}).valType,ie=$==="info_array",N=$==="colorscale",F=(Z||{}).items;if(!y(v,U))b.push(m("schema",w,L));else if(r(O)&&r(R)&&$!=="any")n(O,R,Z,b,w,L);else if(ie&&f(O)){O.length>R.length&&b.push(m("unused",w,L.concat(R.length)));var G=R.length,W=Array.isArray(F);W&&(G=Math.min(G,F.length));var X,J,ne,fe,ye;if(Z.dimensions===2)for(J=0;J<G;J++)if(f(O[J])){O[J].length>R[J].length&&b.push(m("unused",w,L.concat(J,R[J].length)));var Me=R[J].length;for(X=0;X<(W?Math.min(Me,F[J].length):Me);X++)ne=W?F[J][X]:F,fe=O[J][X],ye=R[J][X],o.validate(fe,ne)?ye!==fe&&ye!==+fe&&b.push(m("dynamic",w,L.concat(J,X),fe,ye)):b.push(m("value",w,L.concat(J,X),fe))}else b.push(m("array",w,L.concat(J),O[J]));else for(J=0;J<G;J++)ne=W?F[J]:F,fe=O[J],ye=R[J],o.validate(fe,ne)?ye!==fe&&ye!==+fe&&b.push(m("dynamic",w,L.concat(J),fe,ye)):b.push(m("value",w,L.concat(J),fe))}else if(Z.items&&!ie&&f(O)){var le=F[Object.keys(F)[0]],ve=[],H,Y;for(H=0;H<R.length;H++){var S=R[H]._index||H;if(Y=L.slice(),Y.push(S),r(O[S])&&r(R[H])){ve.push(S);var E=O[S],z=R[H];r(E)&&E.visible!==!1&&z.visible===!1?b.push(m("invisible",w,Y)):n(E,z,le,b,w,Y)}}for(H=0;H<O.length;H++)Y=L.slice(),Y.push(H),r(O[H])?ve.indexOf(H)===-1&&b.push(m("unused",w,Y)):b.push(m("object",w,Y,O[H]))}else!r(O)&&r(R)?b.push(m("object",w,L,O)):!l(O)&&l(R)&&!ie&&!N?b.push(m("array",w,L,O)):U in p?o.validate(O,Z)?Z.valType==="enumerated"&&(Z.coerceNumber&&O!==+R||O!==R)&&b.push(m("dynamic",w,L,O,R)):b.push(m("value",w,L,O)):b.push(m("unused",w,L,O))}}return b}function t(c,p){for(var v=c.layout.layoutAttributes,b=0;b<p.length;b++){var w=p[b],_=c.traces[w.type],D=_.layoutAttributes;D&&(w.subplot?o.extendFlat(v[_.attributes.subplot.dflt],D):o.extendFlat(v,D))}return v}var u={object:function(c,p){var v;return c==="layout"&&p===""?v="The layout argument":c[0]==="data"&&p===""?v="Trace "+c[1]+" in the data argument":v=h(c)+"key "+p,v+" must be linked to an object container"},array:function(c,p){var v;return c==="data"?v="The data argument":v=h(c)+"key "+p,v+" must be linked to an array container"},schema:function(c,p){return h(c)+"key "+p+" is not part of the schema"},unused:function(c,p,v){var b=r(v)?"container":"key";return h(c)+b+" "+p+" did not get coerced"},dynamic:function(c,p,v,b){return[h(c)+"key",p,"(set to '"+v+"')","got reset to","'"+b+"'","during defaults."].join(" ")},invisible:function(c,p){return(p?h(c)+"item "+p:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,p,v){return[h(c)+"key "+p,"is set to an invalid value ("+v+")"].join(" ")}};function h(c){return f(c)?"In data trace "+c[1]+", ":"In "+c+", "}function m(c,p,v,b,w){v=v||"";var _,D;f(p)?(_=p[0],D=p[1]):(_=p,D=null);var B=M(v),U=u[c](p,B,b,w);return o.log(U),{code:c,container:_,trace:D,path:v,astr:B,msg:U}}function y(c,p){var v=x(p),b=v.keyMinusId,w=v.id;return b in c&&c[b]._isSubplotObj&&w?!0:p in c}function d(c,p){if(p in c)return c[p];var v=x(p);return c[v.keyMinusId]}var T=o.counterRegex("([a-z]+)");function x(c){var p=c.match(T);return{keyMinusId:p&&p[1],id:p&&p[2]}}function M(c){if(!f(c))return String(c);for(var p="",v=0;v<c.length;v++){var b=c[v];typeof b=="number"?p=p.substr(0,p.length-1)+"["+b+"]":p+=b,v<c.length-1&&(p+=".")}return p}},5594:function(te){te.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},5501:function(te,I,e){var o=e(1828),g=e(4467);te.exports=function(i,r,f){var l=f.name,n=f.inclusionAttr||"visible",t=r[l],u=o.isArrayOrTypedArray(i[l])?i[l]:[],h=r[l]=[],m=g.arrayTemplater(r,l,n),y,d;for(y=0;y<u.length;y++){var T=u[y];o.isPlainObject(T)?d=m.newItem(T):(d=m.newItem({}),d[n]=!1),d._index=y,d[n]!==!1&&f.handleItemDefaults(T,d,r,f),h.push(d)}var x=m.defaultItems();for(y=0;y<x.length;y++)d=x[y],d._index=h.length,f.handleItemDefaults({},d,r,f,{}),h.push(d);if(o.isArrayOrTypedArray(t)){var M=Math.min(t.length,h.length);for(y=0;y<M;y++)o.relinkPrivateKeys(h[y],t[y])}return h}},9012:function(te,I,e){var o=e(1940),g=e(7914);te.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:o({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:g.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},2973:function(te,I,e){var o=e(2770),g=e(1828),s=g.dateTime2ms,i=g.incrementMonth,r=e(606),f=r.ONEAVGMONTH;te.exports=function(n,t,u,h){if(t.type!=="date")return{vals:h};var m=n[u+"periodalignment"];if(!m)return{vals:h};var y=n[u+"period"],d;if(o(y)){if(y=+y,y<=0)return{vals:h}}else if(typeof y=="string"&&y.charAt(0)==="M"){var T=+y.substring(1);if(T>0&&Math.round(T)===T)d=T;else return{vals:h}}for(var x=t.calendar,M=m==="start",c=m==="end",p=n[u+"period0"],v=s(p,x)||0,b=[],w=[],_=[],D=h.length,B=0;B<D;B++){var U=h[B],L,O,R;if(d){for(L=Math.round((U-v)/(d*f)),R=i(v,d*L,x);R>U;)R=i(R,-d,x);for(;R<=U;)R=i(R,d,x);O=i(R,-d,x)}else{for(L=Math.round((U-v)/y),R=v+L*y;R>U;)R-=y;for(;R<=U;)R+=y;O=R-y}b[B]=M?O:c?R:(O+R)/2,w[B]=O,_[B]=R}return{vals:b,starts:w,ends:_}}},9502:function(te){te.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},1739:function(te,I,e){var o=e(9898),g=e(2770),s=e(1828),i=e(606).FP_SAFE,r=e(3972),f=e(1424),l=e(1675),n=l.getFromId,t=l.isLinked;te.exports={applyAutorangeOptions:L,getAutoRange:u,makePadFn:m,doAutoRange:x,findExtremes:M,concatExtremes:T};function u(O,R){var Z,$,ie=[],N=O._fullLayout,F=m(N,R,0),G=m(N,R,1),W=T(O,R),X=W.min,J=W.max;if(X.length===0||J.length===0)return s.simpleMap(R.range,R.r2l);var ne=X[0].val,fe=J[0].val;for(Z=1;Z<X.length&&ne===fe;Z++)ne=Math.min(ne,X[Z].val);for(Z=1;Z<J.length&&ne===fe;Z++)fe=Math.max(fe,J[Z].val);var ye=R.autorange,Me=ye==="reversed"||ye==="min reversed"||ye==="max reversed";if(!Me&&R.range){var le=s.simpleMap(R.range,R.r2l);Me=le[1]<le[0]}R.autorange==="reversed"&&(R.autorange=!0);var ve=R.rangemode,H=ve==="tozero",Y=ve==="nonnegative",S=R._length,E=S/10,z=0,C,K,P,j,ae,ue;for(Z=0;Z<X.length;Z++)for(C=X[Z],$=0;$<J.length;$++)K=J[$],ue=K.val-C.val-h(R,C.val,K.val),ue>0&&(ae=S-F(C)-G(K),ae>E?ue/ae>z&&(P=C,j=K,z=ue/ae):ue/S>z&&(P={val:C.val,nopad:1},j={val:K.val,nopad:1},z=ue/S));function he(pe,Ee){return Math.max(pe,G(Ee))}if(ne===fe){var Ae=ne-1,ke=ne+1;if(H)if(ne===0)ie=[0,1];else{var ce=(ne>0?J:X).reduce(he,0),me=ne/(1-Math.min(.5,ce/S));ie=ne>0?[0,me]:[me,0]}else Y?ie=[Math.max(0,Ae),Math.max(1,ke)]:ie=[Ae,ke]}else H?(P.val>=0&&(P={val:0,nopad:1}),j.val<=0&&(j={val:0,nopad:1})):Y&&(P.val-z*F(P)<0&&(P={val:0,nopad:1}),j.val<=0&&(j={val:1,nopad:1})),z=(j.val-P.val-h(R,C.val,K.val))/(S-F(P)-G(j)),ie=[P.val-z*F(P),j.val+z*G(j)];return ie=L(ie,R),R.limitRange&&R.limitRange(),Me&&ie.reverse(),s.simpleMap(ie,R.l2r||Number)}function h(O,R,Z){var $=0;if(O.rangebreaks)for(var ie=O.locateBreaks(R,Z),N=0;N<ie.length;N++){var F=ie[N];$+=F.max-F.min}return $}function m(O,R,Z){var $=.05*R._length,ie=R._anchorAxis||{};if((R.ticklabelposition||"").indexOf("inside")!==-1||(ie.ticklabelposition||"").indexOf("inside")!==-1){var N=R.isReversed();if(!N){var F=s.simpleMap(R.range,R.r2l);N=F[1]<F[0]}N&&(Z=!Z)}var G=0;return t(O,R._id)||(G=d(O,R,Z)),$=Math.max(G,$),R.constrain==="domain"&&R._inputDomain&&($*=(R._inputDomain[1]-R._inputDomain[0])/(R.domain[1]-R.domain[0])),function(X){return X.nopad?0:X.pad+(X.extrapad?$:G)}}var y=3;function d(O,R,Z){var $=0,ie=R._id.charAt(0)==="x";for(var N in O._plots){var F=O._plots[N];if(!(R._id!==F.xaxis._id&&R._id!==F.yaxis._id)){var G=(ie?F.yaxis:F.xaxis)||{};if((G.ticklabelposition||"").indexOf("inside")!==-1&&(!Z&&(G.side==="left"||G.side==="bottom")||Z&&(G.side==="top"||G.side==="right"))){if(G._vals){var W=s.deg2rad(G._tickAngles[G._id+"tick"]||0),X=Math.abs(Math.cos(W)),J=Math.abs(Math.sin(W));if(!G._vals[0].bb){var ne=G._id+"tick",fe=G._selections[ne];fe.each(function(Y){var S=o.select(this),E=S.select(".text-math-group");E.empty()&&(Y.bb=f.bBox(S.node()))})}for(var ye=0;ye<G._vals.length;ye++){var Me=G._vals[ye],le=Me.bb;if(le){var ve=2*y+le.width,H=2*y+le.height;$=Math.max($,ie?Math.max(ve*X,H*J):Math.max(H*X,ve*J))}}}G.ticks==="inside"&&G.ticklabelposition==="inside"&&($+=G.ticklen||0)}}}return $}function T(O,R,Z){var $=R._id,ie=O._fullData,N=O._fullLayout,F=[],G=[],W,X,J;function ne(ve,H){for(W=0;W<H.length;W++){var Y=ve[H[W]],S=(Y._extremes||{})[$];if(Y.visible===!0&&S){for(X=0;X<S.min.length;X++)J=S.min[X],c(F,J.val,J.pad,{extrapad:J.extrapad});for(X=0;X<S.max.length;X++)J=S.max[X],p(G,J.val,J.pad,{extrapad:J.extrapad})}}}if(ne(ie,R._traceIndices),ne(N.annotations||[],R._annIndices||[]),ne(N.shapes||[],R._shapeIndices||[]),R._matchGroup&&!Z){for(var fe in R._matchGroup)if(fe!==R._id){var ye=n(O,fe),Me=T(O,ye,!0),le=R._length/ye._length;for(X=0;X<Me.min.length;X++)J=Me.min[X],c(F,J.val,J.pad*le,{extrapad:J.extrapad});for(X=0;X<Me.max.length;X++)J=Me.max[X],p(G,J.val,J.pad*le,{extrapad:J.extrapad})}}return{min:F,max:G}}function x(O,R,Z){if(R.setScale(),R.autorange){R.range=Z?Z.slice():u(O,R),R._r=R.range.slice(),R._rl=s.simpleMap(R._r,R.r2l);var $=R._input,ie={};ie[R._attr+".range"]=R.range,ie[R._attr+".autorange"]=R.autorange,r.call("_storeDirectGUIEdit",O.layout,O._fullLayout._preGUI,ie),$.range=R.range.slice(),$.autorange=R.autorange}var N=R._anchorAxis;if(N&&N.rangeslider){var F=N.rangeslider[R._name];F&&F.rangemode==="auto"&&(F.range=u(O,R)),N._input.rangeslider[R._name]=s.extendFlat({},F)}}function M(O,R,Z){Z||(Z={}),O._m||O.setScale();var $=[],ie=[],N=R.length,F=Z.padded||!1,G=Z.tozero&&(O.type==="linear"||O.type==="-"),W=O.type==="log",X=!1,J=Z.vpadLinearized||!1,ne,fe,ye,Me,le,ve,H,Y,S;function E(he){if(Array.isArray(he))return X=!0,function(ke){return Math.max(Number(he[ke]||0),0)};var Ae=Math.max(Number(he||0),0);return function(){return Ae}}var z=E((O._m>0?Z.ppadplus:Z.ppadminus)||Z.ppad||0),C=E((O._m>0?Z.ppadminus:Z.ppadplus)||Z.ppad||0),K=E(Z.vpadplus||Z.vpad),P=E(Z.vpadminus||Z.vpad);if(!X){if(Y=1/0,S=-1/0,W)for(ne=0;ne<N;ne++)fe=R[ne],fe<Y&&fe>0&&(Y=fe),fe>S&&fe<i&&(S=fe);else for(ne=0;ne<N;ne++)fe=R[ne],fe<Y&&fe>-i&&(Y=fe),fe>S&&fe<i&&(S=fe);R=[Y,S],N=2}var j={tozero:G,extrapad:F};function ae(he){ye=R[he],g(ye)&&(ve=z(he),H=C(he),J?(Me=O.c2l(ye)-P(he),le=O.c2l(ye)+K(he)):(Y=ye-P(he),S=ye+K(he),W&&Y<S/10&&(Y=S/10),Me=O.c2l(Y),le=O.c2l(S)),G&&(Me=Math.min(0,Me),le=Math.max(0,le)),b(Me)&&c($,Me,H,j),b(le)&&p(ie,le,ve,j))}var ue=Math.min(6,N);for(ne=0;ne<ue;ne++)ae(ne);for(ne=N-1;ne>=ue;ne--)ae(ne);return{min:$,max:ie,opts:Z}}function c(O,R,Z,$){v(O,R,Z,$,w)}function p(O,R,Z,$){v(O,R,Z,$,_)}function v(O,R,Z,$,ie){for(var N=$.tozero,F=$.extrapad,G=!0,W=0;W<O.length&&G;W++){var X=O[W];if(ie(X.val,R)&&X.pad>=Z&&(X.extrapad||!F)){G=!1;break}else ie(R,X.val)&&X.pad<=Z&&(F||!X.extrapad)&&(O.splice(W,1),W--)}if(G){var J=N&&R===0;O.push({val:R,pad:J?0:Z,extrapad:J?!1:F})}}function b(O){return g(O)&&Math.abs(O)<i}function w(O,R){return O<=R}function _(O,R){return O>=R}function D(O,R){var Z=R.autorangeoptions;return Z&&Z.minallowed!==void 0&&U(R,Z.minallowed,Z.maxallowed)?Z.minallowed:Z&&Z.clipmin!==void 0&&U(R,Z.clipmin,Z.clipmax)?Math.max(O,R.d2l(Z.clipmin)):O}function B(O,R){var Z=R.autorangeoptions;return Z&&Z.maxallowed!==void 0&&U(R,Z.minallowed,Z.maxallowed)?Z.maxallowed:Z&&Z.clipmax!==void 0&&U(R,Z.clipmin,Z.clipmax)?Math.min(O,R.d2l(Z.clipmax)):O}function U(O,R,Z){return R!==void 0&&Z!==void 0?(R=O.d2l(R),Z=O.d2l(Z),R<Z):!0}function L(O,R){if(!R||!R.autorangeoptions)return O;var Z=O[0],$=O[1],ie=R.autorangeoptions.include;if(ie!==void 0){var N=R.d2l(Z),F=R.d2l($);s.isArrayOrTypedArray(ie)||(ie=[ie]);for(var G=0;G<ie.length;G++){var W=R.d2l(ie[G]);N>=W&&(N=W,Z=W),F<=W&&(F=W,$=W)}}return Z=D(Z,R),$=B($,R),[Z,$]}},3074:function(te){te.exports=function(e,o,g){var s,i;if(g){var r=o==="reversed"||o==="min reversed"||o==="max reversed";s=g[r?1:0],i=g[r?0:1]}var f=e("autorangeoptions.minallowed",i===null?s:void 0),l=e("autorangeoptions.maxallowed",s===null?i:void 0);f===void 0&&e("autorangeoptions.clipmin"),l===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},9298:function(te,I,e){var o=e(9898),g=e(2770),s=e(4875),i=e(3972),r=e(1828),f=r.strTranslate,l=e(3893),n=e(2998),t=e(7901),u=e(1424),h=e(3838),m=e(6287),y=e(606),d=y.ONEMAXYEAR,T=y.ONEAVGYEAR,x=y.ONEMINYEAR,M=y.ONEMAXQUARTER,c=y.ONEAVGQUARTER,p=y.ONEMINQUARTER,v=y.ONEMAXMONTH,b=y.ONEAVGMONTH,w=y.ONEMINMONTH,_=y.ONEWEEK,D=y.ONEDAY,B=D/2,U=y.ONEHOUR,L=y.ONEMIN,O=y.ONESEC,R=y.MINUS_SIGN,Z=y.BADNUM,$={K:"zeroline"},ie={K:"gridline",L:"path"},N={K:"minor-gridline",L:"path"},F={K:"tick",L:"path"},G={K:"tick",L:"text"},W={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},X=e(8783),J=X.MID_SHIFT,ne=X.CAP_SHIFT,fe=X.LINE_SPACING,ye=X.OPPOSITE_SIDE,Me=3,le=te.exports={};le.setConvert=e(1994);var ve=e(4322),H=e(1675),Y=H.idSort,S=H.isLinked;le.id2name=H.id2name,le.name2id=H.name2id,le.cleanId=H.cleanId,le.list=H.list,le.listIds=H.listIds,le.getFromId=H.getFromId,le.getFromTrace=H.getFromTrace;var E=e(1739);le.getAutoRange=E.getAutoRange,le.findExtremes=E.findExtremes;var z=1e-4;function C(re){var q=(re[1]-re[0])*z;return[re[0]-q,re[1]+q]}le.coerceRef=function(re,q,He,Ie,Ue,Ve){var Xe=Ie.charAt(Ie.length-1),Ge=He._fullLayout._subplots[Xe+"axis"],Be=Ie+"ref",qe={};return Ue||(Ue=Ge[0]||(typeof Ve=="string"?Ve:Ve[0])),Ve||(Ve=Ue),Ge=Ge.concat(Ge.map(function(at){return at+" domain"})),qe[Be]={valType:"enumerated",values:Ge.concat(Ve?typeof Ve=="string"?[Ve]:Ve:[]),dflt:Ue},r.coerce(re,q,qe,Be)},le.getRefType=function(re){return re===void 0?re:re==="paper"?"paper":re==="pixel"?"pixel":/( domain)$/.test(re)?"domain":"range"},le.coercePosition=function(re,q,He,Ie,Ue,Ve){var Xe,Ge,Be=le.getRefType(Ie);if(Be!=="range")Xe=r.ensureNumber,Ge=He(Ue,Ve);else{var qe=le.getFromId(q,Ie);Ve=qe.fraction2r(Ve),Ge=He(Ue,Ve),Xe=qe.cleanPos}re[Ue]=Xe(Ge)},le.cleanPosition=function(re,q,He){var Ie=He==="paper"||He==="pixel"?r.ensureNumber:le.getFromId(q,He).cleanPos;return Ie(re)},le.redrawComponents=function(re,q){q=q||le.listIds(re);var He=re._fullLayout;function Ie(Ue,Ve,Xe,Ge){for(var Be=i.getComponentMethod(Ue,Ve),qe={},at=0;at<q.length;at++)for(var st=He[le.id2name(q[at])],nt=st[Xe],pt=0;pt<nt.length;pt++){var dt=nt[pt];if(!qe[dt]&&(Be(re,dt),qe[dt]=1,Ge))return}}Ie("annotations","drawOne","_annIndices"),Ie("shapes","drawOne","_shapeIndices"),Ie("images","draw","_imgIndices",!0),Ie("selections","drawOne","_selectionIndices")};var K=le.getDataConversions=function(re,q,He,Ie){var Ue,Ve=He==="x"||He==="y"||He==="z"?He:Ie;if(Array.isArray(Ve)){if(Ue={type:ve(Ie,void 0,{autotypenumbers:re._fullLayout.autotypenumbers}),_categories:[]},le.setConvert(Ue),Ue.type==="category")for(var Xe=0;Xe<Ie.length;Xe++)Ue.d2c(Ie[Xe])}else Ue=le.getFromTrace(re,q,Ve);return Ue?{d2c:Ue.d2c,c2d:Ue.c2d}:Ve==="ids"?{d2c:j,c2d:j}:{d2c:P,c2d:P}};function P(re){return+re}function j(re){return String(re)}le.getDataToCoordFunc=function(re,q,He,Ie){return K(re,q,He,Ie).d2c},le.counterLetter=function(re){var q=re.charAt(0);if(q==="x")return"y";if(q==="y")return"x"},le.minDtick=function(re,q,He,Ie){["log","category","multicategory"].indexOf(re.type)!==-1||!Ie?re._minDtick=0:re._minDtick===void 0?(re._minDtick=q,re._forceTick0=He):re._minDtick&&((re._minDtick/q+1e-6)%1<2e-6&&((He-re._forceTick0)/q%1+1.000001)%1<2e-6?(re._minDtick=q,re._forceTick0=He):((q/re._minDtick+1e-6)%1>2e-6||((He-re._forceTick0)/re._minDtick%1+1.000001)%1>2e-6)&&(re._minDtick=0))},le.saveRangeInitial=function(re,q){for(var He=le.list(re,"",!0),Ie=!1,Ue=0;Ue<He.length;Ue++){var Ve=He[Ue],Xe=Ve._rangeInitial0===void 0&&Ve._rangeInitial1===void 0,Ge=Xe||Ve.range[0]!==Ve._rangeInitial0||Ve.range[1]!==Ve._rangeInitial1,Be=Ve.autorange;(Xe&&Be!==!0||q&&Ge)&&(Ve._rangeInitial0=Be==="min"||Be==="max reversed"?void 0:Ve.range[0],Ve._rangeInitial1=Be==="max"||Be==="min reversed"?void 0:Ve.range[1],Ve._autorangeInitial=Be,Ie=!0)}return Ie},le.saveShowSpikeInitial=function(re,q){for(var He=le.list(re,"",!0),Ie=!1,Ue="on",Ve=0;Ve<He.length;Ve++){var Xe=He[Ve],Ge=Xe._showSpikeInitial===void 0,Be=Ge||Xe.showspikes!==Xe._showspikes;(Ge||q&&Be)&&(Xe._showSpikeInitial=Xe.showspikes,Ie=!0),Ue==="on"&&!Xe.showspikes&&(Ue="off")}return re._fullLayout._cartesianSpikesEnabled=Ue,Ie},le.autoBin=function(re,q,He,Ie,Ue,Ve){var Xe=r.aggNums(Math.min,null,re),Ge=r.aggNums(Math.max,null,re);if(q.type==="category"||q.type==="multicategory")return{start:Xe-.5,end:Ge+.5,size:Math.max(1,Math.round(Ve)||1),_dataSpan:Ge-Xe};Ue||(Ue=q.calendar);var Be;if(q.type==="log"?Be={type:"linear",range:[Xe,Ge]}:Be={type:q.type,range:r.simpleMap([Xe,Ge],q.c2r,0,Ue),calendar:Ue},le.setConvert(Be),Ve=Ve&&m.dtick(Ve,Be.type),Ve)Be.dtick=Ve,Be.tick0=m.tick0(void 0,Be.type,Ue);else{var qe;if(He)qe=(Ge-Xe)/He;else{var at=r.distinctVals(re),st=Math.pow(10,Math.floor(Math.log(at.minDiff)/Math.LN10)),nt=st*r.roundUp(at.minDiff/st,[.9,1.9,4.9,9.9],!0);qe=Math.max(nt,2*r.stdev(re)/Math.pow(re.length,Ie?.25:.4)),g(qe)||(qe=1)}le.autoTicks(Be,qe)}var pt=Be.dtick,dt=le.tickIncrement(le.tickFirst(Be),pt,"reverse",Ue),ut,Pt;if(typeof pt=="number")dt=ae(dt,re,Be,Xe,Ge),Pt=1+Math.floor((Ge-dt)/pt),ut=dt+Pt*pt;else for(Be.dtick.charAt(0)==="M"&&(dt=ue(dt,re,pt,Xe,Ue)),ut=dt,Pt=0;ut<=Ge;)ut=le.tickIncrement(ut,pt,!1,Ue),Pt++;return{start:q.c2r(dt,0,Ue),end:q.c2r(ut,0,Ue),size:pt,_dataSpan:Ge-Xe}};function ae(re,q,He,Ie,Ue){var Ve=0,Xe=0,Ge=0,Be=0;function qe(pt){return(1+(pt-re)*100/He.dtick)%100<2}for(var at=0;at<q.length;at++)q[at]%1===0?Ge++:g(q[at])||Be++,qe(q[at])&&Ve++,qe(q[at]+He.dtick/2)&&Xe++;var st=q.length-Be;if(Ge===st&&He.type!=="date")He.dtick<1?re=Ie-.5*He.dtick:(re-=.5,re+He.dtick<Ie&&(re+=He.dtick));else if(Xe<st*.1&&(Ve>st*.3||qe(Ie)||qe(Ue))){var nt=He.dtick/2;re+=re+nt<Ie?nt:-nt}return re}function ue(re,q,He,Ie,Ue){var Ve=r.findExactDates(q,Ue),Xe=.8;if(Ve.exactDays>Xe){var Ge=Number(He.substr(1));Ve.exactYears>Xe&&Ge%12===0?re=le.tickIncrement(re,"M6","reverse")+D*1.5:Ve.exactMonths>Xe?re=le.tickIncrement(re,"M1","reverse")+D*15.5:re-=B;var Be=le.tickIncrement(re,He);if(Be<=Ie)return Be}return re}le.prepMinorTicks=function(re,q,He){if(!q.minor.dtick){delete re.dtick;var Ie=q.dtick&&g(q._tmin),Ue;if(Ie){var Ve=le.tickIncrement(q._tmin,q.dtick,!0);Ue=[q._tmin,Ve*.99+q._tmin*.01]}else{var Xe=r.simpleMap(q.range,q.r2l);Ue=[Xe[0],.8*Xe[0]+.2*Xe[1]]}if(re.range=r.simpleMap(Ue,q.l2r),re._isMinor=!0,le.prepTicks(re,He),Ie){var Ge=g(q.dtick),Be=g(re.dtick),qe=Ge?q.dtick:+q.dtick.substring(1),at=Be?re.dtick:+re.dtick.substring(1);Ge&&Be?he(qe,at)?qe===2*_&&at===2*D&&(re.dtick=_):qe===2*_&&at===3*D?re.dtick=_:qe===_&&!(q._input.minor||{}).nticks?re.dtick=D:Ae(qe/at,2.5)?re.dtick=qe/2:re.dtick=qe:String(q.dtick).charAt(0)==="M"?Be?re.dtick="M1":he(qe,at)?qe>=12&&at===2&&(re.dtick="M3"):re.dtick=q.dtick:String(re.dtick).charAt(0)==="L"?String(q.dtick).charAt(0)==="L"?he(qe,at)||(re.dtick=Ae(qe/at,2.5)?q.dtick/2:q.dtick):re.dtick="D1":re.dtick==="D2"&&+q.dtick>1&&(re.dtick=1)}re.range=q.range}q.minor._tick0Init===void 0&&(re.tick0=q.tick0)};function he(re,q){return Math.abs((re/q+.5)%1-.5)<.001}function Ae(re,q){return Math.abs(re/q-1)<.001}le.prepTicks=function(re,q){var He=r.simpleMap(re.range,re.r2l,void 0,void 0,q);if(re.tickmode==="auto"||!re.dtick){var Ie=re.nticks,Ue;Ie||(re.type==="category"||re.type==="multicategory"?(Ue=re.tickfont?r.bigFont(re.tickfont.size||12):15,Ie=re._length/Ue):(Ue=re._id.charAt(0)==="y"?40:80,Ie=r.constrain(re._length/Ue,4,9)+1),re._name==="radialaxis"&&(Ie*=2)),re.minor&&re.minor.tickmode!=="array"||re.tickmode==="array"&&(Ie*=100),re._roughDTick=Math.abs(He[1]-He[0])/Ie,le.autoTicks(re,re._roughDTick),re._minDtick>0&&re.dtick<re._minDtick*2&&(re.dtick=re._minDtick,re.tick0=re.l2r(re._forceTick0))}re.ticklabelmode==="period"&&ce(re),re.tick0||(re.tick0=re.type==="date"?"2000-01-01":0),re.type==="date"&&re.dtick<.1&&(re.dtick=.1),tt(re)};function ke(re){return+re.substring(1)}function ce(re){var q;function He(){return!(g(re.dtick)||re.dtick.charAt(0)!=="M")}var Ie=He(),Ue=le.getTickFormat(re);if(Ue){var Ve=re._dtickInit!==re.dtick;/%[fLQsSMX]/.test(Ue)||(/%[HI]/.test(Ue)?(q=U,Ve&&!Ie&&re.dtick<U&&(re.dtick=U)):/%p/.test(Ue)?(q=B,Ve&&!Ie&&re.dtick<B&&(re.dtick=B)):/%[Aadejuwx]/.test(Ue)?(q=D,Ve&&!Ie&&re.dtick<D&&(re.dtick=D)):/%[UVW]/.test(Ue)?(q=_,Ve&&!Ie&&re.dtick<_&&(re.dtick=_)):/%[Bbm]/.test(Ue)?(q=b,Ve&&(Ie?ke(re.dtick)<1:re.dtick<w)&&(re.dtick="M1")):/%[q]/.test(Ue)?(q=c,Ve&&(Ie?ke(re.dtick)<3:re.dtick<p)&&(re.dtick="M3")):/%[Yy]/.test(Ue)&&(q=T,Ve&&(Ie?ke(re.dtick)<12:re.dtick<x)&&(re.dtick="M12")))}Ie=He(),Ie&&re.tick0===re._dowTick0&&(re.tick0=re._rawTick0),re._definedDelta=q}function me(re,q,He){for(var Ie=0;Ie<re.length;Ie++){var Ue=re[Ie].value,Ve=Ie,Xe=Ie+1;Ie<re.length-1?(Ve=Ie,Xe=Ie+1):Ie>0?(Ve=Ie-1,Xe=Ie):(Ve=Ie,Xe=Ie);var Ge=re[Ve].value,Be=re[Xe].value,qe=Math.abs(Be-Ge),at=He||qe,st=0;at>=x?qe>=x&&qe<=d?st=qe:st=T:He===c&&at>=p?qe>=p&&qe<=M?st=qe:st=c:at>=w?qe>=w&&qe<=v?st=qe:st=b:He===_&&at>=_?st=_:at>=D?st=D:He===B&&at>=B?st=B:He===U&&at>=U&&(st=U);var nt;st>=qe&&(st=qe,nt=!0);var pt=Ue+st;if(q.rangebreaks&&st>0){for(var dt=84,ut=0,Pt=0;Pt<dt;Pt++){var Lt=(Pt+.5)/dt;q.maskBreaks(Ue*(1-Lt)+Lt*pt)!==Z&&ut++}st*=ut/dt,st||(re[Ie].drop=!0),nt&&qe>_&&(st=qe)}(st>0||Ie===0)&&(re[Ie].periodX=Ue+st/2)}}le.calcTicks=function(q,He){for(var Ie=q.type,Ue=q.calendar,Ve=q.ticklabelstep,Xe=q.ticklabelmode==="period",Ge=r.simpleMap(q.range,q.r2l,void 0,void 0,He),Be=Ge[1]<Ge[0],qe=Math.min(Ge[0],Ge[1]),at=Math.max(Ge[0],Ge[1]),st=Math.max(1e3,q._length||0),nt=[],pt=[],dt=[],ut=[],Pt=q.minor&&(q.minor.ticks||q.minor.showgrid),Lt=1;Lt>=(Pt?0:1);Lt--){var $t=!Lt;Lt?(q._dtickInit=q.dtick,q._tick0Init=q.tick0):(q.minor._dtickInit=q.minor.dtick,q.minor._tick0Init=q.minor.tick0);var Et=Lt?q:r.extendFlat({},q,q.minor);if($t?le.prepMinorTicks(Et,q,He):le.prepTicks(Et,He),Et.tickmode==="array"){Lt?(dt=[],nt=we(q)):(ut=[],pt=we(q));continue}if(Et.tickmode==="sync"){dt=[],nt=Ee(q);continue}var ar=C(Ge),Ft=ar[0],Wt=ar[1],nr=g(Et.dtick),ir=Ie==="log"&&!(nr||Et.dtick.charAt(0)==="L"),or=le.tickFirst(Et,He);if(Lt){if(q._tmin=or,or<Ft!==Be)break;(Ie==="category"||Ie==="multicategory")&&(Wt=Be?Math.max(-.5,Wt):Math.min(q._categories.length-.5,Wt))}var Mr=null,sr=or,dr;if(Lt){var Tr;nr?Tr=q.dtick:Ie==="date"?typeof q.dtick=="string"&&q.dtick.charAt(0)==="M"&&(Tr=b*q.dtick.substring(1)):Tr=q._roughDTick,dr=Math.round((q.r2l(sr)-q.r2l(q.tick0))/Tr)-1}var vr=Et.dtick;for(Et.rangebreaks&&Et._tick0Init!==Et.tick0&&(sr=Nt(sr,q),Be||(sr=le.tickIncrement(sr,vr,!Be,Ue))),Lt&&Xe&&(sr=le.tickIncrement(sr,vr,!Be,Ue),dr--);Be?sr>=Wt:sr<=Wt;sr=le.tickIncrement(sr,vr,Be,Ue)){if(Lt&&dr++,Et.rangebreaks&&!Be){if(sr<Ft)continue;if(Et.maskBreaks(sr)===Z&&Nt(sr,Et)>=at)break}if(dt.length>st||sr===Mr)break;Mr=sr;var yr={value:sr};Lt?(ir&&sr!==(sr|0)&&(yr.simpleLabel=!0),Ve>1&&dr%Ve&&(yr.skipLabel=!0),dt.push(yr)):(yr.minor=!0,ut.push(yr))}}if(Pt){var hr=q.minor.ticks==="inside"&&q.ticks==="outside"||q.minor.ticks==="outside"&&q.ticks==="inside";if(!hr){for(var gr=dt.map(function(Ta){return Ta.value}),Sr=[],Dr=0;Dr<ut.length;Dr++){var kr=ut[Dr],wr=kr.value;if(gr.indexOf(wr)===-1){for(var Nr=!1,Lr=0;!Nr&&Lr<dt.length;Lr++)1e7+dt[Lr].value===1e7+wr&&(Nr=!0);Nr||Sr.push(kr)}}ut=Sr}}Xe&&me(dt,q,q._definedDelta);var pr;if(q.rangebreaks){var Rr=q._id.charAt(0)==="y",Fr=1;q.tickmode==="auto"&&(Fr=q.tickfont?q.tickfont.size:12);var Hr=NaN;for(pr=dt.length-1;pr>-1;pr--){if(dt[pr].drop){dt.splice(pr,1);continue}dt[pr].value=Nt(dt[pr].value,q);var Gr=q.c2p(dt[pr].value);(Rr?Hr>Gr-Fr:Hr<Gr+Fr)?dt.splice(Be?pr+1:pr,1):Hr=Gr}}_t(q)&&Math.abs(Ge[1]-Ge[0])===360&&dt.pop(),q._tmax=(dt[dt.length-1]||{}).value,q._prevDateHead="",q._inCalcTicks=!0;var $r,oa=function(Ta){Ta.text="",q._prevDateHead=$r};dt=dt.concat(ut);var Cr,zr;for(pr=0;pr<dt.length;pr++){var ca=dt[pr].minor,ea=dt[pr].value;ca?pt.push({x:ea,minor:!0}):($r=q._prevDateHead,Cr=le.tickText(q,ea,!1,dt[pr].simpleLabel),zr=dt[pr].periodX,zr!==void 0&&(Cr.periodX=zr,(zr>at||zr<qe)&&(zr>at&&(Cr.periodX=at),zr<qe&&(Cr.periodX=qe),oa(Cr))),dt[pr].skipLabel&&oa(Cr),nt.push(Cr))}return nt=nt.concat(pt),q._inCalcTicks=!1,Xe&&nt.length&&(nt[0].noTick=!0),nt};function pe(re,q){return re.rangebreaks&&(q=q.filter(function(He){return re.maskBreaks(He.x)!==Z})),q}function Ee(re){var q=re._mainAxis,He=[];if(q._vals){for(var Ie=0;Ie<q._vals.length;Ie++)if(!q._vals[Ie].noTick){var Ue=q.l2p(q._vals[Ie].x),Ve=re.p2l(Ue),Xe=le.tickText(re,Ve);q._vals[Ie].minor&&(Xe.minor=!0,Xe.text=""),He.push(Xe)}}return He=pe(re,He),He}function we(re){var q=r.simpleMap(re.range,re.r2l),He=C(q),Ie=Math.min(He[0],He[1]),Ue=Math.max(He[0],He[1]),Ve=re.type==="category"?re.d2l_noadd:re.d2l;re.type==="log"&&String(re.dtick).charAt(0)!=="L"&&(re.dtick="L"+Math.pow(10,Math.floor(Math.min(re.range[0],re.range[1]))-1));for(var Xe=[],Ge=0;Ge<=1;Ge++)if(!(Ge&&!re.minor)){var Be=Ge?re.minor.tickvals:re.tickvals,qe=Ge?[]:re.ticktext;if(Be){Array.isArray(qe)||(qe=[]);for(var at=0;at<Be.length;at++){var st=Ve(Be[at]);if(st>Ie&&st<Ue){var nt=qe[at]===void 0?le.tickText(re,st):Ct(re,st,String(qe[at]));Ge&&(nt.minor=!0,nt.text=""),Xe.push(nt)}}}}return Xe=pe(re,Xe),Xe}var xe=[2,5,10],Fe=[1,2,3,6,12],Ke=[1,2,5,10,15,30],je=[1,2,3,7,14],Je=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],ht=[-.301,0,.301,.699,1],Tt=[15,30,45,90,180];function gt(re,q,He){return q*r.roundUp(re/q,He)}le.autoTicks=function(re,q,He){var Ie;function Ue(st){return Math.pow(st,Math.floor(Math.log(q)/Math.LN10))}if(re.type==="date"){re.tick0=r.dateTick0(re.calendar,0);var Ve=2*q;if(Ve>T)q/=T,Ie=Ue(10),re.dtick="M"+12*gt(q,Ie,xe);else if(Ve>b)q/=b,re.dtick="M"+gt(q,1,Fe);else if(Ve>D){if(re.dtick=gt(q,D,re._hasDayOfWeekBreaks?[1,2,7,14]:je),!He){var Xe=le.getTickFormat(re),Ge=re.ticklabelmode==="period";Ge&&(re._rawTick0=re.tick0),/%[uVW]/.test(Xe)?re.tick0=r.dateTick0(re.calendar,2):re.tick0=r.dateTick0(re.calendar,1),Ge&&(re._dowTick0=re.tick0)}}else Ve>U?re.dtick=gt(q,U,Fe):Ve>L?re.dtick=gt(q,L,Ke):Ve>O?re.dtick=gt(q,O,Ke):(Ie=Ue(10),re.dtick=gt(q,Ie,xe))}else if(re.type==="log"){re.tick0=0;var Be=r.simpleMap(re.range,re.r2l);if(re._isMinor&&(q*=1.5),q>.7)re.dtick=Math.ceil(q);else if(Math.abs(Be[1]-Be[0])<1){var qe=1.5*Math.abs((Be[1]-Be[0])/q);q=Math.abs(Math.pow(10,Be[1])-Math.pow(10,Be[0]))/qe,Ie=Ue(10),re.dtick="L"+gt(q,Ie,xe)}else re.dtick=q>.3?"D2":"D1"}else re.type==="category"||re.type==="multicategory"?(re.tick0=0,re.dtick=Math.ceil(Math.max(q,1))):_t(re)?(re.tick0=0,Ie=1,re.dtick=gt(q,Ie,Tt)):(re.tick0=0,Ie=Ue(10),re.dtick=gt(q,Ie,xe));if(re.dtick===0&&(re.dtick=1),!g(re.dtick)&&typeof re.dtick!="string"){var at=re.dtick;throw re.dtick=1,"ax.dtick error: "+String(at)}};function tt(re){var q=re.dtick;if(re._tickexponent=0,!g(q)&&typeof q!="string"&&(q=1),(re.type==="category"||re.type==="multicategory")&&(re._tickround=null),re.type==="date"){var He=re.r2l(re.tick0),Ie=re.l2r(He).replace(/(^-|i)/g,""),Ue=Ie.length;if(String(q).charAt(0)==="M")Ue>10||Ie.substr(5)!=="01-01"?re._tickround="d":re._tickround=+q.substr(1)%12===0?"y":"m";else if(q>=D&&Ue<=10||q>=D*15)re._tickround="d";else if(q>=L&&Ue<=16||q>=U)re._tickround="M";else if(q>=O&&Ue<=19||q>=L)re._tickround="S";else{var Ve=re.l2r(He+q).replace(/^-/,"").length;re._tickround=Math.max(Ue,Ve)-20,re._tickround<0&&(re._tickround=4)}}else if(g(q)||q.charAt(0)==="L"){var Xe=re.range.map(re.r2d||Number);g(q)||(q=Number(q.substr(1))),re._tickround=2-Math.floor(Math.log(q)/Math.LN10+.01);var Ge=Math.max(Math.abs(Xe[0]),Math.abs(Xe[1])),Be=Math.floor(Math.log(Ge)/Math.LN10+.01),qe=re.minexponent===void 0?3:re.minexponent;Math.abs(Be)>qe&&(Ce(re.exponentformat)&&!Oe(Be)?re._tickexponent=3*Math.round((Be-1)/3):re._tickexponent=Be)}else re._tickround=null}le.tickIncrement=function(re,q,He,Ie){var Ue=He?-1:1;if(g(q))return r.increment(re,Ue*q);var Ve=q.charAt(0),Xe=Ue*Number(q.substr(1));if(Ve==="M")return r.incrementMonth(re,Xe,Ie);if(Ve==="L")return Math.log(Math.pow(10,re)+Xe)/Math.LN10;if(Ve==="D"){var Ge=q==="D2"?ht:Je,Be=re+Ue*.01,qe=r.roundUp(r.mod(Be,1),Ge,He);return Math.floor(Be)+Math.log(o.round(Math.pow(10,qe),1))/Math.LN10}throw"unrecognized dtick "+String(q)},le.tickFirst=function(re,q){var He=re.r2l||Number,Ie=r.simpleMap(re.range,He,void 0,void 0,q),Ue=Ie[1]<Ie[0],Ve=Ue?Math.floor:Math.ceil,Xe=C(Ie)[0],Ge=re.dtick,Be=He(re.tick0);if(g(Ge)){var qe=Ve((Xe-Be)/Ge)*Ge+Be;return(re.type==="category"||re.type==="multicategory")&&(qe=r.constrain(qe,0,re._categories.length-1)),qe}var at=Ge.charAt(0),st=Number(Ge.substr(1));if(at==="M"){for(var nt=0,pt=Be,dt,ut,Pt;nt<10;){if(dt=le.tickIncrement(pt,Ge,Ue,re.calendar),(dt-Xe)*(pt-Xe)<=0)return Ue?Math.min(pt,dt):Math.max(pt,dt);ut=(Xe-(pt+dt)/2)/(dt-pt),Pt=at+(Math.abs(Math.round(ut))||1)*st,pt=le.tickIncrement(pt,Pt,ut<0?!Ue:Ue,re.calendar),nt++}return r.error("tickFirst did not converge",re),pt}else{if(at==="L")return Math.log(Ve((Math.pow(10,Xe)-Be)/st)*st+Be)/Math.LN10;if(at==="D"){var Lt=Ge==="D2"?ht:Je,$t=r.roundUp(r.mod(Xe,1),Lt,Ue);return Math.floor(Xe)+Math.log(o.round(Math.pow(10,$t),1))/Math.LN10}else throw"unrecognized dtick "+String(Ge)}},le.tickText=function(re,q,He,Ie){var Ue=Ct(re,q),Ve=re.tickmode==="array",Xe=He||Ve,Ge=re.type,Be=Ge==="category"?re.d2l_noadd:re.d2l,qe;if(Ve&&Array.isArray(re.ticktext)){var at=r.simpleMap(re.range,re.r2l),st=(Math.abs(at[1]-at[0])-(re._lBreaks||0))/1e4;for(qe=0;qe<re.ticktext.length&&!(Math.abs(q-Be(re.tickvals[qe]))<st);qe++);if(qe<re.ticktext.length)return Ue.text=String(re.ticktext[qe]),Ue}function nt(Pt){if(Pt===void 0)return!0;if(He)return Pt==="none";var Lt={first:re._tmin,last:re._tmax}[Pt];return Pt!=="all"&&q!==Lt}var pt=He?"never":re.exponentformat!=="none"&&nt(re.showexponent)?"hide":"";if(Ge==="date"?rt(re,Ue,He,Xe):Ge==="log"?Mt(re,Ue,He,Xe,pt):Ge==="category"?Dt(re,Ue):Ge==="multicategory"?kt(re,Ue,He):_t(re)?Le(re,Ue,He,Xe,pt):At(re,Ue,He,Xe,pt),Ie||(re.tickprefix&&!nt(re.showtickprefix)&&(Ue.text=re.tickprefix+Ue.text),re.ticksuffix&&!nt(re.showticksuffix)&&(Ue.text+=re.ticksuffix)),re.labelalias&&re.labelalias.hasOwnProperty(Ue.text)){var dt=re.labelalias[Ue.text];typeof dt=="string"&&(Ue.text=dt)}if(re.tickson==="boundaries"||re.showdividers){var ut=function(Pt){var Lt=re.l2p(Pt);return Lt>=0&&Lt<=re._length?Pt:null};Ue.xbnd=[ut(Ue.x-.5),ut(Ue.x+re.dtick-.5)]}return Ue},le.hoverLabelText=function(re,q,He){He&&(re=r.extendFlat({},re,{hoverformat:He}));var Ie=Array.isArray(q)?q[0]:q,Ue=Array.isArray(q)?q[1]:void 0;if(Ue!==void 0&&Ue!==Ie)return le.hoverLabelText(re,Ie,He)+" - "+le.hoverLabelText(re,Ue,He);var Ve=re.type==="log"&&Ie<=0,Xe=le.tickText(re,re.c2l(Ve?-Ie:Ie),"hover").text;return Ve?Ie===0?"0":R+Xe:Xe};function Ct(re,q,He){var Ie=re.tickfont||{};return{x:q,dx:0,dy:0,text:He||"",fontSize:Ie.size,font:Ie.family,fontColor:Ie.color}}function rt(re,q,He,Ie){var Ue=re._tickround,Ve=He&&re.hoverformat||le.getTickFormat(re);Ie=!Ve&&Ie,Ie&&(g(Ue)?Ue=4:Ue={y:"m",m:"d",d:"M",M:"S",S:4}[Ue]);var Xe=r.formatDate(q.x,Ve,Ue,re._dateFormat,re.calendar,re._extraFormat),Ge,Be=Xe.indexOf(`
`);if(Be!==-1&&(Ge=Xe.substr(Be+1),Xe=Xe.substr(0,Be)),Ie&&(Ge!==void 0&&(Xe==="00:00:00"||Xe==="00:00")?(Xe=Ge,Ge=""):Xe.length===8&&(Xe=Xe.replace(/:00$/,""))),Ge)if(He)Ue==="d"?Xe+=", "+Ge:Xe=Ge+(Xe?", "+Xe:"");else if(!re._inCalcTicks||re._prevDateHead!==Ge)re._prevDateHead=Ge,Xe+="<br>"+Ge;else{var qe=Jt(re),at=re._trueSide||re.side;(!qe&&at==="top"||qe&&at==="bottom")&&(Xe+="<br> ")}q.text=Xe}function Mt(re,q,He,Ie,Ue){var Ve=re.dtick,Xe=q.x,Ge=re.tickformat,Be=typeof Ve=="string"&&Ve.charAt(0);if(Ue==="never"&&(Ue=""),Ie&&Be!=="L"&&(Ve="L3",Be="L"),Ge||Be==="L")q.text=oe(Math.pow(10,Xe),re,Ue,Ie);else if(g(Ve)||Be==="D"&&r.mod(Xe+.01,1)<.1){var qe=Math.round(Xe),at=Math.abs(qe),st=re.exponentformat;st==="power"||Ce(st)&&Oe(qe)?(qe===0?q.text=1:qe===1?q.text="10":q.text="10<sup>"+(qe>1?"":R)+at+"</sup>",q.fontSize*=1.25):(st==="e"||st==="E")&&at>2?q.text="1"+st+(qe>0?"+":R)+at:(q.text=oe(Math.pow(10,Xe),re,"","fakehover"),Ve==="D1"&&re._id.charAt(0)==="y"&&(q.dy-=q.fontSize/6))}else if(Be==="D")q.text=String(Math.round(Math.pow(10,r.mod(Xe,1)))),q.fontSize*=.75;else throw"unrecognized dtick "+String(Ve);if(re.dtick==="D1"){var nt=String(q.text).charAt(0);(nt==="0"||nt==="1")&&(re._id.charAt(0)==="y"?q.dx-=q.fontSize/4:(q.dy+=q.fontSize/2,q.dx+=(re.range[1]>re.range[0]?1:-1)*q.fontSize*(Xe<0?.5:.25)))}}function Dt(re,q){var He=re._categories[Math.round(q.x)];He===void 0&&(He=""),q.text=String(He)}function kt(re,q,He){var Ie=Math.round(q.x),Ue=re._categories[Ie]||[],Ve=Ue[1]===void 0?"":String(Ue[1]),Xe=Ue[0]===void 0?"":String(Ue[0]);He?q.text=Xe+" - "+Ve:(q.text=Ve,q.text2=Xe)}function At(re,q,He,Ie,Ue){Ue==="never"?Ue="":re.showexponent==="all"&&Math.abs(q.x/re.dtick)<1e-6&&(Ue="hide"),q.text=oe(q.x,re,Ue,Ie)}function Le(re,q,He,Ie,Ue){if(re.thetaunit==="radians"&&!He){var Ve=q.x/180;if(Ve===0)q.text="0";else{var Xe=Te(Ve);if(Xe[1]>=100)q.text=oe(r.deg2rad(q.x),re,Ue,Ie);else{var Ge=q.x<0;Xe[1]===1?Xe[0]===1?q.text="":q.text=Xe[0]+"":q.text=["<sup>",Xe[0],"</sup>","","<sub>",Xe[1],"</sub>",""].join(""),Ge&&(q.text=R+q.text)}}}else q.text=oe(q.x,re,Ue,Ie)}function Te(re){function q(Ge,Be){return Math.abs(Ge-Be)<=1e-6}function He(Ge,Be){return q(Be,0)?Ge:He(Be,Ge%Be)}function Ie(Ge){for(var Be=1;!q(Math.round(Ge*Be)/Be,Ge);)Be*=10;return Be}var Ue=Ie(re),Ve=re*Ue,Xe=Math.abs(He(Ve,Ue));return[Math.round(Ve/Xe),Math.round(Ue/Xe)]}var Pe=["f","p","n","","m","","k","M","G","T"];function Ce(re){return re==="SI"||re==="B"}function Oe(re){return re>14||re<-15}function oe(re,q,He,Ie){var Ue=re<0,Ve=q._tickround,Xe=He||q.exponentformat||"B",Ge=q._tickexponent,Be=le.getTickFormat(q),qe=q.separatethousands;if(Ie){var at={exponentformat:Xe,minexponent:q.minexponent,dtick:q.showexponent==="none"?q.dtick:g(re)&&Math.abs(re)||1,range:q.showexponent==="none"?q.range.map(q.r2d):[0,re||1]};tt(at),Ve=(Number(at._tickround)||0)+4,Ge=at._tickexponent,q.hoverformat&&(Be=q.hoverformat)}if(Be)return q._numFormat(Be)(re).replace(/-/g,R);var st=Math.pow(10,-Ve)/2;if(Xe==="none"&&(Ge=0),re=Math.abs(re),re<st)re="0",Ue=!1;else{if(re+=st,Ge&&(re*=Math.pow(10,-Ge),Ve+=Ge),Ve===0)re=String(Math.floor(re));else if(Ve<0){re=String(Math.round(re)),re=re.substr(0,re.length+Ve);for(var nt=Ve;nt<0;nt++)re+="0"}else{re=String(re);var pt=re.indexOf(".")+1;pt&&(re=re.substr(0,pt+Ve).replace(/\.?0+$/,""))}re=r.numSeparate(re,q._separators,qe)}if(Ge&&Xe!=="hide"){Ce(Xe)&&Oe(Ge)&&(Xe="power");var dt;Ge<0?dt=R+-Ge:Xe!=="power"?dt="+"+Ge:dt=String(Ge),Xe==="e"||Xe==="E"?re+=Xe+dt:Xe==="power"?re+="10<sup>"+dt+"</sup>":Xe==="B"&&Ge===9?re+="B":Ce(Xe)&&(re+=Pe[Ge/3+5])}return Ue?R+re:re}le.getTickFormat=function(re){var q;function He(Be){return typeof Be!="string"?Be:Number(Be.replace("M",""))*b}function Ie(Be,qe){var at=["L","D"];if(typeof Be==typeof qe){if(typeof Be=="number")return Be-qe;var st=at.indexOf(Be.charAt(0)),nt=at.indexOf(qe.charAt(0));return st===nt?Number(Be.replace(/(L|D)/g,""))-Number(qe.replace(/(L|D)/g,"")):st-nt}else return typeof Be=="number"?1:-1}function Ue(Be,qe,at){var st=at||function(dt){return dt},nt=qe[0],pt=qe[1];return(!nt&&typeof nt!="number"||st(nt)<=st(Be))&&(!pt&&typeof pt!="number"||st(pt)>=st(Be))}function Ve(Be,qe){var at=qe[0]===null,st=qe[1]===null,nt=Ie(Be,qe[0])>=0,pt=Ie(Be,qe[1])<=0;return(at||nt)&&(st||pt)}var Xe,Ge;if(re.tickformatstops&&re.tickformatstops.length>0)switch(re.type){case"date":case"linear":{for(q=0;q<re.tickformatstops.length;q++)if(Ge=re.tickformatstops[q],Ge.enabled&&Ue(re.dtick,Ge.dtickrange,He)){Xe=Ge;break}break}case"log":{for(q=0;q<re.tickformatstops.length;q++)if(Ge=re.tickformatstops[q],Ge.enabled&&Ve(re.dtick,Ge.dtickrange)){Xe=Ge;break}break}}return Xe?Xe.value:re.tickformat},le.getSubplots=function(re,q){var He=re._fullLayout._subplots,Ie=He.cartesian.concat(He.gl2d||[]),Ue=q?le.findSubplotsWithAxis(Ie,q):Ie;return Ue.sort(function(Ve,Xe){var Ge=Ve.substr(1).split("y"),Be=Xe.substr(1).split("y");return Ge[0]===Be[0]?+Ge[1]-+Be[1]:+Ge[0]-+Be[0]}),Ue},le.findSubplotsWithAxis=function(re,q){for(var He=new RegExp(q._id.charAt(0)==="x"?"^"+q._id+"y":q._id+"$"),Ie=[],Ue=0;Ue<re.length;Ue++){var Ve=re[Ue];He.test(Ve)&&Ie.push(Ve)}return Ie},le.makeClipPaths=function(re){var q=re._fullLayout;if(!q._hasOnlyLargeSploms){var He={_offset:0,_length:q.width,_id:""},Ie={_offset:0,_length:q.height,_id:""},Ue=le.list(re,"x",!0),Ve=le.list(re,"y",!0),Xe=[],Ge,Be;for(Ge=0;Ge<Ue.length;Ge++)for(Xe.push({x:Ue[Ge],y:Ie}),Be=0;Be<Ve.length;Be++)Ge===0&&Xe.push({x:He,y:Ve[Be]}),Xe.push({x:Ue[Ge],y:Ve[Be]});var qe=q._clips.selectAll(".axesclip").data(Xe,function(at){return at.x._id+at.y._id});qe.enter().append("clipPath").classed("axesclip",!0).attr("id",function(at){return"clip"+q._uid+at.x._id+at.y._id}).append("rect"),qe.exit().remove(),qe.each(function(at){o.select(this).select("rect").attr({x:at.x._offset||0,y:at.y._offset||0,width:at.x._length||1,height:at.y._length||1})})}},le.draw=function(re,q,He){var Ie=re._fullLayout;q==="redraw"&&Ie._paper.selectAll("g.subplot").each(function(Be){var qe=Be[0],at=Ie._plots[qe];if(at){var st=at.xaxis,nt=at.yaxis;at.xaxislayer.selectAll("."+st._id+"tick").remove(),at.yaxislayer.selectAll("."+nt._id+"tick").remove(),at.xaxislayer.selectAll("."+st._id+"tick2").remove(),at.yaxislayer.selectAll("."+nt._id+"tick2").remove(),at.xaxislayer.selectAll("."+st._id+"divider").remove(),at.yaxislayer.selectAll("."+nt._id+"divider").remove(),at.minorGridlayer&&at.minorGridlayer.selectAll("path").remove(),at.gridlayer&&at.gridlayer.selectAll("path").remove(),at.zerolinelayer&&at.zerolinelayer.selectAll("path").remove(),Ie._infolayer.select(".g-"+st._id+"title").remove(),Ie._infolayer.select(".g-"+nt._id+"title").remove()}});var Ue=!q||q==="redraw"?le.listIds(re):q,Ve=le.list(re),Xe=Ve.filter(function(Be){return Be.autoshift}).map(function(Be){return Be.overlaying});Ue.map(function(Be){var qe=le.getFromId(re,Be);if(qe.tickmode==="sync"&&qe.overlaying){var at=Ue.findIndex(function(st){return st===qe.overlaying});at>=0&&Ue.unshift(Ue.splice(at,1).shift())}});var Ge={false:{left:0,right:0}};return r.syncOrAsync(Ue.map(function(Be){return function(){if(Be){var qe=le.getFromId(re,Be);He||(He={}),He.axShifts=Ge,He.overlayingShiftedAx=Xe;var at=le.drawOne(re,qe,He);return qe._shiftPusher&&lr(qe,qe._fullDepth||0,Ge,!0),qe._r=qe.range.slice(),qe._rl=r.simpleMap(qe._r,qe.r2l),at}}}))},le.drawOne=function(re,q,He){He=He||{};var Ie=He.axShifts||{},Ue=He.overlayingShiftedAx||[],Ve,Xe,Ge;q.setScale();var Be=re._fullLayout,qe=q._id,at=qe.charAt(0),st=le.counterLetter(qe),nt=Be._plots[q._mainSubplot];if(!nt)return;if(q._shiftPusher=q.autoshift||Ue.indexOf(q._id)!==-1||Ue.indexOf(q.overlaying)!==-1,q._shiftPusher&q.anchor==="free"){var pt=q.linewidth/2||0;q.ticks==="inside"&&(pt+=q.ticklen),lr(q,pt,Ie,!0),lr(q,q.shift||0,Ie,!1)}(He.skipTitle!==!0||q._shift===void 0)&&(q._shift=Yt(q,Ie));var dt=nt[at+"axislayer"],ut=q._mainLinePosition,Pt=ut+=q._shift,Lt=q._mainMirrorPosition,$t=q._vals=le.calcTicks(q),Et=[q.mirror,Pt,Lt].join("_");for(Ve=0;Ve<$t.length;Ve++)$t[Ve].axInfo=Et;q._selections={},q._tickAngles&&(q._prevTickAngles=q._tickAngles),q._tickAngles={},q._depth=null;var ar={};function Ft(Or){var sa=qe+(Or||"tick");return ar[sa]||(ar[sa]=_e(q,sa)),ar[sa]}if(q.visible){var Wt=le.makeTransTickFn(q),nr=le.makeTransTickLabelFn(q),ir,or,Mr=q.ticks==="inside",sr=q.ticks==="outside";if(q.tickson==="boundaries"){var dr=De(q,$t);or=le.clipEnds(q,dr),ir=Mr?or:dr}else or=le.clipEnds(q,$t),ir=Mr&&q.ticklabelmode!=="period"?or:$t;var Tr=q._gridVals=or,vr=ze(q,$t);if(!Be._hasOnlyLargeSploms){var yr=q._subplotsWith,hr={};for(Ve=0;Ve<yr.length;Ve++){Xe=yr[Ve],Ge=Be._plots[Xe];var gr=Ge[st+"axis"],Sr=gr._mainAxis._id;if(!hr[Sr]){hr[Sr]=1;var Dr=at==="x"?"M0,"+gr._offset+"v"+gr._length:"M"+gr._offset+",0h"+gr._length;le.drawGrid(re,q,{vals:Tr,counterAxis:gr,layer:Ge.gridlayer.select("."+qe),minorLayer:Ge.minorGridlayer.select("."+qe),path:Dr,transFn:Wt}),le.drawZeroLine(re,q,{counterAxis:gr,layer:Ge.zerolinelayer,path:Dr,transFn:Wt})}}}var kr,wr=le.getTickSigns(q),Nr=le.getTickSigns(q,"minor");if(q.ticks||q.minor&&q.minor.ticks){var Lr=le.makeTickPath(q,Pt,wr[2]),pr=le.makeTickPath(q,Pt,Nr[2],{minor:!0}),Rr,Fr,Hr,Gr;if(q._anchorAxis&&q.mirror&&q.mirror!==!0?(Rr=le.makeTickPath(q,Lt,wr[3]),Fr=le.makeTickPath(q,Lt,Nr[3],{minor:!0}),Hr=Lr+Rr,Gr=pr+Fr):(Rr="",Fr="",Hr=Lr,Gr=pr),q.showdividers&&sr&&q.tickson==="boundaries"){var $r={};for(Ve=0;Ve<vr.length;Ve++)$r[vr[Ve].x]=1;kr=function(Or){return $r[Or.x]?Rr:Hr}}else kr=function(Or){return Or.minor?Gr:Hr}}if(le.drawTicks(re,q,{vals:ir,layer:dt,path:kr,transFn:Wt}),q.mirror==="allticks"){var oa=Object.keys(q._linepositions||{});for(Ve=0;Ve<oa.length;Ve++){Xe=oa[Ve],Ge=Be._plots[Xe];var Cr=q._linepositions[Xe]||[],zr=Cr[0],ca=Cr[1],ea=Cr[2],Ta=le.makeTickPath(q,zr,ea?wr[0]:Nr[0],{minor:ea})+le.makeTickPath(q,ca,ea?wr[1]:Nr[1],{minor:ea});le.drawTicks(re,q,{vals:ir,layer:Ge[at+"axislayer"],path:Ta,transFn:Wt})}}var ya=[];if(ya.push(function(){return le.drawLabels(re,q,{vals:$t,layer:dt,plotinfo:Ge,transFn:nr,labelFns:le.makeLabelFns(q,Pt)})}),q.type==="multicategory"){var Va={x:2,y:10}[at];ya.push(function(){var Or={x:"height",y:"width"}[at],sa=Ft()[Or]+Va+(q._tickAngles[qe+"tick"]?q.tickfont.size*fe:0);return le.drawLabels(re,q,{vals:Se(q,$t),layer:dt,cls:qe+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Wt,labelFns:le.makeLabelFns(q,Pt+sa*wr[4])})}),ya.push(function(){return q._depth=wr[4]*(Ft("tick2")[q.side]-Pt),Ye(re,q,{vals:vr,layer:dt,path:le.makeTickPath(q,Pt,wr[4],{len:q._depth}),transFn:Wt})})}else q.title.hasOwnProperty("standoff")&&ya.push(function(){q._depth=wr[4]*(Ft()[q.side]-Pt)});var _a=i.getComponentMethod("rangeslider","isVisible")(q);return!He.skipTitle&&!(_a&&q.side==="bottom")&&ya.push(function(){return wt(re,q)}),ya.push(function(){var Or=q.side.charAt(0),sa=ye[q.side].charAt(0),ta=le.getPxPosition(re,q),ra=sr?q.ticklen:0,Br,Vr,pa,Ha;(q.automargin||_a||q._shiftPusher)&&(q.type==="multicategory"?Br=Ft("tick2"):(Br=Ft(),at==="x"&&Or==="b"&&(q._depth=Math.max(Br.width>0?Br.bottom-ta:0,ra))));var Ma=0,Oa=0;if(q._shiftPusher&&(Ma=Math.max(ra,Br.height>0?Or==="l"?ta-Br.left:Br.right-ta:0),q.title.text!==Be._dfltTitle[at]&&(Oa=(q._titleStandoff||0)+(q._titleScoot||0),Or==="l"&&(Oa+=it(q))),q._fullDepth=Math.max(Ma,Oa)),q.automargin){Vr={x:0,y:0,r:0,l:0,t:0,b:0};var va=[0,1],Ca=typeof q._shift=="number"?q._shift:0;if(at==="x"){if(Or==="b"?Vr[Or]=q._depth:(Vr[Or]=q._depth=Math.max(Br.width>0?ta-Br.top:0,ra),va.reverse()),Br.width>0){var Na=Br.right-(q._offset+q._length);Na>0&&(Vr.xr=1,Vr.r=Na);var Da=q._offset-Br.left;Da>0&&(Vr.xl=0,Vr.l=Da)}}else if(Or==="l"?(q._depth=Math.max(Br.height>0?ta-Br.left:0,ra),Vr[Or]=q._depth-Ca):(q._depth=Math.max(Br.height>0?Br.right-ta:0,ra),Vr[Or]=q._depth+Ca,va.reverse()),Br.height>0){var Aa=Br.bottom-(q._offset+q._length);Aa>0&&(Vr.yb=0,Vr.b=Aa);var wa=q._offset-Br.top;wa>0&&(Vr.yt=1,Vr.t=wa)}Vr[st]=q.anchor==="free"?q.position:q._anchorAxis.domain[va[0]],q.title.text!==Be._dfltTitle[at]&&(Vr[Or]+=it(q)+(q.title.standoff||0)),q.mirror&&q.anchor!=="free"&&(pa={x:0,y:0,r:0,l:0,t:0,b:0},pa[sa]=q.linewidth,q.mirror&&q.mirror!==!0&&(pa[sa]+=ra),q.mirror===!0||q.mirror==="ticks"?pa[st]=q._anchorAxis.domain[va[1]]:(q.mirror==="all"||q.mirror==="allticks")&&(pa[st]=[q._counterDomainMin,q._counterDomainMax][va[1]]))}_a&&(Ha=i.getComponentMethod("rangeslider","autoMarginOpts")(re,q)),typeof q.automargin=="string"&&(be(Vr,q.automargin),be(pa,q.automargin)),s.autoMargin(re,St(q),Vr),s.autoMargin(re,Gt(q),pa),s.autoMargin(re,Ot(q),Ha)}),r.syncOrAsync(ya)}};function be(re,q){if(re){var He=Object.keys(W).reduce(function(Ie,Ue){return q.indexOf(Ue)!==-1&&W[Ue].forEach(function(Ve){Ie[Ve]=1}),Ie},{});Object.keys(re).forEach(function(Ie){He[Ie]||(Ie.length===1?re[Ie]=0:delete re[Ie])})}}function De(re,q){var He=[],Ie,Ue=function(Ve,Xe){var Ge=Ve.xbnd[Xe];Ge!==null&&He.push(r.extendFlat({},Ve,{x:Ge}))};if(q.length){for(Ie=0;Ie<q.length;Ie++)Ue(q[Ie],0);Ue(q[Ie-1],1)}return He}function Se(re,q){for(var He=[],Ie={},Ue=0;Ue<q.length;Ue++){var Ve=q[Ue];Ie[Ve.text2]?Ie[Ve.text2].push(Ve.x):Ie[Ve.text2]=[Ve.x]}for(var Xe in Ie)He.push(Ct(re,r.interp(Ie[Xe],.5),Xe));return He}function ze(re,q){var He=[],Ie,Ue,Ve=q.length&&q[q.length-1].x<q[0].x,Xe=function(Be,qe){var at=Be.xbnd[qe];at!==null&&He.push(r.extendFlat({},Be,{x:at}))};if(re.showdividers&&q.length){for(Ie=0;Ie<q.length;Ie++){var Ge=q[Ie];Ge.text2!==Ue&&Xe(Ge,Ve?1:0),Ue=Ge.text2}Xe(q[Ie-1],Ve?0:1)}return He}function _e(re,q){var He,Ie,Ue,Ve;return re._selections[q].size()?(He=1/0,Ie=-1/0,Ue=1/0,Ve=-1/0,re._selections[q].each(function(){var Xe=Ut(this),Ge=u.bBox(Xe.node().parentNode);He=Math.min(He,Ge.top),Ie=Math.max(Ie,Ge.bottom),Ue=Math.min(Ue,Ge.left),Ve=Math.max(Ve,Ge.right)})):(He=0,Ie=0,Ue=0,Ve=0),{top:He,bottom:Ie,left:Ue,right:Ve,height:Ie-He,width:Ve-Ue}}le.getTickSigns=function(re,q){var He=re._id.charAt(0),Ie={x:"top",y:"right"}[He],Ue=re.side===Ie?1:-1,Ve=[-1,1,Ue,-Ue],Xe=q?(re.minor||{}).ticks:re.ticks;return Xe!=="inside"==(He==="x")&&(Ve=Ve.map(function(Ge){return-Ge})),re.side&&Ve.push({l:-1,t:-1,r:1,b:1}[re.side.charAt(0)]),Ve},le.makeTransTickFn=function(re){return re._id.charAt(0)==="x"?function(q){return f(re._offset+re.l2p(q.x),0)}:function(q){return f(0,re._offset+re.l2p(q.x))}},le.makeTransTickLabelFn=function(re){var q=ot(re),He=q[0],Ie=q[1];return re._id.charAt(0)==="x"?function(Ue){return f(He+re._offset+re.l2p(ct(Ue)),Ie)}:function(Ue){return f(Ie,He+re._offset+re.l2p(ct(Ue)))}};function ct(re){return re.periodX!==void 0?re.periodX:re.x}function ot(re){var q=re.ticklabelposition||"",He=function(pt){return q.indexOf(pt)!==-1},Ie=He("top"),Ue=He("left"),Ve=He("right"),Xe=He("bottom"),Ge=He("inside"),Be=Xe||Ue||Ie||Ve;if(!Be&&!Ge)return[0,0];var qe=re.side,at=Be?(re.tickwidth||0)/2:0,st=Me,nt=re.tickfont?re.tickfont.size:12;return(Xe||Ie)&&(at+=nt*ne,st+=(re.linewidth||0)/2),(Ue||Ve)&&(at+=(re.linewidth||0)/2,st+=Me),Ge&&qe==="top"&&(st-=nt*(1-ne)),(Ue||Ie)&&(at=-at),(qe==="bottom"||qe==="right")&&(st=-st),[Be?at:0,Ge?st:0]}le.makeTickPath=function(re,q,He,Ie){Ie||(Ie={});var Ue=Ie.minor;if(Ue&&!re.minor)return"";var Ve=Ie.len!==void 0?Ie.len:Ue?re.minor.ticklen:re.ticklen,Xe=re._id.charAt(0),Ge=(re.linewidth||1)/2;return Xe==="x"?"M0,"+(q+Ge*He)+"v"+Ve*He:"M"+(q+Ge*He)+",0h"+Ve*He},le.makeLabelFns=function(re,q,He){var Ie=re.ticklabelposition||"",Ue=function(dr){return Ie.indexOf(dr)!==-1},Ve=Ue("top"),Xe=Ue("left"),Ge=Ue("right"),Be=Ue("bottom"),qe=Be||Xe||Ve||Ge,at=Ue("inside"),st=Ie==="inside"&&re.ticks==="inside"||!at&&re.ticks==="outside"&&re.tickson!=="boundaries",nt=0,pt=0,dt=st?re.ticklen:0;if(at?dt*=-1:qe&&(dt=0),st&&(nt+=dt,He)){var ut=r.deg2rad(He);nt=dt*Math.cos(ut)+1,pt=dt*Math.sin(ut)}re.showticklabels&&(st||re.showline)&&(nt+=.2*re.tickfont.size),nt+=(re.linewidth||1)/2*(at?-1:1);var Pt={labelStandoff:nt,labelShift:pt},Lt,$t,Et,ar,Ft=0,Wt=re.side,nr=re._id.charAt(0),ir=re.tickangle,or;if(nr==="x")or=!at&&Wt==="bottom"||at&&Wt==="top",ar=or?1:-1,at&&(ar*=-1),Lt=pt*ar,$t=q+nt*ar,Et=or?1:-.2,Math.abs(ir)===90&&(at?Et+=J:ir===-90&&Wt==="bottom"?Et=ne:ir===90&&Wt==="top"?Et=J:Et=.5,Ft=J/2*(ir/90)),Pt.xFn=function(dr){return dr.dx+Lt+Ft*dr.fontSize},Pt.yFn=function(dr){return dr.dy+$t+dr.fontSize*Et},Pt.anchorFn=function(dr,Tr){if(qe){if(Xe)return"end";if(Ge)return"start"}return!g(Tr)||Tr===0||Tr===180?"middle":Tr*ar<0!==at?"end":"start"},Pt.heightFn=function(dr,Tr,vr){return Tr<-60||Tr>60?-.5*vr:re.side==="top"!==at?-vr:0};else if(nr==="y"){if(or=!at&&Wt==="left"||at&&Wt==="right",ar=or?1:-1,at&&(ar*=-1),Lt=nt,$t=pt*ar,Et=0,!at&&Math.abs(ir)===90&&(ir===-90&&Wt==="left"||ir===90&&Wt==="right"?Et=ne:Et=.5),at){var Mr=g(ir)?+ir:0;if(Mr!==0){var sr=r.deg2rad(Mr);Ft=Math.abs(Math.sin(sr))*ne*ar,Et=0}}Pt.xFn=function(dr){return dr.dx+q-(Lt+dr.fontSize*Et)*ar+Ft*dr.fontSize},Pt.yFn=function(dr){return dr.dy+$t+dr.fontSize*J},Pt.anchorFn=function(dr,Tr){return g(Tr)&&Math.abs(Tr)===90?"middle":or?"end":"start"},Pt.heightFn=function(dr,Tr,vr){return re.side==="right"&&(Tr*=-1),Tr<-30?-vr:Tr<30?-.5*vr:0}}return Pt};function $e(re){return[re.text,re.x,re.axInfo,re.font,re.fontSize,re.fontColor].join("_")}le.drawTicks=function(re,q,He){He=He||{};var Ie=q._id+"tick",Ue=[].concat(q.minor&&q.minor.ticks?He.vals.filter(function(Xe){return Xe.minor&&!Xe.noTick}):[]).concat(q.ticks?He.vals.filter(function(Xe){return!Xe.minor&&!Xe.noTick}):[]),Ve=He.layer.selectAll("path."+Ie).data(Ue,$e);Ve.exit().remove(),Ve.enter().append("path").classed(Ie,1).classed("ticks",1).classed("crisp",He.crisp!==!1).each(function(Xe){return t.stroke(o.select(this),Xe.minor?q.minor.tickcolor:q.tickcolor)}).style("stroke-width",function(Xe){return u.crispRound(re,Xe.minor?q.minor.tickwidth:q.tickwidth,1)+"px"}).attr("d",He.path).style("display",null),rr(q,[F]),Ve.attr("transform",He.transFn)},le.drawGrid=function(re,q,He){if(He=He||{},q.tickmode!=="sync"){var Ie=q._id+"grid",Ue=q.minor&&q.minor.showgrid,Ve=Ue?He.vals.filter(function(Lt){return Lt.minor}):[],Xe=q.showgrid?He.vals.filter(function(Lt){return!Lt.minor}):[],Ge=He.counterAxis;if(Ge&&le.shouldShowZeroLine(re,q,Ge))for(var Be=q.tickmode==="array",qe=0;qe<Xe.length;qe++){var at=Xe[qe].x;if(Be?!at:Math.abs(at)<q.dtick/100)if(Xe=Xe.slice(0,qe).concat(Xe.slice(qe+1)),Be)qe--;else break}q._gw=u.crispRound(re,q.gridwidth,1);for(var st=Ue?u.crispRound(re,q.minor.gridwidth,1):0,nt=He.layer,pt=He.minorLayer,dt=1;dt>=0;dt--){var ut=dt?nt:pt;if(ut){var Pt=ut.selectAll("path."+Ie).data(dt?Xe:Ve,$e);Pt.exit().remove(),Pt.enter().append("path").classed(Ie,1).classed("crisp",He.crisp!==!1),Pt.attr("transform",He.transFn).attr("d",He.path).each(function(Lt){return t.stroke(o.select(this),Lt.minor?q.minor.gridcolor:q.gridcolor||"#ddd")}).style("stroke-dasharray",function(Lt){return u.dashStyle(Lt.minor?q.minor.griddash:q.griddash,Lt.minor?q.minor.gridwidth:q.gridwidth)}).style("stroke-width",function(Lt){return(Lt.minor?st:q._gw)+"px"}).style("display",null),typeof He.path=="function"&&Pt.attr("d",He.path)}}rr(q,[ie,N])}},le.drawZeroLine=function(re,q,He){He=He||He;var Ie=q._id+"zl",Ue=le.shouldShowZeroLine(re,q,He.counterAxis),Ve=He.layer.selectAll("path."+Ie).data(Ue?[{x:0,id:q._id}]:[]);Ve.exit().remove(),Ve.enter().append("path").classed(Ie,1).classed("zl",1).classed("crisp",He.crisp!==!1).each(function(){He.layer.selectAll("path").sort(function(Xe,Ge){return Y(Xe.id,Ge.id)})}),Ve.attr("transform",He.transFn).attr("d",He.path).call(t.stroke,q.zerolinecolor||t.defaultLine).style("stroke-width",u.crispRound(re,q.zerolinewidth,q._gw||1)+"px").style("display",null),rr(q,[$])},le.drawLabels=function(re,q,He){He=He||{};var Ie=re._fullLayout,Ue=q._id,Ve=Ue.charAt(0),Xe=He.cls||Ue+"tick",Ge=He.vals.filter(function(vr){return vr.text}),Be=He.labelFns,qe=He.secondary?0:q.tickangle,at=(q._prevTickAngles||{})[Xe],st=He.layer.selectAll("g."+Xe).data(q.showticklabels?Ge:[],$e),nt=[];st.enter().append("g").classed(Xe,1).append("text").attr("text-anchor","middle").each(function(vr){var yr=o.select(this),hr=re._promises.length;yr.call(l.positionText,Be.xFn(vr),Be.yFn(vr)).call(u.font,vr.font,vr.fontSize,vr.fontColor).text(vr.text).call(l.convertToTspans,re),re._promises[hr]?nt.push(re._promises.pop().then(function(){pt(yr,qe)})):pt(yr,qe)}),rr(q,[G]),st.exit().remove(),He.repositionOnUpdate&&st.each(function(vr){o.select(this).select("text").call(l.positionText,Be.xFn(vr),Be.yFn(vr))});function pt(vr,yr){vr.each(function(hr){var gr=o.select(this),Sr=gr.select(".text-math-group"),Dr=Be.anchorFn(hr,yr),kr=He.transFn.call(gr.node(),hr)+(g(yr)&&+yr!=0?" rotate("+yr+","+Be.xFn(hr)+","+(Be.yFn(hr)-hr.fontSize/2)+")":""),wr=l.lineCount(gr),Nr=fe*hr.fontSize,Lr=Be.heightFn(hr,g(yr)?+yr:0,(wr-1)*Nr);if(Lr&&(kr+=f(0,Lr)),Sr.empty()){var pr=gr.select("text");pr.attr({transform:kr,"text-anchor":Dr}),pr.style("opacity",1),q._adjustTickLabelsOverflow&&q._adjustTickLabelsOverflow()}else{var Rr=u.bBox(Sr.node()).width,Fr=Rr*{end:-.5,start:.5}[Dr];Sr.attr("transform",kr+f(Fr,0))}})}q._adjustTickLabelsOverflow=function(){var vr=q.ticklabeloverflow;if(!(!vr||vr==="allow")){var yr=vr.indexOf("hide")!==-1,hr=q._id.charAt(0)==="x",gr=0,Sr=hr?re._fullLayout.width:re._fullLayout.height;if(vr.indexOf("domain")!==-1){var Dr=r.simpleMap(q.range,q.r2l);gr=q.l2p(Dr[0])+q._offset,Sr=q.l2p(Dr[1])+q._offset}var kr=Math.min(gr,Sr),wr=Math.max(gr,Sr),Nr=q.side,Lr=1/0,pr=-1/0;st.each(function(Gr){var $r=o.select(this),oa=$r.select(".text-math-group");if(oa.empty()){var Cr=u.bBox($r.node()),zr=0;hr?(Cr.right>wr||Cr.left<kr)&&(zr=1):(Cr.bottom>wr||Cr.top+(q.tickangle?0:Gr.fontSize/4)<kr)&&(zr=1);var ca=$r.select("text");zr?yr&&ca.style("opacity",0):(ca.style("opacity",1),Nr==="bottom"||Nr==="right"?Lr=Math.min(Lr,hr?Cr.top:Cr.left):Lr=-1/0,Nr==="top"||Nr==="left"?pr=Math.max(pr,hr?Cr.bottom:Cr.right):pr=1/0)}});for(var Rr in Ie._plots){var Fr=Ie._plots[Rr];if(!(q._id!==Fr.xaxis._id&&q._id!==Fr.yaxis._id)){var Hr=hr?Fr.yaxis:Fr.xaxis;Hr&&(Hr["_visibleLabelMin_"+q._id]=Lr,Hr["_visibleLabelMax_"+q._id]=pr)}}}},q._hideCounterAxisInsideTickLabels=function(vr){var yr=q._id.charAt(0)==="x",hr=[];for(var gr in Ie._plots){var Sr=Ie._plots[gr];q._id!==Sr.xaxis._id&&q._id!==Sr.yaxis._id||hr.push(yr?Sr.yaxis:Sr.xaxis)}hr.forEach(function(Dr,kr){Dr&&Jt(Dr)&&(vr||[$,N,ie,F,G]).forEach(function(wr){var Nr=wr.K==="tick"&&wr.L==="text"&&q.ticklabelmode==="period",Lr=Ie._plots[q._mainSubplot],pr;wr.K===$.K?pr=Lr.zerolinelayer.selectAll("."+q._id+"zl"):wr.K===N.K?pr=Lr.minorGridlayer.selectAll("."+q._id):wr.K===ie.K?pr=Lr.gridlayer.selectAll("."+q._id):pr=Lr[q._id.charAt(0)+"axislayer"],pr.each(function(){var Rr=o.select(this);wr.L&&(Rr=Rr.selectAll(wr.L)),Rr.each(function(Fr){var Hr=q.l2p(Nr?ct(Fr):Fr.x)+q._offset,Gr=o.select(this);Hr<q["_visibleLabelMax_"+Dr._id]&&Hr>q["_visibleLabelMin_"+Dr._id]?Gr.style("display","none"):wr.K==="tick"&&!kr&&Gr.style("display",null)})})})})},pt(st,at+1?at:qe);function dt(){return nt.length&&Promise.all(nt)}var ut=null;function Pt(){if(pt(st,qe),Ge.length&&Ve==="x"&&!g(qe)&&(q.type!=="log"||String(q.dtick).charAt(0)!=="D")){ut=0;var vr=0,yr=[],hr;if(st.each(function(Cr){vr=Math.max(vr,Cr.fontSize);var zr=q.l2p(Cr.x),ca=Ut(this),ea=u.bBox(ca.node());yr.push({top:0,bottom:10,height:10,left:zr-ea.width/2,right:zr+ea.width/2+2,width:ea.width+2})}),(q.tickson==="boundaries"||q.showdividers)&&!He.secondary){var gr=2;for(q.ticks&&(gr+=q.tickwidth/2),hr=0;hr<yr.length;hr++){var Sr=Ge[hr].xbnd,Dr=yr[hr];if(Sr[0]!==null&&Dr.left-q.l2p(Sr[0])<gr||Sr[1]!==null&&q.l2p(Sr[1])-Dr.right<gr){ut=90;break}}}else{var kr=Ge.length,wr=Math.abs((Ge[kr-1].x-Ge[0].x)*q._m)/(kr-1),Nr=q.ticklabelposition||"",Lr=function(Cr){return Nr.indexOf(Cr)!==-1},pr=Lr("top"),Rr=Lr("left"),Fr=Lr("right"),Hr=Lr("bottom"),Gr=Hr||Rr||pr||Fr,$r=Gr?(q.tickwidth||0)+2*Me:0,oa=wr<vr*2.5||q.type==="multicategory"||q._name==="realaxis";for(hr=0;hr<yr.length-1;hr++)if(r.bBoxIntersect(yr[hr],yr[hr+1],$r)){ut=oa?90:30;break}}ut&&pt(st,ut)}}q._selections&&(q._selections[Xe]=st);var Lt=[dt];q.automargin&&Ie._redrawFromAutoMarginCount&&at===90?(ut=90,Lt.push(function(){pt(st,at)})):Lt.push(Pt),q._tickAngles&&Lt.push(function(){q._tickAngles[Xe]=ut===null?g(qe)?qe:0:ut});var $t=function(){var vr=0,yr=0;return st.each(function(hr,gr){var Sr=Ut(this),Dr=Sr.select(".text-math-group");if(Dr.empty()){var kr;q._vals[gr]&&(kr=q._vals[gr].bb||u.bBox(Sr.node()),q._vals[gr].bb=kr),vr=Math.max(vr,kr.width),yr=Math.max(yr,kr.height)}}),{labelsMaxW:vr,labelsMaxH:yr}},Et=q._anchorAxis;if(Et&&(Et.autorange||Et.insiderange)&&Jt(q)&&!S(Ie,q._id)&&(Ie._insideTickLabelsUpdaterange||(Ie._insideTickLabelsUpdaterange={}),Et.autorange&&(Ie._insideTickLabelsUpdaterange[Et._name+".autorange"]=Et.autorange,Lt.push($t)),Et.insiderange)){var ar=$t(),Ft=q._id.charAt(0)==="y"?ar.labelsMaxW:ar.labelsMaxH;Ft+=2*Me,q.ticklabelposition==="inside"&&(Ft+=q.ticklen||0);var Wt=q.side==="right"||q.side==="top"?1:-1,nr=Wt===1?1:0,ir=Wt===1?0:1,or=[];or[ir]=Et.range[ir];var Mr=Et.d2p(Et.range[nr]),sr=Et.d2p(Et.range[ir]),dr=Math.abs(sr-Mr);dr-Ft>0?(dr-=Ft,Ft*=1+Ft/dr):Ft=0,q._id.charAt(0)!=="y"&&(Ft=-Ft),or[nr]=Et.p2d(Et.d2p(Et.range[nr])+Wt*Ft),Et.autorange==="min"||Et.autorange==="max reversed"?(or[0]=null,Et._rangeInitial0=void 0,Et._rangeInitial1=void 0):(Et.autorange==="max"||Et.autorange==="min reversed")&&(or[1]=null,Et._rangeInitial0=void 0,Et._rangeInitial1=void 0),Ie._insideTickLabelsUpdaterange[Et._name+".range"]=or}var Tr=r.syncOrAsync(Lt);return Tr&&Tr.then&&re._promises.push(Tr),Tr};function Ye(re,q,He){var Ie=q._id+"divider",Ue=He.vals,Ve=He.layer.selectAll("path."+Ie).data(Ue,$e);Ve.exit().remove(),Ve.enter().insert("path",":first-child").classed(Ie,1).classed("crisp",1).call(t.stroke,q.dividercolor).style("stroke-width",u.crispRound(re,q.dividerwidth,1)+"px"),Ve.attr("transform",He.transFn).attr("d",He.path)}le.getPxPosition=function(re,q){var He=re._fullLayout._size,Ie=q._id.charAt(0),Ue=q.side,Ve;if(q.anchor!=="free"?Ve=q._anchorAxis:Ie==="x"?Ve={_offset:He.t+(1-(q.position||0))*He.h,_length:0}:Ie==="y"&&(Ve={_offset:He.l+(q.position||0)*He.w+q._shift,_length:0}),Ue==="top"||Ue==="left")return Ve._offset;if(Ue==="bottom"||Ue==="right")return Ve._offset+Ve._length};function it(re){var q=re.title.font.size,He=(re.title.text.match(l.BR_TAG_ALL)||[]).length;return re.title.hasOwnProperty("standoff")?He?q*(ne+He*fe):q*ne:He?q*(He+1)*fe:q}function wt(re,q){var He=re._fullLayout,Ie=q._id,Ue=Ie.charAt(0),Ve=q.title.font.size,Xe;if(q.title.hasOwnProperty("standoff"))Xe=q._depth+q.title.standoff+it(q);else{var Ge=Jt(q);if(q.type==="multicategory")Xe=q._depth;else{var Be=1.5*Ve;Ge&&(Be=.5*Ve,q.ticks==="outside"&&(Be+=q.ticklen)),Xe=10+Be+(q.linewidth?q.linewidth-1:0)}Ge||(Ue==="x"?Xe+=q.side==="top"?Ve*(q.showticklabels?1:0):Ve*(q.showticklabels?1.5:.5):Xe+=q.side==="right"?Ve*(q.showticklabels?1:.5):Ve*(q.showticklabels?.5:0))}var qe=le.getPxPosition(re,q),at,st,nt;Ue==="x"?(st=q._offset+q._length/2,nt=q.side==="top"?qe-Xe:qe+Xe):(nt=q._offset+q._length/2,st=q.side==="right"?qe+Xe:qe-Xe,at={rotate:"-90",offset:0});var pt;if(q.type!=="multicategory"){var dt=q._selections[q._id+"tick"];if(pt={selection:dt,side:q.side},dt&&dt.node()&&dt.node().parentNode){var ut=u.getTranslate(dt.node().parentNode);pt.offsetLeft=ut.x,pt.offsetTop=ut.y}q.title.hasOwnProperty("standoff")&&(pt.pad=0)}return q._titleStandoff=Xe,n.draw(re,Ie+"title",{propContainer:q,propName:q._name+".title.text",placeholder:He._dfltTitle[Ue],avoid:pt,transform:at,attributes:{x:st,y:nt,"text-anchor":"middle"}})}le.shouldShowZeroLine=function(re,q,He){var Ie=r.simpleMap(q.range,q.r2l);return Ie[0]*Ie[1]<=0&&q.zeroline&&(q.type==="linear"||q.type==="-")&&!(q.rangebreaks&&q.maskBreaks(0)===Z)&&(Rt(q,0)||!Ht(re,q,He,Ie)||Vt(re,q))},le.clipEnds=function(re,q){return q.filter(function(He){return Rt(re,He.x)})};function Rt(re,q){var He=re.l2p(q);return He>1&&He<re._length-1}function Ht(re,q,He,Ie){var Ue=He._mainAxis;if(!Ue)return;var Ve=re._fullLayout,Xe=q._id.charAt(0),Ge=le.counterLetter(q._id),Be=q._offset+(Math.abs(Ie[0])<Math.abs(Ie[1])==(Xe==="x")?0:q._length);function qe(dt){if(!dt.showline||!dt.linewidth)return!1;var ut=Math.max((dt.linewidth+q.zerolinewidth)/2,1);function Pt(Et){return typeof Et=="number"&&Math.abs(Et-Be)<ut}if(Pt(dt._mainLinePosition)||Pt(dt._mainMirrorPosition))return!0;var Lt=dt._linepositions||{};for(var $t in Lt)if(Pt(Lt[$t][0])||Pt(Lt[$t][1]))return!0}var at=Ve._plots[He._mainSubplot];if(!(at.mainplotinfo||at).overlays.length)return qe(He);for(var st=le.list(re,Ge),nt=0;nt<st.length;nt++){var pt=st[nt];if(pt._mainAxis===Ue&&qe(pt))return!0}}function Vt(re,q){for(var He=re._fullData,Ie=q._mainSubplot,Ue=q._id.charAt(0),Ve=0;Ve<He.length;Ve++){var Xe=He[Ve];if(Xe.visible===!0&&Xe.xaxis+Xe.yaxis===Ie&&(i.traceIs(Xe,"bar-like")&&Xe.orientation==={x:"h",y:"v"}[Ue]||Xe.fill&&Xe.fill.charAt(Xe.fill.length-1)===Ue))return!0}return!1}function Ut(re){var q=o.select(re),He=q.select(".text-math-group");return He.empty()?q.select("text"):He}le.allowAutoMargin=function(re){for(var q=le.list(re,"",!0),He=0;He<q.length;He++){var Ie=q[He];Ie.automargin&&(s.allowAutoMargin(re,St(Ie)),Ie.mirror&&s.allowAutoMargin(re,Gt(Ie))),i.getComponentMethod("rangeslider","isVisible")(Ie)&&s.allowAutoMargin(re,Ot(Ie))}};function St(re){return re._id+".automargin"}function Gt(re){return St(re)+".mirror"}function Ot(re){return re._id+".rangeslider"}le.swap=function(re,q){for(var He=It(re,q),Ie=0;Ie<He.length;Ie++)Bt(re,He[Ie].x,He[Ie].y)};function It(re,q){var He=[],Ie,Ue;for(Ie=0;Ie<q.length;Ie++){var Ve=[],Xe=re._fullData[q[Ie]].xaxis,Ge=re._fullData[q[Ie]].yaxis;if(!(!Xe||!Ge)){for(Ue=0;Ue<He.length;Ue++)(He[Ue].x.indexOf(Xe)!==-1||He[Ue].y.indexOf(Ge)!==-1)&&Ve.push(Ue);if(!Ve.length){He.push({x:[Xe],y:[Ge]});continue}var Be=He[Ve[0]],qe;if(Ve.length>1)for(Ue=1;Ue<Ve.length;Ue++)qe=He[Ve[Ue]],Qt(Be.x,qe.x),Qt(Be.y,qe.y);Qt(Be.x,[Xe]),Qt(Be.y,[Ge])}}return He}function Qt(re,q){for(var He=0;He<q.length;He++)re.indexOf(q[He])===-1&&re.push(q[He])}function Bt(re,q,He){var Ie=[],Ue=[],Ve=re.layout,Xe,Ge;for(Xe=0;Xe<q.length;Xe++)Ie.push(le.getFromId(re,q[Xe]));for(Xe=0;Xe<He.length;Xe++)Ue.push(le.getFromId(re,He[Xe]));var Be=Object.keys(h),qe=["anchor","domain","overlaying","position","side","tickangle","editType"],at=["linear","log"];for(Xe=0;Xe<Be.length;Xe++){var st=Be[Xe],nt=Ie[0][st],pt=Ue[0][st],dt=!0,ut=!1,Pt=!1;if(!(st.charAt(0)==="_"||typeof nt=="function"||qe.indexOf(st)!==-1)){for(Ge=1;Ge<Ie.length&&dt;Ge++){var Lt=Ie[Ge][st];st==="type"&&at.indexOf(nt)!==-1&&at.indexOf(Lt)!==-1&&nt!==Lt?ut=!0:Lt!==nt&&(dt=!1)}for(Ge=1;Ge<Ue.length&&dt;Ge++){var $t=Ue[Ge][st];st==="type"&&at.indexOf(pt)!==-1&&at.indexOf($t)!==-1&&pt!==$t?Pt=!0:Ue[Ge][st]!==pt&&(dt=!1)}dt&&(ut&&(Ve[Ie[0]._name].type="linear"),Pt&&(Ve[Ue[0]._name].type="linear"),xt(Ve,st,Ie,Ue,re._fullLayout._dfltTitle))}}for(Xe=0;Xe<re._fullLayout.annotations.length;Xe++){var Et=re._fullLayout.annotations[Xe];q.indexOf(Et.xref)!==-1&&He.indexOf(Et.yref)!==-1&&r.swapAttrs(Ve.annotations[Xe],["?"])}}function xt(re,q,He,Ie,Ue){var Ve=r.nestedProperty,Xe=Ve(re[He[0]._name],q).get(),Ge=Ve(re[Ie[0]._name],q).get(),Be;for(q==="title"&&(Xe&&Xe.text===Ue.x&&(Xe.text=Ue.y),Ge&&Ge.text===Ue.y&&(Ge.text=Ue.x)),Be=0;Be<He.length;Be++)Ve(re,He[Be]._name+"."+q).set(Ge);for(Be=0;Be<Ie.length;Be++)Ve(re,Ie[Be]._name+"."+q).set(Xe)}function _t(re){return re._id==="angularaxis"}function Nt(re,q){for(var He=q._rangebreaks.length,Ie=0;Ie<He;Ie++){var Ue=q._rangebreaks[Ie];if(re>=Ue.min&&re<Ue.max)return Ue.max}return re}function Jt(re){return(re.ticklabelposition||"").indexOf("inside")!==-1}function rr(re,q){Jt(re._anchorAxis||{})&&re._hideCounterAxisInsideTickLabels&&re._hideCounterAxisInsideTickLabels(q)}function lr(re,q,He,Ie){var Ue=re.anchor!=="free"&&(re.overlaying===void 0||re.overlaying===!1)?re._id:re.overlaying,Ve;Ie?Ve=re.side==="right"?q:-q:Ve=q,Ue in He||(He[Ue]={}),re.side in He[Ue]||(He[Ue][re.side]=0),He[Ue][re.side]+=Ve}function Yt(re,q){return re.autoshift?q[re.overlaying][re.side]:re.shift||0}},4322:function(te,I,e){var o=e(2770),g=e(1828),s=e(606).BADNUM,i=g.isArrayOrTypedArray,r=g.isDateTime,f=g.cleanNumber,l=Math.round;te.exports=function(T,x,M){var c=T,p=M.noMultiCategory;if(i(c)&&!c.length)return"-";if(!p&&y(c))return"multicategory";if(p&&Array.isArray(c[0])){for(var v=[],b=0;b<c.length;b++)if(i(c[b]))for(var w=0;w<c[b].length;w++)v.push(c[b][w]);c=v}if(u(c,x))return"date";var _=M.autotypenumbers!=="strict";return m(c,_)?"category":t(c,_)?"linear":"-"};function n(d,T){return T?o(d):typeof d=="number"}function t(d,T){for(var x=d.length,M=0;M<x;M++)if(n(d[M],T))return!0;return!1}function u(d,T){for(var x=d.length,M=h(x),c=0,p=0,v={},b=0;b<x;b+=M){var w=l(b),_=d[w],D=String(_);v[D]||(v[D]=1,r(_,T)&&c++,o(_)&&p++)}return c>p*2}function h(d){return Math.max(1,(d-1)/1e3)}function m(d,T){for(var x=d.length,M=h(x),c=0,p=0,v={},b=0;b<x;b+=M){var w=l(b),_=d[w],D=String(_);if(!v[D]){v[D]=1;var B=typeof _;B==="boolean"?p++:(T?f(_)!==s:B==="number")?c++:B==="string"&&p++}}return p>c*2}function y(d){return i(d[0])&&i(d[1])}},1453:function(te,I,e){var o=e(2770),g=e(3972),s=e(1828),i=e(4467),r=e(5501),f=e(3838),l=e(6218),n=e(8701),t=e(6115),u=e(9426),h=e(5258),m=e(2128),y=e(3608),d=e(1994),T=e(5555).WEEKDAY_PATTERN,x=e(5555).HOUR_PATTERN;te.exports=function(b,w,_,D,B){var U=D.letter,L=D.font||{},O=D.splomStash||{},R=_("visible",!D.visibleDflt),Z=w._template||{},$=w.type||Z.type||"-",ie;if($==="date"){var N=g.getComponentMethod("calendars","handleDefaults");N(b,w,"calendar",D.calendar),D.noTicklabelmode||(ie=_("ticklabelmode"))}var F="";(!D.noTicklabelposition||$==="multicategory")&&(F=s.coerce(b,w,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:ie==="period"?["outside","inside"]:U==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),D.noTicklabeloverflow||_("ticklabeloverflow",F.indexOf("inside")!==-1?"hide past domain":$==="category"||$==="multicategory"?"allow":"hide past div"),d(w,B),y(b,w,_,D),h(b,w,_,D),$!=="category"&&!D.noHover&&_("hoverformat");var G=_("color"),W=G!==f.color.dflt?G:L.color,X=O.label||B._dfltTitle[U];if(u(b,w,_,$,D),!R)return w;_("title.text",X),s.coerceFont(_,"title.font",{family:L.family,size:s.bigFont(L.size),color:W}),l(b,w,_,$);var J=D.hasMinor;if(J&&(i.newContainer(w,"minor"),l(b,w,_,$,{isMinor:!0})),t(b,w,_,$,D),n(b,w,_,D),J){var ne=D.isMinor;D.isMinor=!0,n(b,w,_,D),D.isMinor=ne}m(b,w,_,{dfltColor:G,bgColor:D.bgColor,showGrid:D.showGrid,hasMinor:J,attributes:f}),J&&!w.minor.ticks&&!w.minor.showgrid&&delete w.minor,(w.showline||w.ticks)&&_("mirror");var fe=$==="multicategory";if(!D.noTickson&&($==="category"||fe)&&(w.ticks||w.showgrid)){var ye;fe&&(ye="boundaries");var Me=_("tickson",ye);Me==="boundaries"&&delete w.ticklabelposition}if(fe){var le=_("showdividers");le&&(_("dividercolor"),_("dividerwidth"))}if($==="date")if(r(b,w,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:M}),!w.rangebreaks.length)delete w.rangebreaks;else{for(var ve=0;ve<w.rangebreaks.length;ve++)if(w.rangebreaks[ve].pattern===T){w._hasDayOfWeekBreaks=!0;break}if(d(w,B),B._has("scattergl")||B._has("splom"))for(var H=0;H<D.data.length;H++){var Y=D.data[H];(Y.type==="scattergl"||Y.type==="splom")&&(Y.visible=!1,s.warn(Y.type+" traces do not work on axes with rangebreaks. Setting trace "+Y.index+" to `visible: false`."))}}return w};function M(v,b,w){function _(ie,N){return s.coerce(v,b,f.rangebreaks,ie,N)}var D=_("enabled");if(D){var B=_("bounds");if(B&&B.length>=2){var U="",L,O;if(B.length===2){for(L=0;L<2;L++)if(O=p(B[L]),O){U=T;break}}var R=_("pattern",U);if(R===T)for(L=0;L<2;L++)O=p(B[L]),O&&(b.bounds[L]=B[L]=O-1);if(R)for(L=0;L<2;L++)switch(O=B[L],R){case T:if(!o(O)){b.enabled=!1;return}if(O=+O,O!==Math.floor(O)||O<0||O>=7){b.enabled=!1;return}b.bounds[L]=B[L]=O;break;case x:if(!o(O)){b.enabled=!1;return}if(O=+O,O<0||O>24){b.enabled=!1;return}b.bounds[L]=B[L]=O;break}if(w.autorange===!1){var Z=w.range;if(Z[0]<Z[1]){if(B[0]<Z[0]&&B[1]>Z[1]){b.enabled=!1;return}}else if(B[0]>Z[0]&&B[1]<Z[1]){b.enabled=!1;return}}}else{var $=_("values");if($&&$.length)_("dvalue");else{b.enabled=!1;return}}}}var c={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function p(v){if(typeof v=="string")return c[v.substr(0,3).toLowerCase()]}},2663:function(te,I,e){var o=e(1562),g=o.FORMAT_LINK,s=o.DATE_FORMAT_LINK;function i(l,n){return{valType:"string",dflt:"",editType:"none",description:(n?r:f)("hover text",l)+["By default the values are formatted using "+(n?"generic number format":"`"+l+"axis.hoverformat`")+"."].join(" ")}}function r(l,n){return["Sets the "+l+" formatting rule"+(n?"for `"+n+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+g+"."].join(" ")}function f(l,n){return r(l,n)+[" And for dates see: "+s+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}te.exports={axisHoverFormat:i,descriptionOnlyNumbers:r,descriptionWithDates:f}},1675:function(te,I,e){var o=e(3972),g=e(5555);I.id2name=function(r){if(!(typeof r!="string"||!r.match(g.AX_ID_PATTERN))){var f=r.split(" ")[0].substr(1);return f==="1"&&(f=""),r.charAt(0)+"axis"+f}},I.name2id=function(r){if(r.match(g.AX_NAME_PATTERN)){var f=r.substr(5);return f==="1"&&(f=""),r.charAt(0)+f}},I.cleanId=function(r,f,l){var n=/( domain)$/.test(r);if(!(typeof r!="string"||!r.match(g.AX_ID_PATTERN))&&!(f&&r.charAt(0)!==f)&&!(n&&!l)){var t=r.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),r.charAt(0)+t+(n&&l?" domain":"")}},I.list=function(i,r,f){var l=i._fullLayout;if(!l)return[];var n=I.listIds(i,r),t=new Array(n.length),u;for(u=0;u<n.length;u++){var h=n[u];t[u]=l[h.charAt(0)+"axis"+h.substr(1)]}if(!f){var m=l._subplots.gl3d||[];for(u=0;u<m.length;u++){var y=l[m[u]];r?t.push(y[r+"axis"]):t.push(y.xaxis,y.yaxis,y.zaxis)}}return t},I.listIds=function(i,r){var f=i._fullLayout;if(!f)return[];var l=f._subplots;return r?l[r+"axis"]:l.xaxis.concat(l.yaxis)},I.getFromId=function(i,r,f){var l=i._fullLayout;return r=r===void 0||typeof r!="string"?r:r.replace(" domain",""),f==="x"?r=r.replace(/y[0-9]*/,""):f==="y"&&(r=r.replace(/x[0-9]*/,"")),l[I.id2name(r)]},I.getFromTrace=function(i,r,f){var l=i._fullLayout,n=null;if(o.traceIs(r,"gl3d")){var t=r.scene;t.substr(0,5)==="scene"&&(n=l[t][f+"axis"])}else n=I.getFromId(i,r[f+"axis"]||f);return n},I.idSort=function(i,r){var f=i.charAt(0),l=r.charAt(0);return f!==l?f>l?1:-1:+(i.substr(1)||1)-+(r.substr(1)||1)},I.ref2id=function(i){return/^[xyz]/.test(i)?i.split(" ")[0]:!1};function s(i,r){if(r&&r.length){for(var f=0;f<r.length;f++)if(r[f][i])return!0}return!1}I.isLinked=function(i,r){return s(r,i._axisMatchGroups)||s(r,i._axisConstraintGroups)}},5258:function(te){function I(e,o){var g=o.dataAttr||e._id.charAt(0),s={},i,r,f;if(o.axData)i=o.axData;else for(i=[],r=0;r<o.data.length;r++){var l=o.data[r];l[g+"axis"]===e._id&&i.push(l)}for(r=0;r<i.length;r++){var n=i[r][g];for(f=0;f<n.length;f++){var t=n[f];t!=null&&(s[t]=1)}}return Object.keys(s)}te.exports=function(o,g,s,i){if(g.type==="category"){var r=o.categoryarray,f=Array.isArray(r)&&r.length>0,l;f&&(l="array");var n=s("categoryorder",l),t;n==="array"&&(t=s("categoryarray")),!f&&n==="array"&&(n=g.categoryorder="trace"),n==="trace"?g._initialCategories=[]:n==="array"?g._initialCategories=t.slice():(t=I(g,i).sort(),n==="category ascending"?g._initialCategories=t:n==="category descending"&&(g._initialCategories=t.reverse()))}}},6287:function(te,I,e){var o=e(2770),g=e(1828),s=e(606),i=s.ONEDAY,r=s.ONEWEEK;I.dtick=function(f,l){var n=l==="log",t=l==="date",u=l==="category",h=t?i:1;if(!f)return h;if(o(f))return f=Number(f),f<=0?h:u?Math.max(1,Math.round(f)):t?Math.max(.1,f):f;if(typeof f!="string"||!(t||n))return h;var m=f.charAt(0),y=f.substr(1);return y=o(y)?Number(y):0,y<=0||!(t&&m==="M"&&y===Math.round(y)||n&&m==="L"||n&&m==="D"&&(y===1||y===2))?h:f},I.tick0=function(f,l,n,t){if(l==="date")return g.cleanDate(f,g.dateTick0(n,t%r===0?1:0));if(!(t==="D1"||t==="D2"))return o(f)?Number(f):0}},5555:function(te,I,e){var o=e(587).counter;te.exports={idRegex:{x:o("x","( domain)?"),y:o("y","( domain)?")},attrRegex:o("[xy]axis"),xAxisMatch:o("xaxis"),yAxisMatch:o("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},9082:function(te,I,e){var o=e(1828),g=e(1739),s=e(1675).id2name,i=e(3838),r=e(2449),f=e(1994),l=e(606).ALMOST_EQUAL,n=e(8783).FROM_BL;I.handleDefaults=function(x,M,c){var p=c.axIds,v=c.axHasImage,b=M._axisConstraintGroups=[],w=M._axisMatchGroups=[],_,D,B,U,L,O,R,Z;for(_=0;_<p.length;_++)U=s(p[_]),L=x[U],O=M[U],t(L,O,{axIds:p,layoutOut:M,hasImage:v[U]});function $(fe,ye){for(_=0;_<fe.length;_++){D=fe[_];for(B in D)M[s(B)][ye]=D}}for($(w,"_matchGroup"),_=0;_<b.length;_++){D=b[_];for(B in D)if(O=M[s(B)],O.fixedrange){for(var ie in D){var N=s(ie);(x[N]||{}).fixedrange===!1&&o.warn("fixedrange was specified as false for axis "+N+" but was overridden because another axis in its constraint group has fixedrange true"),M[N].fixedrange=!0}break}}for(_=0;_<b.length;){D=b[_];for(B in D){O=M[s(B)],O._matchGroup&&Object.keys(O._matchGroup).length===Object.keys(D).length&&(b.splice(_,1),_--);break}_++}$(b,"_constraintGroup");var F=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],G=!1,W=!1;function X(){Z=O[R],R==="rangebreaks"&&(W=O._hasDayOfWeekBreaks)}for(_=0;_<w.length;_++){D=w[_];for(var J=0;J<F.length;J++){R=F[J],Z=null;var ne;for(B in D)if(U=s(B),L=x[U],O=M[U],R in O){if(!O.matches&&(ne=O,R in L)){X();break}Z===null&&R in L&&X()}if(R==="range"&&Z&&L.range&&L.range.length===2&&L.range[0]!==null&&L.range[1]!==null&&(G=!0),R==="autorange"&&Z===null&&G&&(Z=!1),Z===null&&R in ne&&(Z=ne[R]),Z!==null)for(B in D)O=M[s(B)],O[R]=R==="range"?Z.slice():Z,R==="rangebreaks"&&(O._hasDayOfWeekBreaks=W,f(O,M))}}};function t(x,M,c){var p=c.axIds,v=c.layoutOut,b=c.hasImage,w=v._axisConstraintGroups,_=v._axisMatchGroups,D=M._id,B=D.charAt(0),U=((v._splomAxes||{})[B]||{})[D]||{},L=M._id,O=L.charAt(0)==="x";M._matchGroup=null,M._constraintGroup=null;function R(ve,H){return o.coerce(x,M,i,ve,H)}R("constrain",b?"domain":"range"),o.coerce(x,M,{constraintoward:{valType:"enumerated",values:O?["left","center","right"]:["bottom","middle","top"],dflt:O?"center":"middle"}},"constraintoward");var Z=M.type,$,ie,N=[];for($=0;$<p.length;$++)if(ie=p[$],ie!==L){var F=v[s(ie)];F.type===Z&&N.push(ie)}var G=h(w,L);if(G){var W=[];for($=0;$<N.length;$++)ie=N[$],G[ie]||W.push(ie);N=W}var X=N.length,J,ne;X&&(x.matches||U.matches)&&(J=o.coerce(x,M,{matches:{valType:"enumerated",values:N,dflt:N.indexOf(U.matches)!==-1?U.matches:void 0}},"matches"));var fe=b&&!O?M.anchor:void 0;if(X&&!J&&(x.scaleanchor||fe)&&(ne=o.coerce(x,M,{scaleanchor:{valType:"enumerated",values:N.concat([!1])}},"scaleanchor",fe)),J){M._matchGroup=m(_,L,J,1);var ye=v[s(J)],Me=u(v,M)/u(v,ye);O!==(J.charAt(0)==="x")&&(Me=(O?"x":"y")+Me),m(w,L,J,Me)}else x.matches&&p.indexOf(x.matches)!==-1&&o.warn("ignored "+M._name+'.matches: "'+x.matches+'" to avoid an infinite loop');if(ne){var le=R("scaleratio");le||(le=M.scaleratio=1),m(w,L,ne,le)}else x.scaleanchor&&p.indexOf(x.scaleanchor)!==-1&&o.warn("ignored "+M._name+'.scaleanchor: "'+x.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function u(x,M){var c=M.domain;return c||(c=x[s(M.overlaying)].domain),c[1]-c[0]}function h(x,M){for(var c=0;c<x.length;c++)if(x[c][M])return x[c];return null}function m(x,M,c,p){var v,b,w,_,D,B=h(x,M);B===null?(B={},B[M]=1,D=x.length,x.push(B)):D=x.indexOf(B);var U=Object.keys(B);for(v=0;v<x.length;v++)if(w=x[v],v!==D&&w[c]){var L=w[c];for(b=0;b<U.length;b++)_=U[b],w[_]=y(L,y(p,B[_]));x.splice(D,1);return}if(p!==1)for(b=0;b<U.length;b++){var O=U[b];B[O]=y(p,B[O])}B[c]=1}function y(x,M){var c="",p="",v,b;typeof x=="string"&&(c=x.match(/^[xy]*/)[0],v=c.length,x=+x.substr(v)),typeof M=="string"&&(p=M.match(/^[xy]*/)[0],b=p.length,M=+M.substr(b));var w=x*M;return!v&&!b?w:!v||!b||c.charAt(0)===p.charAt(0)?c+p+x*M:v===b?w:(v>b?c.substr(b):p.substr(v))+w}function d(x,M){for(var c=M._size,p=c.h/c.w,v={},b=Object.keys(x),w=0;w<b.length;w++){var _=b[w],D=x[_];if(typeof D=="string"){var B=D.match(/^[xy]*/)[0],U=B.length;D=+D.substr(U);for(var L=B.charAt(0)==="y"?p:1/p,O=0;O<U;O++)D*=L}v[_]=D}return v}I.enforce=function(M){var c=M._fullLayout,p=c._axisConstraintGroups||[],v,b,w,_,D,B,U,L;for(v=0;v<p.length;v++){w=d(p[v],c);var O=Object.keys(w),R=1/0,Z=0,$=1/0,ie={},N={},F=!1;for(b=0;b<O.length;b++)_=O[b],N[_]=D=c[s(_)],D._inputDomain?D.domain=D._inputDomain.slice():D._inputDomain=D.domain.slice(),D._inputRange||(D._inputRange=D.range.slice()),D.setScale(),ie[_]=B=Math.abs(D._m)/w[_],R=Math.min(R,B),(D.constrain==="domain"||!D._constraintShrinkable)&&($=Math.min($,B)),delete D._constraintShrinkable,Z=Math.max(Z,B),D.constrain==="domain"&&(F=!0);if(!(R>l*Z&&!F)){for(b=0;b<O.length;b++)if(_=O[b],B=ie[_],D=N[_],U=D.constrain,B!==$||U==="domain")if(L=B/$,U==="range")r(D,L);else{var G=D._inputDomain,W=(D.domain[1]-D.domain[0])/(G[1]-G[0]),X=(D.r2l(D.range[1])-D.r2l(D.range[0]))/(D.r2l(D._inputRange[1])-D.r2l(D._inputRange[0]));if(L/=W,L*X<1){D.domain=D._input.domain=G.slice(),r(D,L);continue}if(X<1&&(D.range=D._input.range=D._inputRange.slice(),L*=X),D.autorange){var J=D.r2l(D.range[0]),ne=D.r2l(D.range[1]),fe=(J+ne)/2,ye=fe,Me=fe,le=Math.abs(ne-fe),ve=fe-le*L*1.0001,H=fe+le*L*1.0001,Y=g.makePadFn(c,D,0),S=g.makePadFn(c,D,1);T(D,L);var E=Math.abs(D._m),z=g.concatExtremes(M,D),C=z.min,K=z.max,P,j;for(j=0;j<C.length;j++)P=C[j].val-Y(C[j])/E,P>ve&&P<ye&&(ye=P);for(j=0;j<K.length;j++)P=K[j].val+S(K[j])/E,P<H&&P>Me&&(Me=P);var ae=(Me-ye)/(2*le);L/=ae,ye=D.l2r(ye),Me=D.l2r(Me),D.range=D._input.range=J<ne?[ye,Me]:[Me,ye]}T(D,L)}}}},I.getAxisGroup=function(M,c){for(var p=M._axisMatchGroups,v=0;v<p.length;v++){var b=p[v];if(b[c])return"g"+v}return c},I.clean=function(M,c){if(c._inputDomain){for(var p=!1,v=c._id,b=M._fullLayout._axisConstraintGroups,w=0;w<b.length;w++)if(b[w][v]){p=!0;break}(!p||c.constrain!=="domain")&&(c._input.domain=c.domain=c._inputDomain,delete c._inputDomain)}};function T(x,M){var c=x._inputDomain,p=n[x.constraintoward],v=c[0]+(c[1]-c[0])*p;x.domain=x._input.domain=[v+(c[0]-v)/M,v+(c[1]-v)/M],x.setScale()}},9323:function(te,I,e){var o=e(9898),g=e(1828),s=g.numberFormat,i=e(4267),r=e(8520),f=e(3972),l=g.strTranslate,n=e(3893),t=e(7901),u=e(1424),h=e(211),m=e(9298),y=e(6964),d=e(8569),T=e(4505),x=T.selectingOrDrawing,M=T.freeMode,c=e(8783).FROM_TL,p=e(3306),v=e(1549).redrawReglTraces,b=e(4875),w=e(1675).getFromId,_=e(7322).prepSelect,D=e(7322).clearOutline,B=e(7322).selectOnClick,U=e(2449),L=e(5555),O=L.MINDRAG,R=L.MINZOOM,Z=!0;function $(P,j,ae,ue,he,Ae,ke,ce){var me=P._fullLayout._zoomlayer,pe=ke+ce==="nsew",Ee=(ke+ce).length===1,we,xe,Fe,Ke,je,Je,ht,Tt,gt,tt,Ct,rt,Mt,Dt,kt,At,Le,Te,Pe,Ce,Oe,oe,be;ae+=j.yaxis._shift;function De(){if(we=j.xaxis,xe=j.yaxis,gt=we._length,tt=xe._length,ht=we._offset,Tt=xe._offset,Fe={},Fe[we._id]=we,Ke={},Ke[xe._id]=xe,ke&&ce)for(var Ge=j.overlays,Be=0;Be<Ge.length;Be++){var qe=Ge[Be].xaxis;Fe[qe._id]=qe;var at=Ge[Be].yaxis;Ke[at._id]=at}je=K(Fe),Je=K(Ke),Mt=F(je,ce),Dt=F(Je,ke),kt=!Dt&&!Mt,rt=z(P,P._fullLayout._axisMatchGroups,Fe,Ke),Ct=z(P,P._fullLayout._axisConstraintGroups,Fe,Ke,rt);var st=Ct.isSubplotConstrained||rt.isSubplotConstrained;At=ce||st,Le=ke||st;var nt=P._fullLayout;Te=nt._has("scattergl"),Pe=nt._has("splom"),Ce=nt._has("svg")}De();var Se=ne(Dt+Mt,P._fullLayout.dragmode,pe),ze=N(j,ke+ce+"drag",Se,ae,ue,he,Ae);if(kt&&!pe)return ze.onmousedown=null,ze.style.pointerEvents="none",ze;var _e={element:ze,gd:P,plotinfo:j};_e.prepFn=function(Ge,Be,qe){var at=_e.dragmode,st=P._fullLayout.dragmode;st!==at&&(_e.dragmode=st),De(),oe=P._fullLayout._invScaleX,be=P._fullLayout._invScaleY,kt||(pe?Ge.shiftKey?st==="pan"?st="zoom":x(st)||(st="pan"):Ge.ctrlKey&&(st="pan"):st="pan"),M(st)?_e.minDrag=1:_e.minDrag=void 0,x(st)?(_e.xaxes=je,_e.yaxes=Je,_(Ge,Be,qe,_e,st)):(_e.clickFn=ot,x(at)&&ct(),kt||(st==="zoom"?(_e.moveFn=It,_e.doneFn=Bt,_e.minDrag=1,Ot(Ge,Be,qe)):st==="pan"&&(_e.moveFn=lr,_e.doneFn=He))),P._fullLayout._redrag=function(){var nt=P._dragdata;if(nt&&nt.element===ze){var pt=P._fullLayout.dragmode;x(pt)||(De(),Ie([0,0,gt,tt]),_e.moveFn(nt.dx,nt.dy))}}};function ct(){_e.plotinfo.selection=!1,D(P)}function ot(Ge,Be){var qe=_e.gd;if(qe._fullLayout._activeShapeIndex>=0){qe._fullLayout._deactivateShape(qe);return}var at=qe._fullLayout.clickmode;if(ve(qe),Ge===2&&!Ee&&q(),pe)at.indexOf("select")>-1&&B(Be,qe,je,Je,j.id,_e),at.indexOf("event")>-1&&h.click(qe,Be,j.id);else if(Ge===1&&Ee){var st=ke?xe:we,nt=ke==="s"||ce==="w"?0:1,pt=st._name+".range["+nt+"]",dt=G(st,nt),ut="left",Pt="middle";if(st.fixedrange)return;ke?(Pt=ke==="n"?"top":"bottom",st.side==="right"&&(ut="right")):ce==="e"&&(ut="right"),qe._context.showAxisRangeEntryBoxes&&o.select(ze).call(n.makeEditable,{gd:qe,immediate:!0,background:qe._fullLayout.paper_bgcolor,text:String(dt),fill:st.tickfont?st.tickfont.color:"#444",horizontalAlign:ut,verticalAlign:Pt}).on("edit",function(Lt){var $t=st.d2r(Lt);$t!==void 0&&f.call("_guiRelayout",qe,pt,$t)})}}d.init(_e);var $e,Ye,it,wt,Rt,Ht,Vt,Ut,St,Gt;function Ot(Ge,Be,qe){var at=ze.getBoundingClientRect();$e=Be-at.left,Ye=qe-at.top,P._fullLayout._calcInverseTransform(P);var st=g.apply3DTransform(P._fullLayout._invTransform)($e,Ye);$e=st[0],Ye=st[1],it={l:$e,r:$e,w:0,t:Ye,b:Ye,h:0},wt=P._hmpixcount?P._hmlumcount/P._hmpixcount:i(P._fullLayout.plot_bgcolor).getLuminance(),Rt="M0,0H"+gt+"V"+tt+"H0V0",Ht=!1,Vt="xy",Gt=!1,Ut=fe(me,wt,ht,Tt,Rt),St=ye(me,ht,Tt)}function It(Ge,Be){if(P._transitioningWithDuration)return!1;var qe=Math.max(0,Math.min(gt,oe*Ge+$e)),at=Math.max(0,Math.min(tt,be*Be+Ye)),st=Math.abs(qe-$e),nt=Math.abs(at-Ye);it.l=Math.min($e,qe),it.r=Math.max($e,qe),it.t=Math.min(Ye,at),it.b=Math.max(Ye,at);function pt(){Vt="",it.r=it.l,it.t=it.b,St.attr("d","M0,0Z")}if(Ct.isSubplotConstrained)st>R||nt>R?(Vt="xy",st/gt>nt/tt?(nt=st*tt/gt,Ye>at?it.t=Ye-nt:it.b=Ye+nt):(st=nt*gt/tt,$e>qe?it.l=$e-st:it.r=$e+st),St.attr("d",E(it))):pt();else if(rt.isSubplotConstrained)if(st>R||nt>R){Vt="xy";var dt=Math.min(it.l/gt,(tt-it.b)/tt),ut=Math.max(it.r/gt,(tt-it.t)/tt);it.l=dt*gt,it.r=ut*gt,it.b=(1-dt)*tt,it.t=(1-ut)*tt,St.attr("d",E(it))}else pt();else!Dt||nt<Math.min(Math.max(st*.6,O),R)?st<O||!Mt?pt():(it.t=0,it.b=tt,Vt="x",St.attr("d",Y(it,Ye))):!Mt||st<Math.min(nt*.6,R)?(it.l=0,it.r=gt,Vt="y",St.attr("d",S(it,$e))):(Vt="xy",St.attr("d",E(it)));it.w=it.r-it.l,it.h=it.b-it.t,Vt&&(Gt=!0),P._dragged=Gt,Me(Ut,St,it,Rt,Ht,wt),Qt(),P.emit("plotly_relayouting",Oe),Ht=!0}function Qt(){Oe={},(Vt==="xy"||Vt==="x")&&(W(je,it.l/gt,it.r/gt,Oe,Ct.xaxes),Yt("x",Oe)),(Vt==="xy"||Vt==="y")&&(W(Je,(tt-it.b)/tt,(tt-it.t)/tt,Oe,Ct.yaxes),Yt("y",Oe))}function Bt(){Qt(),ve(P),He(),H(P)}var xt=[0,0,gt,tt],_t=null,Nt=L.REDRAWDELAY,Jt=j.mainplot?P._fullLayout._plots[j.mainplot]:j;function rr(Ge){if(!P._context._scrollZoom.cartesian&&!P._fullLayout._enablescrollzoom)return;if(ct(),P._transitioningWithDuration){Ge.preventDefault(),Ge.stopPropagation();return}De(),clearTimeout(_t);var Be=-Ge.deltaY;if(isFinite(Be)||(Be=Ge.wheelDelta/10),!isFinite(Be)){g.log("Did not find wheel motion attributes: ",Ge);return}var qe=Math.exp(-Math.min(Math.max(Be,-20),20)/200),at=Jt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),st=(Ge.clientX-at.left)/at.width,nt=(at.bottom-Ge.clientY)/at.height,pt;function dt(ut,Pt,Lt){if(ut.fixedrange)return;var $t=g.simpleMap(ut.range,ut.r2l),Et=$t[0]+($t[1]-$t[0])*Pt;function ar(Ft){return ut.l2r(Et+(Ft-Et)*Lt)}ut.range=$t.map(ar)}if(At){for(ce||(st=.5),pt=0;pt<je.length;pt++)dt(je[pt],st,qe);Yt("x"),xt[2]*=qe,xt[0]+=xt[2]*st*(1/qe-1)}if(Le){for(ke||(nt=.5),pt=0;pt<Je.length;pt++)dt(Je[pt],nt,qe);Yt("y"),xt[3]*=qe,xt[1]+=xt[3]*(1-nt)*(1/qe-1)}Ie(xt),re(),P.emit("plotly_relayouting",Oe),_t=setTimeout(function(){P._fullLayout&&(xt=[0,0,gt,tt],He())},Nt),Ge.preventDefault()}ke.length*ce.length!==1&&C(ze,rr);function lr(Ge,Be){if(Ge=Ge*oe,Be=Be*be,P._transitioningWithDuration)return;if(P._fullLayout._replotting=!0,Mt==="ew"||Dt==="ns"){var qe=Mt?-Ge:0,at=Dt?-Be:0;if(rt.isSubplotConstrained){if(Mt&&Dt){var st=(Ge/gt-Be/tt)/2;Ge=st*gt,Be=-st*tt,qe=-Ge,at=-Be}Dt?qe=-at*gt/tt:at=-qe*tt/gt}Mt&&(X(je,Ge),Yt("x")),Dt&&(X(Je,Be),Yt("y")),Ie([qe,at,gt,tt]),re(),P.emit("plotly_relayouting",Oe);return}function nt(ar,Ft,Wt){for(var nr=1-Ft,ir,or,Mr=0;Mr<ar.length;Mr++){var sr=ar[Mr];if(!sr.fixedrange){ir=sr,or=sr._rl[nr]+(sr._rl[Ft]-sr._rl[nr])/J(Wt/sr._length);var dr=sr.l2r(or);dr!==!1&&dr!==void 0&&(sr.range[Ft]=dr)}}return ir._length*(ir._rl[Ft]-or)/(ir._rl[Ft]-ir._rl[nr])}var pt=Mt==="w"==(Dt==="n")?1:-1;if(Mt&&Dt&&(Ct.isSubplotConstrained||rt.isSubplotConstrained)){var dt=(Ge/gt+pt*Be/tt)/2;Ge=dt*gt,Be=pt*dt*tt}var ut,Pt;if(Mt==="w"?Ge=nt(je,0,Ge):Mt==="e"?Ge=nt(je,1,-Ge):Mt||(Ge=0),Dt==="n"?Be=nt(Je,1,Be):Dt==="s"?Be=nt(Je,0,-Be):Dt||(Be=0),ut=Mt==="w"?Ge:0,Pt=Dt==="n"?Be:0,Ct.isSubplotConstrained&&!rt.isSubplotConstrained||rt.isSubplotConstrained&&Mt&&Dt&&pt>0){var Lt;if(rt.isSubplotConstrained||!Mt&&Dt.length===1){for(Lt=0;Lt<je.length;Lt++)je[Lt].range=je[Lt]._r.slice(),U(je[Lt],1-Be/tt);Ge=Be*gt/tt,ut=Ge/2}if(rt.isSubplotConstrained||!Dt&&Mt.length===1){for(Lt=0;Lt<Je.length;Lt++)Je[Lt].range=Je[Lt]._r.slice(),U(Je[Lt],1-Ge/gt);Be=Ge*tt/gt,Pt=Be/2}}(!rt.isSubplotConstrained||!Dt)&&Yt("x"),(!rt.isSubplotConstrained||!Mt)&&Yt("y");var $t=gt-Ge,Et=tt-Be;rt.isSubplotConstrained&&!(Mt&&Dt)&&(Mt?(Pt=ut?0:Ge*tt/gt,Et=$t*tt/gt):(ut=Pt?0:Be*gt/tt,$t=Et*gt/tt)),Ie([ut,Pt,$t,Et]),re(),P.emit("plotly_relayouting",Oe)}function Yt(Ge,Be){for(var qe=rt.isSubplotConstrained?{x:Je,y:je}[Ge]:rt[Ge+"axes"],at=rt.isSubplotConstrained?{x:je,y:Je}[Ge]:[],st=0;st<qe.length;st++){var nt=qe[st],pt=nt._id,dt=rt.xLinks[pt]||rt.yLinks[pt],ut=at[0]||Fe[dt]||Ke[dt];ut&&(Be?(Be[nt._name+".range[0]"]=Be[ut._name+".range[0]"],Be[nt._name+".range[1]"]=Be[ut._name+".range[1]"]):nt.range=ut.range.slice())}}function re(){var Ge=[],Be;function qe(pt){for(Be=0;Be<pt.length;Be++)pt[Be].fixedrange||Ge.push(pt[Be]._id)}function at(pt,dt){for(Be=0;Be<pt.length;Be++){var ut=pt[Be],Pt=ut[dt];!ut.fixedrange&&Pt.tickmode==="sync"&&Ge.push(Pt._id)}}for(At&&(qe(je),qe(Ct.xaxes),qe(rt.xaxes),at(j.overlays,"xaxis")),Le&&(qe(Je),qe(Ct.yaxes),qe(rt.yaxes),at(j.overlays,"yaxis")),Oe={},Be=0;Be<Ge.length;Be++){var st=Ge[Be],nt=w(P,st);m.drawOne(P,nt,{skipTitle:!0}),Oe[nt._name+".range[0]"]=nt.range[0],Oe[nt._name+".range[1]"]=nt.range[1]}m.redrawComponents(P,Ge)}function q(){if(!P._transitioningWithDuration){var Ge=P._context.doubleClick,Be=[];Mt&&(Be=Be.concat(je)),Dt&&(Be=Be.concat(Je)),rt.xaxes&&(Be=Be.concat(rt.xaxes)),rt.yaxes&&(Be=Be.concat(rt.yaxes));var qe={},at,st;if(Ge==="reset+autosize")for(Ge="autosize",st=0;st<Be.length;st++){at=Be[st];var nt=at._rangeInitial0,pt=at._rangeInitial1,dt=nt!==void 0||pt!==void 0;if(dt&&(nt!==void 0&&nt!==at.range[0]||pt!==void 0&&pt!==at.range[1])||!dt&&at.autorange!==!0){Ge="reset";break}}if(Ge==="autosize")for(st=0;st<Be.length;st++)at=Be[st],at.fixedrange||(qe[at._name+".autorange"]=!0);else if(Ge==="reset"){for((Mt||Ct.isSubplotConstrained)&&(Be=Be.concat(Ct.xaxes)),Dt&&!Ct.isSubplotConstrained&&(Be=Be.concat(Ct.yaxes)),Ct.isSubplotConstrained&&(Mt?Dt||(Be=Be.concat(Je)):Be=Be.concat(je)),st=0;st<Be.length;st++)if(at=Be[st],!at.fixedrange){var ut=at._name,Pt=at._autorangeInitial;at._rangeInitial0===void 0&&at._rangeInitial1===void 0?qe[ut+".autorange"]=!0:at._rangeInitial0===void 0?(qe[ut+".autorange"]=Pt,qe[ut+".range"]=[null,at._rangeInitial1]):at._rangeInitial1===void 0?(qe[ut+".range"]=[at._rangeInitial0,null],qe[ut+".autorange"]=Pt):qe[ut+".range"]=[at._rangeInitial0,at._rangeInitial1]}}P.emit("plotly_doubleclick",null),f.call("_guiRelayout",P,qe)}}function He(){Ie([0,0,gt,tt]),g.syncOrAsync([b.previousPromises,function(){P._fullLayout._replotting=!1,f.call("_guiRelayout",P,Oe)}],P)}function Ie(Ge){var Be=P._fullLayout,qe=Be._plots,at=Be._subplots.cartesian,st,nt,pt,dt;if(Pe&&f.subplotsRegistry.splom.drag(P),Te){for(st=0;st<at.length;st++)if(nt=qe[at[st]],pt=nt.xaxis,dt=nt.yaxis,nt._scene){var ut=g.simpleMap(pt.range,pt.r2l),Pt=g.simpleMap(dt.range,dt.r2l);pt.limitRange&&pt.limitRange(),dt.limitRange&&dt.limitRange(),ut=pt.range,Pt=dt.range,nt._scene.update({range:[ut[0],Pt[0],ut[1],Pt[1]]})}}if((Pe||Te)&&(p(P),v(P)),Ce){var Lt=Ge[2]/we._length,$t=Ge[3]/xe._length;for(st=0;st<at.length;st++){nt=qe[at[st]],pt=nt.xaxis,dt=nt.yaxis;var Et=(At||rt.isSubplotConstrained)&&!pt.fixedrange&&Fe[pt._id],ar=(Le||rt.isSubplotConstrained)&&!dt.fixedrange&&Ke[dt._id],Ft,Wt,nr,ir;if(Et?(Ft=Lt,nr=ce||rt.isSubplotConstrained?Ge[0]:Xe(pt,Ft)):rt.xaHash[pt._id]?(Ft=Lt,nr=Ge[0]*pt._length/we._length):rt.yaHash[pt._id]?(Ft=$t,nr=Dt==="ns"?-Ge[1]*pt._length/xe._length:Xe(pt,Ft,{n:"top",s:"bottom"}[Dt])):(Ft=Ue(pt,Lt,$t),nr=Ve(pt,Ft)),Ft>1&&(pt.maxallowed!==void 0&&At===(pt.range[0]<pt.range[1]?"e":"w")||pt.minallowed!==void 0&&At===(pt.range[0]<pt.range[1]?"w":"e"))&&(Ft=1,nr=0),ar?(Wt=$t,ir=ke||rt.isSubplotConstrained?Ge[1]:Xe(dt,Wt)):rt.yaHash[dt._id]?(Wt=$t,ir=Ge[1]*dt._length/xe._length):rt.xaHash[dt._id]?(Wt=Lt,ir=Mt==="ew"?-Ge[0]*dt._length/we._length:Xe(dt,Wt,{e:"right",w:"left"}[Mt])):(Wt=Ue(dt,Lt,$t),ir=Ve(dt,Wt)),Wt>1&&(dt.maxallowed!==void 0&&Le===(dt.range[0]<dt.range[1]?"n":"s")||dt.minallowed!==void 0&&Le===(dt.range[0]<dt.range[1]?"s":"n"))&&(Wt=1,ir=0),!(!Ft&&!Wt)){Ft||(Ft=1),Wt||(Wt=1);var or=pt._offset-nr/Ft,Mr=dt._offset-ir/Wt;nt.clipRect.call(u.setTranslate,nr,ir).call(u.setScale,Ft,Wt),nt.plot.call(u.setTranslate,or,Mr).call(u.setScale,1/Ft,1/Wt),(Ft!==nt.xScaleFactor||Wt!==nt.yScaleFactor)&&(u.setPointGroupScale(nt.zoomScalePts,Ft,Wt),u.setTextPointsScale(nt.zoomScaleTxt,Ft,Wt)),u.hideOutsideRangePoints(nt.clipOnAxisFalseTraces,nt),nt.xScaleFactor=Ft,nt.yScaleFactor=Wt}}}}function Ue(Ge,Be,qe){return Ge.fixedrange?0:At&&Ct.xaHash[Ge._id]?Be:Le&&(Ct.isSubplotConstrained?Ct.xaHash:Ct.yaHash)[Ge._id]?qe:0}function Ve(Ge,Be){return Be?(Ge.range=Ge._r.slice(),U(Ge,Be),Xe(Ge,Be)):0}function Xe(Ge,Be,qe){return Ge._length*(1-Be)*c[qe||Ge.constraintoward||"middle"]}return ze}function ie(P,j,ae,ue){var he=g.ensureSingle(P.draglayer,j,ae,function(Ae){Ae.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",P.id)});return he.call(y,ue),he.node()}function N(P,j,ae,ue,he,Ae,ke){var ce=ie(P,"rect",j,ae);return o.select(ce).call(u.setRect,ue,he,Ae,ke),ce}function F(P,j){for(var ae=0;ae<P.length;ae++)if(!P[ae].fixedrange)return j;return""}function G(P,j){var ae=P.range[j],ue=Math.abs(ae-P.range[1-j]),he;return P.type==="date"?ae:P.type==="log"?(he=Math.ceil(Math.max(0,-Math.log(ue)/Math.LN10))+3,s("."+he+"g")(Math.pow(10,ae))):(he=Math.floor(Math.log(Math.abs(ae))/Math.LN10)-Math.floor(Math.log(ue)/Math.LN10)+4,s("."+String(he)+"g")(ae))}function W(P,j,ae,ue,he){for(var Ae=0;Ae<P.length;Ae++){var ke=P[Ae];if(!ke.fixedrange)if(ke.rangebreaks){var ce=ke._id.charAt(0)==="y",me=ce?1-j:j,pe=ce?1-ae:ae;ue[ke._name+".range[0]"]=ke.l2r(ke.p2l(me*ke._length)),ue[ke._name+".range[1]"]=ke.l2r(ke.p2l(pe*ke._length))}else{var Ee=ke._rl[0],we=ke._rl[1]-Ee;ue[ke._name+".range[0]"]=ke.l2r(Ee+we*j),ue[ke._name+".range[1]"]=ke.l2r(Ee+we*ae)}}if(he&&he.length){var xe=(j+(1-ae))/2;W(he,xe,1-xe,ue,[])}}function X(P,j){for(var ae=0;ae<P.length;ae++){var ue=P[ae];if(!ue.fixedrange){if(ue.rangebreaks){var he=0,Ae=ue._length,ke=ue.p2l(he+j)-ue.p2l(he),ce=ue.p2l(Ae+j)-ue.p2l(Ae),me=(ke+ce)/2;ue.range=[ue.l2r(ue._rl[0]-me),ue.l2r(ue._rl[1]-me)]}else ue.range=[ue.l2r(ue._rl[0]-j/ue._m),ue.l2r(ue._rl[1]-j/ue._m)];ue.limitRange&&ue.limitRange()}}}function J(P){return 1-(P>=0?Math.min(P,.9):1/(1/Math.max(P,-.3)+3.222))}function ne(P,j,ae){return P?P==="nsew"?ae?"":j==="pan"?"move":"crosshair":P.toLowerCase()+"-resize":"pointer"}function fe(P,j,ae,ue,he){return P.append("path").attr("class","zoombox").style({fill:j>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",l(ae,ue)).attr("d",he+"Z")}function ye(P,j,ae){return P.append("path").attr("class","zoombox-corners").style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,opacity:0}).attr("transform",l(j,ae)).attr("d","M0,0Z")}function Me(P,j,ae,ue,he,Ae){P.attr("d",ue+"M"+ae.l+","+ae.t+"v"+ae.h+"h"+ae.w+"v-"+ae.h+"h-"+ae.w+"Z"),le(P,j,he,Ae)}function le(P,j,ae,ue){ae||(P.transition().style("fill",ue>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),j.transition().style("opacity",1).duration(200))}function ve(P){o.select(P).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function H(P){Z&&P.data&&P._context.showTips&&(g.notifier(g._(P,"Double-click to zoom back out"),"long"),Z=!1)}function Y(P,j){return"M"+(P.l-.5)+","+(j-R-.5)+"h-3v"+(2*R+1)+"h3ZM"+(P.r+.5)+","+(j-R-.5)+"h3v"+(2*R+1)+"h-3Z"}function S(P,j){return"M"+(j-R-.5)+","+(P.t-.5)+"v-3h"+(2*R+1)+"v3ZM"+(j-R-.5)+","+(P.b+.5)+"v3h"+(2*R+1)+"v-3Z"}function E(P){var j=Math.floor(Math.min(P.b-P.t,P.r-P.l,R)/2);return"M"+(P.l-3.5)+","+(P.t-.5+j)+"h3v"+-j+"h"+j+"v-3h-"+(j+3)+"ZM"+(P.r+3.5)+","+(P.t-.5+j)+"h-3v"+-j+"h"+-j+"v-3h"+(j+3)+"ZM"+(P.r+3.5)+","+(P.b+.5-j)+"h-3v"+j+"h"+-j+"v3h"+(j+3)+"ZM"+(P.l-3.5)+","+(P.b+.5-j)+"h3v"+j+"h"+j+"v3h-"+(j+3)+"Z"}function z(P,j,ae,ue,he){for(var Ae=!1,ke={},ce={},me,pe,Ee,we,xe=(he||{}).xaHash,Fe=(he||{}).yaHash,Ke=0;Ke<j.length;Ke++){var je=j[Ke];for(me in ae)if(je[me]){for(Ee in je)!(he&&(xe[Ee]||Fe[Ee]))&&!(Ee.charAt(0)==="x"?ae:ue)[Ee]&&(ke[Ee]=me);for(pe in ue)!(he&&(xe[pe]||Fe[pe]))&&je[pe]&&(Ae=!0)}for(pe in ue)if(je[pe])for(we in je)!(he&&(xe[we]||Fe[we]))&&!(we.charAt(0)==="x"?ae:ue)[we]&&(ce[we]=pe)}Ae&&(g.extendFlat(ke,ce),ce={});var Je={},ht=[];for(Ee in ke){var Tt=w(P,Ee);ht.push(Tt),Je[Tt._id]=Tt}var gt={},tt=[];for(we in ce){var Ct=w(P,we);tt.push(Ct),gt[Ct._id]=Ct}return{xaHash:Je,yaHash:gt,xaxes:ht,yaxes:tt,xLinks:ke,yLinks:ce,isSubplotConstrained:Ae}}function C(P,j){if(!r)P.onwheel!==void 0?P.onwheel=j:P.onmousewheel!==void 0?P.onmousewheel=j:P.isAddedWheelEvent||(P.isAddedWheelEvent=!0,P.addEventListener("wheel",j,{passive:!1}));else{var ae=P.onwheel!==void 0?"wheel":"mousewheel";P._onwheel&&P.removeEventListener(ae,P._onwheel),P._onwheel=j,P.addEventListener(ae,j,{passive:!1})}}function K(P){var j=[];for(var ae in P)j.push(P[ae]);return j}te.exports={makeDragBox:$,makeDragger:ie,makeRectDragger:N,makeZoombox:fe,makeCorners:ye,updateZoombox:Me,xyCorners:E,transitionZoombox:le,removeZoombox:ve,showDoubleClickNotifier:H,attachWheelEventHandler:C}},4305:function(te,I,e){var o=e(9898),g=e(211),s=e(8569),i=e(6964),r=e(9323).makeDragBox,f=e(5555).DRAGGERSIZE;I.initInteractions=function(n){var t=n._fullLayout;if(n._context.staticPlot){o.select(n).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var u=Object.keys(t._plots||{}).sort(function(m,y){if((t._plots[m].mainplot&&!0)===(t._plots[y].mainplot&&!0)){var d=m.split("y"),T=y.split("y");return d[0]===T[0]?Number(d[1]||1)-Number(T[1]||1):Number(d[0]||1)-Number(T[0]||1)}return t._plots[m].mainplot?1:-1});u.forEach(function(m){var y=t._plots[m],d=y.xaxis,T=y.yaxis;if(!y.mainplot){var x=r(n,y,d._offset,T._offset,d._length,T._length,"ns","ew");x.onmousemove=function(p){n._fullLayout._rehover=function(){n._fullLayout._hoversubplot===m&&n._fullLayout._plots[m]&&g.hover(n,p,m)},g.hover(n,p,m),n._fullLayout._lasthover=x,n._fullLayout._hoversubplot=m},x.onmouseout=function(p){n._dragging||(n._fullLayout._hoversubplot=null,s.unhover(n,p))},n._context.showAxisDragHandles&&(r(n,y,d._offset-f,T._offset-f,f,f,"n","w"),r(n,y,d._offset+d._length,T._offset-f,f,f,"n","e"),r(n,y,d._offset-f,T._offset+T._length,f,f,"s","w"),r(n,y,d._offset+d._length,T._offset+T._length,f,f,"s","e"))}if(n._context.showAxisDragHandles){if(m===d._mainSubplot){var M=d._mainLinePosition;d.side==="top"&&(M-=f),r(n,y,d._offset+d._length*.1,M,d._length*.8,f,"","ew"),r(n,y,d._offset,M,d._length*.1,f,"","w"),r(n,y,d._offset+d._length*.9,M,d._length*.1,f,"","e")}if(m===T._mainSubplot){var c=T._mainLinePosition;T.side!=="right"&&(c-=f),r(n,y,c,T._offset+T._length*.1,f,T._length*.8,"ns",""),r(n,y,c,T._offset+T._length*.9,f,T._length*.1,"s",""),r(n,y,c,T._offset,f,T._length*.1,"n","")}}});var h=t._hoverlayer.node();h.onmousemove=function(m){m.target=n._fullLayout._lasthover,g.hover(n,m,t._hoversubplot)},h.onclick=function(m){m.target=n._fullLayout._lasthover,g.click(n,m)},h.onmousedown=function(m){n._fullLayout._lasthover.onmousedown(m)},I.updateFx(n)}},I.updateFx=function(l){var n=l._fullLayout,t=n.dragmode==="pan"?"move":"crosshair";i(n._draggers,t)}},6325:function(te,I,e){var o=e(3972),g=e(1828),s=e(1675);te.exports=function(r){return function(l,n){var t=l[r];if(Array.isArray(t))for(var u=o.subplotsRegistry.cartesian,h=u.idRegex,m=n._subplots,y=m.xaxis,d=m.yaxis,T=m.cartesian,x=n._has("cartesian")||n._has("gl2d"),M=0;M<t.length;M++){var c=t[M];if(g.isPlainObject(c)){var p=s.cleanId(c.xref,"x",!1),v=s.cleanId(c.yref,"y",!1),b=h.x.test(p),w=h.y.test(v);if(b||w){x||g.pushUnique(n._basePlotModules,u);var _=!1;b&&y.indexOf(p)===-1&&(y.push(p),_=!0),w&&d.indexOf(v)===-1&&(d.push(v),_=!0),_&&b&&w&&T.push(p+v)}}}}}},3612:function(te,I,e){var o=e(9898),g=e(3972),s=e(1828),i=e(4875),r=e(1424),f=e(7659).a0,l=e(1675),n=e(5555),t=e(7922),u=s.ensureSingle;function h(M,c,p){return s.ensureSingle(M,c,p,function(v){v.datum(p)})}I.name="cartesian",I.attr=["xaxis","yaxis"],I.idRoot=["x","y"],I.idRegex=n.idRegex,I.attrRegex=n.attrRegex,I.attributes=e(9502),I.layoutAttributes=e(3838),I.supplyLayoutDefaults=e(6763),I.transitionAxes=e(6847),I.finalizeSubplots=function(M,c){var p=c._subplots,v=p.xaxis,b=p.yaxis,w=p.cartesian,_=w.concat(p.gl2d||[]),D={},B={},U,L,O;for(U=0;U<_.length;U++){var R=_[U].split("y");D[R[0]]=1,B["y"+R[1]]=1}for(U=0;U<v.length;U++)L=v[U],D[L]||(O=(M[l.id2name(L)]||{}).anchor,n.idRegex.y.test(O)||(O="y"),w.push(L+O),_.push(L+O),B[O]||(B[O]=1,s.pushUnique(b,O)));for(U=0;U<b.length;U++)O=b[U],B[O]||(L=(M[l.id2name(O)]||{}).anchor,n.idRegex.x.test(L)||(L="x"),w.push(L+O),_.push(L+O),D[L]||(D[L]=1,s.pushUnique(v,L)));if(!_.length){L="",O="";for(var Z in M)if(n.attrRegex.test(Z)){var $=Z.charAt(0);$==="x"?(!L||+Z.substr(5)<+L.substr(5))&&(L=Z):(!O||+Z.substr(5)<+O.substr(5))&&(O=Z)}L=L?l.name2id(L):"x",O=O?l.name2id(O):"y",v.push(L),b.push(O),w.push(L+O)}},I.plot=function(M,c,p,v){var b=M._fullLayout,w=b._subplots.cartesian,_=M.calcdata,D;if(!Array.isArray(c))for(c=[],D=0;D<_.length;D++)c.push(D);for(D=0;D<w.length;D++){for(var B=w[D],U=b._plots[B],L=[],O,R=0;R<_.length;R++){var Z=_[R],$=Z[0].trace;$.xaxis+$.yaxis===B&&((c.indexOf($.index)!==-1||$.carpet)&&(O&&O[0].trace.xaxis+O[0].trace.yaxis===B&&["tonextx","tonexty","tonext"].indexOf($.fill)!==-1&&L.indexOf(O)===-1&&L.push(O),L.push(Z)),O=Z)}m(M,U,L,p,v)}};function m(M,c,p,v,b){for(var w=n.traceLayerClasses,_=M._fullLayout,D=_._modules,B,U,L,O=[],R=[],Z=0;Z<D.length;Z++){B=D[Z];var $=B.name,ie=g.modules[$].categories;if(ie.svg){var N=B.layerName||$+"layer",F=B.plot;U=f(p,F),L=U[0],p=U[1],L.length&&O.push({i:w.indexOf(N),className:N,plotMethod:F,cdModule:L}),ie.zoomScale&&R.push("."+N)}}O.sort(function(X,J){return X.i-J.i});var G=c.plot.selectAll("g.mlayer").data(O,function(X){return X.className});if(G.enter().append("g").attr("class",function(X){return X.className}).classed("mlayer",!0).classed("rangeplot",c.isRangePlot),G.exit().remove(),G.order(),G.each(function(X){var J=o.select(this),ne=X.className;X.plotMethod(M,c,X.cdModule,J,v,b),n.clipOnAxisFalseQuery.indexOf("."+ne)===-1&&r.setClipUrl(J,c.layerClipId,M)}),_._has("scattergl")&&(B=g.getModule("scattergl"),L=f(p,B)[0],B.plot(M,c,L)),!M._context.staticPlot&&(c._hasClipOnAxisFalse&&(c.clipOnAxisFalseTraces=c.plot.selectAll(n.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),R.length)){var W=c.plot.selectAll(R.join(",")).selectAll(".trace");c.zoomScalePts=W.selectAll("path.point"),c.zoomScaleTxt=W.selectAll(".textpoint")}}I.clean=function(M,c,p,v){var b=v._plots||{},w=c._plots||{},_=v._subplots||{},D,B,U;if(v._hasOnlyLargeSploms&&!c._hasOnlyLargeSploms)for(U in b)D=b[U],D.plotgroup&&D.plotgroup.remove();var L=v._has&&v._has("gl"),O=c._has&&c._has("gl");if(L&&!O)for(U in b)D=b[U],D._scene&&D._scene.destroy();if(_.xaxis&&_.yaxis){var R=l.listIds({_fullLayout:v});for(B=0;B<R.length;B++){var Z=R[B];c[l.id2name(Z)]||v._infolayer.selectAll(".g-"+Z+"title").remove()}}var $=v._has&&v._has("cartesian"),ie=c._has&&c._has("cartesian");if($&&!ie)T(v._cartesianlayer.selectAll(".subplot"),v),v._defs.selectAll(".axesclip").remove(),delete v._axisConstraintGroups,delete v._axisMatchGroups;else if(_.cartesian)for(B=0;B<_.cartesian.length;B++){var N=_.cartesian[B];if(!w[N]){var F="."+N+",."+N+"-x,."+N+"-y";v._cartesianlayer.selectAll(F).remove(),x(N,v)}}},I.drawFramework=function(M){var c=M._fullLayout,p=y(M),v=c._cartesianlayer.selectAll(".subplot").data(p,String);v.enter().append("g").attr("class",function(b){return"subplot "+b[0]}),v.order(),v.exit().call(T,c),v.each(function(b){var w=b[0],_=c._plots[w];_.plotgroup=o.select(this),d(M,_),_.draglayer=u(c._draggers,"g",w)})},I.rangePlot=function(M,c,p){d(M,c),m(M,c,p),i.style(M)};function y(M){var c=M._fullLayout,p=c._subplots.cartesian,v=p.length,b,w,_,D,B,U,L=[],O=[];for(b=0;b<v;b++){_=p[b],D=c._plots[_],B=D.xaxis,U=D.yaxis;var R=B._mainAxis,Z=U._mainAxis,$=R._id+Z._id,ie=c._plots[$];D.overlays=[],$!==_&&ie?(D.mainplot=$,D.mainplotinfo=ie,O.push(_)):(D.mainplot=void 0,D.mainplotinfo=void 0,L.push(_))}for(b=0;b<O.length;b++)_=O[b],D=c._plots[_],D.mainplotinfo.overlays.push(D);var N=L.concat(O),F=new Array(v);for(b=0;b<v;b++){_=N[b],D=c._plots[_],B=D.xaxis,U=D.yaxis;var G=[_,B.layer,U.layer,B.overlaying||"",U.overlaying||""];for(w=0;w<D.overlays.length;w++)G.push(D.overlays[w].id);F[b]=G}return F}function d(M,c){var p=c.plotgroup,v=c.id,b=n.layerValue2layerClass[c.xaxis.layer],w=n.layerValue2layerClass[c.yaxis.layer],_=M._fullLayout._hasOnlyLargeSploms;if(c.mainplot){var B=c.mainplotinfo,U=B.plotgroup,L=v+"-x",O=v+"-y";c.minorGridlayer=B.minorGridlayer,c.gridlayer=B.gridlayer,c.zerolinelayer=B.zerolinelayer,u(B.overlinesBelow,"path",L),u(B.overlinesBelow,"path",O),u(B.overaxesBelow,"g",L),u(B.overaxesBelow,"g",O),c.plot=u(B.overplot,"g",v),u(B.overlinesAbove,"path",L),u(B.overlinesAbove,"path",O),u(B.overaxesAbove,"g",L),u(B.overaxesAbove,"g",O),c.xlines=U.select(".overlines-"+b).select("."+L),c.ylines=U.select(".overlines-"+w).select("."+O),c.xaxislayer=U.select(".overaxes-"+b).select("."+L),c.yaxislayer=U.select(".overaxes-"+w).select("."+O)}else if(_)c.xlines=u(p,"path","xlines-above"),c.ylines=u(p,"path","ylines-above"),c.xaxislayer=u(p,"g","xaxislayer-above"),c.yaxislayer=u(p,"g","yaxislayer-above");else{var D=u(p,"g","layer-subplot");c.shapelayer=u(D,"g","shapelayer"),c.imagelayer=u(D,"g","imagelayer"),c.minorGridlayer=u(p,"g","minor-gridlayer"),c.gridlayer=u(p,"g","gridlayer"),c.zerolinelayer=u(p,"g","zerolinelayer"),u(p,"path","xlines-below"),u(p,"path","ylines-below"),c.overlinesBelow=u(p,"g","overlines-below"),u(p,"g","xaxislayer-below"),u(p,"g","yaxislayer-below"),c.overaxesBelow=u(p,"g","overaxes-below"),c.plot=u(p,"g","plot"),c.overplot=u(p,"g","overplot"),c.xlines=u(p,"path","xlines-above"),c.ylines=u(p,"path","ylines-above"),c.overlinesAbove=u(p,"g","overlines-above"),u(p,"g","xaxislayer-above"),u(p,"g","yaxislayer-above"),c.overaxesAbove=u(p,"g","overaxes-above"),c.xlines=p.select(".xlines-"+b),c.ylines=p.select(".ylines-"+w),c.xaxislayer=p.select(".xaxislayer-"+b),c.yaxislayer=p.select(".yaxislayer-"+w)}_||(h(c.minorGridlayer,"g",c.xaxis._id),h(c.minorGridlayer,"g",c.yaxis._id),c.minorGridlayer.selectAll("g").map(function(R){return R[0]}).sort(l.idSort),h(c.gridlayer,"g",c.xaxis._id),h(c.gridlayer,"g",c.yaxis._id),c.gridlayer.selectAll("g").map(function(R){return R[0]}).sort(l.idSort)),c.xlines.style("fill","none").classed("crisp",!0),c.ylines.style("fill","none").classed("crisp",!0)}function T(M,c){if(M){var p={};M.each(function(B){var U=B[0],L=o.select(this);L.remove(),x(U,c),p[U]=!0});for(var v in c._plots)for(var b=c._plots[v],w=b.overlays||[],_=0;_<w.length;_++){var D=w[_];p[D.id]&&D.plot.selectAll(".trace").remove()}}}function x(M,c){c._draggers.selectAll("g."+M).remove(),c._defs.select("#clip"+c._uid+M+"plot").remove()}I.toSVG=function(M){var c=M._fullLayout._glimages,p=o.select(M).selectAll(".svg-container"),v=p.filter(function(w,_){return _===p.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function b(){var w=this,_=w.toDataURL("image/png"),D=c.append("svg:image");D.attr({xmlns:t.svg,"xlink:href":_,preserveAspectRatio:"none",x:0,y:0,width:w.style.width,height:w.style.height})}v.each(b)},I.updateFx=e(4305).updateFx},3838:function(te,I,e){var o=e(1940),g=e(2399),s=e(9952).P,i=e(1426).extendFlat,r=e(4467).templatedArray,f=e(2663).descriptionWithDates,l=e(606).ONEDAY,n=e(5555),t=n.HOUR_PATTERN,u=n.WEEKDAY_PATTERN,h={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},m=i({},h,{values:h.values.slice().concat(["sync"])});function y(B){return{valType:"integer",min:0,dflt:B?5:0,editType:"ticks"}}var d={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},T={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},x={valType:"data_array",editType:"ticks"},M={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function c(B){var U={valType:"number",min:0,editType:"ticks"};return B||(U.dflt=5),U}function p(B){var U={valType:"number",min:0,editType:"ticks"};return B||(U.dflt=1),U}var v={valType:"color",dflt:g.defaultLine,editType:"ticks"},b={valType:"color",dflt:g.lightLine,editType:"ticks"};function w(B){var U={valType:"number",min:0,editType:"ticks"};return B||(U.dflt=1),U}var _=i({},s,{editType:"ticks"}),D={valType:"boolean",editType:"ticks"};te.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:g.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:o({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[n.idRegex.x.toString(),n.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[n.idRegex.x.toString(),n.idRegex.y.toString()],editType:"calc"},rangebreaks:r("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[u,t,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:l},editType:"calc"}),tickmode:m,nticks:y(),tick0:d,dtick:T,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:x,ticktext:{valType:"data_array",editType:"ticks"},ticks:M,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:c(),tickwidth:p(),tickcolor:v,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:i({},s,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:o({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:f("tick label")},tickformatstops:r("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:f("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:g.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:D,gridcolor:b,gridwidth:w(),griddash:_,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:g.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:g.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",n.idRegex.x.toString(),n.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",n.idRegex.x.toString(),n.idRegex.y.toString()],editType:"plot"},minor:{tickmode:h,nticks:y("minor"),tick0:d,dtick:T,tickvals:x,ticks:M,ticklen:c("minor"),tickwidth:p("minor"),tickcolor:v,gridcolor:b,gridwidth:w("minor"),griddash:_,showgrid:D,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:o({editType:"ticks"})}}},6763:function(te,I,e){var o=e(1828),g=e(7901),s=e(3469).isUnifiedHover,i=e(8212),r=e(4467),f=e(820),l=e(3838),n=e(951),t=e(1453),u=e(9082),h=e(2830),m=e(1675),y=m.id2name,d=m.name2id,T=e(5555).AX_ID_PATTERN,x=e(3972),M=x.traceIs,c=x.getComponentMethod;function p(v,b,w){Array.isArray(v[b])?v[b].push(w):v[b]=[w]}te.exports=function(b,w,_){var D=w.autotypenumbers,B={},U={},L={},O={},R={},Z={},$={},ie={},N={},F={},G,W;for(G=0;G<_.length;G++){var X=_[G];if(!(!M(X,"cartesian")&&!M(X,"gl2d"))){var J;if(X.xaxis)J=y(X.xaxis),p(B,J,X);else if(X.xaxes)for(W=0;W<X.xaxes.length;W++)p(B,y(X.xaxes[W]),X);var ne;if(X.yaxis)ne=y(X.yaxis),p(B,ne,X);else if(X.yaxes)for(W=0;W<X.yaxes.length;W++)p(B,y(X.yaxes[W]),X);if(X.type==="funnel"?X.orientation==="h"?(J&&(U[J]=!0),ne&&($[ne]=!0)):ne&&(L[ne]=!0):X.type==="image"?(ne&&(ie[ne]=!0),J&&(ie[J]=!0)):(ne&&(R[ne]=!0,Z[ne]=!0),(!M(X,"carpet")||X.type==="carpet"&&!X._cheater)&&J&&(O[J]=!0)),X.type==="carpet"&&X._cheater&&J&&(U[J]=!0),M(X,"2dMap")&&(N[J]=!0,N[ne]=!0),M(X,"oriented")){var fe=X.orientation==="h"?ne:J;F[fe]=!0}}}var ye=w._subplots,Me=ye.xaxis,le=ye.yaxis,ve=o.simpleMap(Me,y),H=o.simpleMap(le,y),Y=ve.concat(H),S=g.background;Me.length&&le.length&&(S=o.coerce(b,w,f,"plot_bgcolor"));var E=g.combine(S,w.paper_bgcolor),z,C,K,P,j;function ae(){var oe=B[z]||[];j._traceIndices=oe.map(function(be){return be._expandedIndex}),j._annIndices=[],j._shapeIndices=[],j._selectionIndices=[],j._imgIndices=[],j._subplotsWith=[],j._counterAxes=[],j._name=j._attr=z,j._id=C}function ue(oe,be){return o.coerce(P,j,l,oe,be)}function he(oe,be){return o.coerce2(P,j,l,oe,be)}function Ae(oe){return oe==="x"?le:Me}function ke(oe,be){for(var De=oe==="x"?ve:H,Se=[],ze=0;ze<De.length;ze++){var _e=De[ze];_e!==be&&!(b[_e]||{}).overlaying&&Se.push(d(_e))}return Se}var ce={x:Ae("x"),y:Ae("y")},me=ce.x.concat(ce.y),pe={},Ee=[];function we(){var oe=P.matches;T.test(oe)&&me.indexOf(oe)===-1&&(pe[oe]=P.type,Ee=Object.keys(pe))}var xe=i(b,w),Fe=s(xe);for(G=0;G<Y.length;G++){z=Y[G],C=d(z),K=z.charAt(0),o.isPlainObject(b[z])||(b[z]={}),P=b[z],j=r.newContainer(w,z,K+"axis"),ae();var Ke=K==="x"&&!O[z]&&U[z]||K==="y"&&!R[z]&&L[z],je=K==="y"&&(!Z[z]&&$[z]||ie[z]),Je={hasMinor:!0,letter:K,font:w.font,outerTicks:N[z],showGrid:!F[z],data:B[z]||[],bgColor:E,calendar:w.calendar,automargin:!0,visibleDflt:Ke,reverseDflt:je,autotypenumbersDflt:D,splomStash:((w._splomAxes||{})[K]||{})[C]};ue("uirevision",w.uirevision),n(P,j,ue,Je),t(P,j,ue,Je,w);var ht=Fe&&K===xe.charAt(0),Tt=he("spikecolor",Fe?j.color:void 0),gt=he("spikethickness",Fe?1.5:void 0),tt=he("spikedash",Fe?"dot":void 0),Ct=he("spikemode",Fe?"across":void 0),rt=he("spikesnap"),Mt=ue("showspikes",!!ht||!!Tt||!!gt||!!tt||!!Ct||!!rt);Mt||(delete j.spikecolor,delete j.spikethickness,delete j.spikedash,delete j.spikemode,delete j.spikesnap);var Dt=y(P.overlaying),kt=[0,1];if(w[Dt]!==void 0){var At=y(w[Dt].anchor);w[At]!==void 0&&(kt=w[At].domain)}h(P,j,ue,{letter:K,counterAxes:ce[K],overlayableAxes:ke(K,z),grid:w.grid,overlayingDomain:kt}),ue("title.standoff"),we(),j._input=P}for(G=0;G<Ee.length;){C=Ee[G++],z=y(C),K=z.charAt(0),o.isPlainObject(b[z])||(b[z]={}),P=b[z],j=r.newContainer(w,z,K+"axis"),ae();var Le={letter:K,font:w.font,outerTicks:N[z],showGrid:!F[z],data:[],bgColor:E,calendar:w.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:D,splomStash:((w._splomAxes||{})[K]||{})[C]};ue("uirevision",w.uirevision),j.type=pe[C]||"linear",t(P,j,ue,Le,w),h(P,j,ue,{letter:K,counterAxes:ce[K],overlayableAxes:ke(K,z),grid:w.grid}),ue("fixedrange"),we(),j._input=P}var Te=c("rangeslider","handleDefaults"),Pe=c("rangeselector","handleDefaults");for(G=0;G<ve.length;G++)z=ve[G],P=b[z],j=w[z],Te(b,w,z),j.type==="date"&&Pe(P,j,w,H,j.calendar),ue("fixedrange");for(G=0;G<H.length;G++){z=H[G],P=b[z],j=w[z];var Ce=w[y(j.anchor)],Oe=c("rangeslider","isVisible")(Ce);ue("fixedrange",Oe)}u.handleDefaults(b,w,{axIds:me.concat(Ee).sort(m.idSort),axHasImage:ie})}},2128:function(te,I,e){var o=e(4267).mix,g=e(2399),s=e(1828);te.exports=function(r,f,l,n){n=n||{};var t=n.dfltColor;function u(L,O){return s.coerce2(r,f,n.attributes,L,O)}var h=u("linecolor",t),m=u("linewidth"),y=l("showline",n.showLine||!!h||!!m);y||(delete f.linecolor,delete f.linewidth);var d=o(t,n.bgColor,n.blend||g.lightFraction).toRgbString(),T=u("gridcolor",d),x=u("gridwidth"),M=u("griddash"),c=l("showgrid",n.showGrid||!!T||!!x||!!M);if(c||(delete f.gridcolor,delete f.gridwidth,delete f.griddash),n.hasMinor){var p=o(f.gridcolor,n.bgColor,67).toRgbString(),v=u("minor.gridcolor",p),b=u("minor.gridwidth",f.gridwidth||1),w=u("minor.griddash",f.griddash||"solid"),_=l("minor.showgrid",!!v||!!b||!!w);_||(delete f.minor.gridcolor,delete f.minor.gridwidth,delete f.minor.griddash)}if(!n.noZeroLine){var D=u("zerolinecolor",t),B=u("zerolinewidth"),U=l("zeroline",n.showGrid||!!D||!!B);U||(delete f.zerolinecolor,delete f.zerolinewidth)}}},2830:function(te,I,e){var o=e(2770),g=e(1828);te.exports=function(i,r,f,l){var n=l.counterAxes||[],t=l.overlayableAxes||[],u=l.letter,h=l.grid,m=l.overlayingDomain,y,d,T,x,M,c;h&&(d=h._domains[u][h._axisMap[r._id]],y=h._anchors[r._id],d&&(T=h[u+"side"].split(" ")[0],x=h.domain[u][T==="right"||T==="top"?1:0])),d=d||[0,1],y=y||(o(i.position)?"free":n[0]||"free"),T=T||(u==="x"?"bottom":"left"),x=x||0,M=0,c=!1;var p=g.coerce(i,r,{anchor:{valType:"enumerated",values:["free"].concat(n),dflt:y}},"anchor"),v=g.coerce(i,r,{side:{valType:"enumerated",values:u==="x"?["bottom","top"]:["left","right"],dflt:T}},"side");if(p==="free"){if(u==="y"){var b=f("autoshift");b&&(x=v==="left"?m[0]:m[1],c=r.automargin?r.automargin:!0,M=v==="left"?-3:3),f("shift",M)}f("position",x)}f("automargin",c);var w=!1;if(t.length&&(w=g.coerce(i,r,{overlaying:{valType:"enumerated",values:[!1].concat(t),dflt:!1}},"overlaying")),!w){var _=f("domain",d);_[0]>_[1]-.000244140625&&(r.domain=d),g.noneOrAll(i.domain,r.domain,d),r.tickmode==="sync"&&(r.tickmode="auto")}return f("layer"),r}},9426:function(te,I,e){var o=e(9652);te.exports=function(s,i,r,f,l){l||(l={});var n=l.tickSuffixDflt,t=o(s),u=r("tickprefix");u&&r("showtickprefix",t);var h=r("ticksuffix",n);h&&r("showticksuffix",t)}},3608:function(te,I,e){var o=e(3074);te.exports=function(s,i,r,f){var l=i._template||{},n=i.type||l.type||"-";r("minallowed"),r("maxallowed");var t=r("range");if(!t){var u;!f.noInsiderange&&n!=="log"&&(u=r("insiderange"),u&&(u[0]===null||u[1]===null)&&(i.insiderange=!1,u=void 0),u&&(t=r("range",u)))}var h=i.getAutorangeDflt(t,f),m=r("autorange",h),y;t&&(t[0]===null&&t[1]===null||(t[0]===null||t[1]===null)&&(m==="reversed"||m===!0)||t[0]!==null&&(m==="min"||m==="max reversed")||t[1]!==null&&(m==="max"||m==="min reversed"))&&(t=void 0,delete i.range,i.autorange=!0,y=!0),y||(h=i.getAutorangeDflt(t,f),m=r("autorange",h)),m&&(o(r,m,t),(n==="linear"||n==="-")&&r("rangemode")),i.cleanRange()}},2449:function(te,I,e){var o=e(8783).FROM_BL;te.exports=function(s,i,r){r===void 0&&(r=o[s.constraintoward||"center"]);var f=[s.r2l(s.range[0]),s.r2l(s.range[1])],l=f[0]+(f[1]-f[0])*r;s.range=s._input.range=[s.l2r(l+(f[0]-l)*i),s.l2r(l+(f[1]-l)*i)],s.setScale()}},1994:function(te,I,e){var o=e(9898),g=e(4096).g0,s=e(1828),i=s.numberFormat,r=e(2770),f=s.cleanNumber,l=s.ms2DateTime,n=s.dateTime2ms,t=s.ensureNumber,u=s.isArrayOrTypedArray,h=e(606),m=h.FP_SAFE,y=h.BADNUM,d=h.LOG_CLIP,T=h.ONEWEEK,x=h.ONEDAY,M=h.ONEHOUR,c=h.ONEMIN,p=h.ONESEC,v=e(1675),b=e(5555),w=b.HOUR_PATTERN,_=b.WEEKDAY_PATTERN;function D(U){return Math.pow(10,U)}function B(U){return U!=null}te.exports=function(L,O){O=O||{};var R=L._id||"x",Z=R.charAt(0);function $(Y,S){if(Y>0)return Math.log(Y)/Math.LN10;if(Y<=0&&S&&L.range&&L.range.length===2){var E=L.range[0],z=L.range[1];return .5*(E+z-2*d*Math.abs(E-z))}else return y}function ie(Y,S,E,z){if((z||{}).msUTC&&r(Y))return+Y;var C=n(Y,E||L.calendar);if(C===y)if(r(Y)){Y=+Y;var K=Math.floor(s.mod(Y+.05,1)*10),P=Math.round(Y-K/10);C=n(new Date(P))+K/10}else return y;return C}function N(Y,S,E){return l(Y,S,E||L.calendar)}function F(Y){return L._categories[Math.round(Y)]}function G(Y){if(B(Y)){if(L._categoriesMap===void 0&&(L._categoriesMap={}),L._categoriesMap[Y]!==void 0)return L._categoriesMap[Y];L._categories.push(typeof Y=="number"?String(Y):Y);var S=L._categories.length-1;return L._categoriesMap[Y]=S,S}return y}function W(Y,S){for(var E=new Array(S),z=0;z<S;z++){var C=(Y[0]||[])[z],K=(Y[1]||[])[z];E[z]=X([C,K])}return E}function X(Y){if(L._categoriesMap)return L._categoriesMap[Y]}function J(Y){var S=X(Y);if(S!==void 0)return S;if(r(Y))return+Y}function ne(Y){return r(Y)?+Y:X(Y)}function fe(Y,S,E){return o.round(E+S*Y,2)}function ye(Y,S,E){return(Y-E)/S}var Me=function(S){return r(S)?fe(S,L._m,L._b):y},le=function(Y){return ye(Y,L._m,L._b)};if(L.rangebreaks){var ve=Z==="y";Me=function(Y){if(!r(Y))return y;var S=L._rangebreaks.length;if(!S)return fe(Y,L._m,L._b);var E=ve;L.range[0]>L.range[1]&&(E=!E);for(var z=E?-1:1,C=z*Y,K=0,P=0;P<S;P++){var j=z*L._rangebreaks[P].min,ae=z*L._rangebreaks[P].max;if(C<j)break;if(C>ae)K=P+1;else{K=C<(j+ae)/2?P:P+1;break}}var ue=L._B[K]||0;return isFinite(ue)?fe(Y,L._m2,ue):0},le=function(Y){var S=L._rangebreaks.length;if(!S)return ye(Y,L._m,L._b);for(var E=0,z=0;z<S&&!(Y<L._rangebreaks[z].pmin);z++)Y>L._rangebreaks[z].pmax&&(E=z+1);return ye(Y,L._m2,L._B[E])}}L.c2l=L.type==="log"?$:t,L.l2c=L.type==="log"?D:t,L.l2p=Me,L.p2l=le,L.c2p=L.type==="log"?function(Y,S){return Me($(Y,S))}:Me,L.p2c=L.type==="log"?function(Y){return D(le(Y))}:le,["linear","-"].indexOf(L.type)!==-1?(L.d2r=L.r2d=L.d2c=L.r2c=L.d2l=L.r2l=f,L.c2d=L.c2r=L.l2d=L.l2r=t,L.d2p=L.r2p=function(Y){return L.l2p(f(Y))},L.p2d=L.p2r=le,L.cleanPos=t):L.type==="log"?(L.d2r=L.d2l=function(Y,S){return $(f(Y),S)},L.r2d=L.r2c=function(Y){return D(f(Y))},L.d2c=L.r2l=f,L.c2d=L.l2r=t,L.c2r=$,L.l2d=D,L.d2p=function(Y,S){return L.l2p(L.d2r(Y,S))},L.p2d=function(Y){return D(le(Y))},L.r2p=function(Y){return L.l2p(f(Y))},L.p2r=le,L.cleanPos=t):L.type==="date"?(L.d2r=L.r2d=s.identity,L.d2c=L.r2c=L.d2l=L.r2l=ie,L.c2d=L.c2r=L.l2d=L.l2r=N,L.d2p=L.r2p=function(Y,S,E){return L.l2p(ie(Y,0,E))},L.p2d=L.p2r=function(Y,S,E){return N(le(Y),S,E)},L.cleanPos=function(Y){return s.cleanDate(Y,y,L.calendar)}):L.type==="category"?(L.d2c=L.d2l=G,L.r2d=L.c2d=L.l2d=F,L.d2r=L.d2l_noadd=J,L.r2c=function(Y){var S=ne(Y);return S!==void 0?S:L.fraction2r(.5)},L.l2r=L.c2r=t,L.r2l=ne,L.d2p=function(Y){return L.l2p(L.r2c(Y))},L.p2d=function(Y){return F(le(Y))},L.r2p=L.d2p,L.p2r=le,L.cleanPos=function(Y){return typeof Y=="string"&&Y!==""?Y:t(Y)}):L.type==="multicategory"&&(L.r2d=L.c2d=L.l2d=F,L.d2r=L.d2l_noadd=J,L.r2c=function(Y){var S=J(Y);return S!==void 0?S:L.fraction2r(.5)},L.r2c_just_indices=X,L.l2r=L.c2r=t,L.r2l=J,L.d2p=function(Y){return L.l2p(L.r2c(Y))},L.p2d=function(Y){return F(le(Y))},L.r2p=L.d2p,L.p2r=le,L.cleanPos=function(Y){return Array.isArray(Y)||typeof Y=="string"&&Y!==""?Y:t(Y)},L.setupMultiCategory=function(Y){var S=L._traceIndices,E,z,C=L._matchGroup;if(C&&L._categories.length===0){for(var K in C)if(K!==R){var P=O[v.id2name(K)];S=S.concat(P._traceIndices)}}var j=[[0,{}],[0,{}]],ae=[];for(E=0;E<S.length;E++){var ue=Y[S[E]];if(Z in ue){var he=ue[Z],Ae=ue._length||s.minRowLength(he);if(u(he[0])&&u(he[1]))for(z=0;z<Ae;z++){var ke=he[0][z],ce=he[1][z];B(ke)&&B(ce)&&(ae.push([ke,ce]),ke in j[0][1]||(j[0][1][ke]=j[0][0]++),ce in j[1][1]||(j[1][1][ce]=j[1][0]++))}}}for(ae.sort(function(me,pe){var Ee=j[0][1],we=Ee[me[0]]-Ee[pe[0]];if(we)return we;var xe=j[1][1];return xe[me[1]]-xe[pe[1]]}),E=0;E<ae.length;E++)G(ae[E])}),L.fraction2r=function(Y){var S=L.r2l(L.range[0]),E=L.r2l(L.range[1]);return L.l2r(S+Y*(E-S))},L.r2fraction=function(Y){var S=L.r2l(L.range[0]),E=L.r2l(L.range[1]);return(L.r2l(Y)-S)/(E-S)},L.limitRange=function(Y){var S=L.minallowed,E=L.maxallowed;if(!(S===void 0&&E===void 0)){Y||(Y="range");var z=s.nestedProperty(L,Y).get(),C=s.simpleMap(z,L.r2l),K=C[1]<C[0];K&&C.reverse();var P=s.simpleMap([S,E],L.r2l);S!==void 0&&C[0]<P[0]&&(z[K?1:0]=S),E!==void 0&&C[1]>P[1]&&(z[K?0:1]=E)}},L.cleanRange=function(Y,S){L._cleanRange(Y,S),L.limitRange(Y)},L._cleanRange=function(Y,S){S||(S={}),Y||(Y="range");var E=s.nestedProperty(L,Y).get(),z,C;if(L.type==="date"?C=s.dfltRange(L.calendar):Z==="y"?C=b.DFLTRANGEY:L._name==="realaxis"?C=[0,1]:C=S.dfltRange||b.DFLTRANGEX,C=C.slice(),(L.rangemode==="tozero"||L.rangemode==="nonnegative")&&(C[0]=0),!E||E.length!==2){s.nestedProperty(L,Y).set(C);return}var K=E[0]===null,P=E[1]===null;for(L.type==="date"&&!L.autorange&&(E[0]=s.cleanDate(E[0],y,L.calendar),E[1]=s.cleanDate(E[1],y,L.calendar)),z=0;z<2;z++)if(L.type==="date"){if(!s.isDateTime(E[z],L.calendar)){L[Y]=C;break}if(L.r2l(E[0])===L.r2l(E[1])){var j=s.constrain(L.r2l(E[0]),s.MIN_MS+1e3,s.MAX_MS-1e3);E[0]=L.l2r(j-1e3),E[1]=L.l2r(j+1e3);break}}else{if(!r(E[z]))if(!(K||P)&&r(E[1-z]))E[z]=E[1-z]*(z?10:.1);else{L[Y]=C;break}if(E[z]<-m?E[z]=-m:E[z]>m&&(E[z]=m),E[0]===E[1]){var ae=Math.max(1,Math.abs(E[0]*1e-6));E[0]-=ae,E[1]+=ae}}},L.setScale=function(Y){var S=O._size;if(L.overlaying){var E=v.getFromId({_fullLayout:O},L.overlaying);L.domain=E.domain}var z=Y&&L._r?"_r":"range",C=L.calendar;L.cleanRange(z);var K=L.r2l(L[z][0],C),P=L.r2l(L[z][1],C),j=Z==="y";if(j?(L._offset=S.t+(1-L.domain[1])*S.h,L._length=S.h*(L.domain[1]-L.domain[0]),L._m=L._length/(K-P),L._b=-L._m*P):(L._offset=S.l+L.domain[0]*S.w,L._length=S.w*(L.domain[1]-L.domain[0]),L._m=L._length/(P-K),L._b=-L._m*K),L._rangebreaks=[],L._lBreaks=0,L._m2=0,L._B=[],L.rangebreaks){var ae,ue;if(L._rangebreaks=L.locateBreaks(Math.min(K,P),Math.max(K,P)),L._rangebreaks.length){for(ae=0;ae<L._rangebreaks.length;ae++)ue=L._rangebreaks[ae],L._lBreaks+=Math.abs(ue.max-ue.min);var he=j;K>P&&(he=!he),he&&L._rangebreaks.reverse();var Ae=he?-1:1;for(L._m2=Ae*L._length/(Math.abs(P-K)-L._lBreaks),L._B.push(-L._m2*(j?P:K)),ae=0;ae<L._rangebreaks.length;ae++)ue=L._rangebreaks[ae],L._B.push(L._B[L._B.length-1]-Ae*L._m2*(ue.max-ue.min));for(ae=0;ae<L._rangebreaks.length;ae++)ue=L._rangebreaks[ae],ue.pmin=Me(ue.min),ue.pmax=Me(ue.max)}}if(!isFinite(L._m)||!isFinite(L._b)||L._length<0)throw O._replotting=!1,new Error("Something went wrong with axis scaling")},L.maskBreaks=function(Y){var S=L.rangebreaks||[],E,z,C,K,P;S._cachedPatterns||(S._cachedPatterns=S.map(function(Ee){return Ee.enabled&&Ee.bounds?s.simpleMap(Ee.bounds,Ee.pattern?f:L.d2c):null})),S._cachedValues||(S._cachedValues=S.map(function(Ee){return Ee.enabled&&Ee.values?s.simpleMap(Ee.values,L.d2c).sort(s.sorterAsc):null}));for(var j=0;j<S.length;j++){var ae=S[j];if(ae.enabled){if(ae.bounds){var ue=ae.pattern;switch(E=S._cachedPatterns[j],z=E[0],C=E[1],ue){case _:P=new Date(Y),K=P.getUTCDay(),z>C&&(C+=7,K<z&&(K+=7));break;case w:P=new Date(Y);var he=P.getUTCHours(),Ae=P.getUTCMinutes(),ke=P.getUTCSeconds(),ce=P.getUTCMilliseconds();K=he+(Ae/60+ke/3600+ce/36e5),z>C&&(C+=24,K<z&&(K+=24));break;case"":K=Y;break}if(K>=z&&K<C)return y}else for(var me=S._cachedValues[j],pe=0;pe<me.length;pe++)if(z=me[pe],C=z+ae.dvalue,Y>=z&&Y<C)return y}}return Y},L.locateBreaks=function(Y,S){var E,z,C,K,P=[];if(!L.rangebreaks)return P;var j=L.rangebreaks.slice().sort(function(xe,Fe){return xe.pattern===_&&Fe.pattern===w?-1:Fe.pattern===_&&xe.pattern===w?1:0}),ae=function(xe,Fe){if(xe=s.constrain(xe,Y,S),Fe=s.constrain(Fe,Y,S),xe!==Fe){for(var Ke=!0,je=0;je<P.length;je++){var Je=P[je];xe<Je.max&&Fe>=Je.min&&(xe<Je.min&&(Je.min=xe),Fe>Je.max&&(Je.max=Fe),Ke=!1)}Ke&&P.push({min:xe,max:Fe})}};for(E=0;E<j.length;E++){var ue=j[E];if(ue.enabled)if(ue.bounds){var he=Y,Ae=S;ue.pattern&&(he=Math.floor(he)),z=s.simpleMap(ue.bounds,ue.pattern?f:L.r2l),C=z[0],K=z[1];var ke=new Date(he),ce,me;switch(ue.pattern){case _:me=T,ce=((K<C?7:0)+(K-C))*x,he+=C*x-(ke.getUTCDay()*x+ke.getUTCHours()*M+ke.getUTCMinutes()*c+ke.getUTCSeconds()*p+ke.getUTCMilliseconds());break;case w:me=x,ce=((K<C?24:0)+(K-C))*M,he+=C*M-(ke.getUTCHours()*M+ke.getUTCMinutes()*c+ke.getUTCSeconds()*p+ke.getUTCMilliseconds());break;default:he=Math.min(z[0],z[1]),Ae=Math.max(z[0],z[1]),me=Ae-he,ce=me}for(var pe=he;pe<Ae;pe+=me)ae(pe,pe+ce)}else for(var Ee=s.simpleMap(ue.values,L.d2c),we=0;we<Ee.length;we++)C=Ee[we],K=C+ue.dvalue,ae(C,K)}return P.sort(function(xe,Fe){return xe.min-Fe.min}),P},L.makeCalcdata=function(Y,S,E){var z,C,K,P,j=L.type,ae=j==="date"&&Y[S+"calendar"];if(S in Y){if(z=Y[S],P=Y._length||s.minRowLength(z),s.isTypedArray(z)&&(j==="linear"||j==="log")){if(P===z.length)return z;if(z.subarray)return z.subarray(0,P)}if(j==="multicategory")return W(z,P);for(C=new Array(P),K=0;K<P;K++)C[K]=L.d2c(z[K],0,ae,E)}else{var ue=S+"0"in Y?L.d2c(Y[S+"0"],0,ae):0,he=Y["d"+S]?Number(Y["d"+S]):1;for(z=Y[{x:"y",y:"x"}[S]],P=Y._length||z.length,C=new Array(P),K=0;K<P;K++)C[K]=ue+K*he}if(L.rangebreaks)for(K=0;K<P;K++)C[K]=L.maskBreaks(C[K]);return C},L.isValidRange=function(Y,S){return Array.isArray(Y)&&Y.length===2&&(S&&Y[0]===null||r(L.r2l(Y[0])))&&(S&&Y[1]===null||r(L.r2l(Y[1])))},L.getAutorangeDflt=function(Y,S){var E=!L.isValidRange(Y,"nullOk");return E&&S&&S.reverseDflt?E="reversed":Y&&(Y[0]===null&&Y[1]===null?E=!0:Y[0]===null&&Y[1]!==null?E="min":Y[0]!==null&&Y[1]===null&&(E="max")),E},L.isReversed=function(){var Y=L.autorange;return Y==="reversed"||Y==="min reversed"||Y==="max reversed"},L.isPtWithinRange=function(Y,S){var E=L.c2l(Y[Z],null,S),z=L.r2l(L.range[0]),C=L.r2l(L.range[1]);return z<C?z<=E&&E<=C:C<=E&&E<=z},L._emptyCategories=function(){L._categories=[],L._categoriesMap={}},L.clearCalc=function(){var Y=L._matchGroup;if(Y){var S=null,E=null;for(var z in Y){var C=O[v.id2name(z)];if(C._categories){S=C._categories,E=C._categoriesMap;break}}S&&E?(L._categories=S,L._categoriesMap=E):L._emptyCategories()}else L._emptyCategories();if(L._initialCategories)for(var K=0;K<L._initialCategories.length;K++)G(L._initialCategories[K])},L.sortByInitialCategories=function(){var Y=[];if(L._emptyCategories(),L._initialCategories)for(var S=0;S<L._initialCategories.length;S++)G(L._initialCategories[S]);Y=Y.concat(L._traceIndices);var E=L._matchGroup;for(var z in E)if(R!==z){var C=O[v.id2name(z)];C._categories=L._categories,C._categoriesMap=L._categoriesMap,Y=Y.concat(C._traceIndices)}return Y};var H=O._d3locale;L.type==="date"&&(L._dateFormat=H?H.timeFormat:g,L._extraFormat=O._extraFormat),L._separators=O.separators,L._numFormat=H?H.numberFormat:i,delete L._minDtick,delete L._forceTick0}},9652:function(te){te.exports=function(e){var o=["showexponent","showtickprefix","showticksuffix"],g=o.filter(function(i){return e[i]!==void 0}),s=function(i){return e[i]===e[g[0]]};if(g.every(s)||g.length===1)return e[g[0]]}},6115:function(te,I,e){var o=e(1828),g=e(7901).contrast,s=e(3838),i=e(9652),r=e(5501);te.exports=function(n,t,u,h,m){m||(m={});var y=u("labelalias");o.isPlainObject(y)||delete t.labelalias;var d=i(n),T=u("showticklabels");if(T){var x=m.font||{},M=t.color,c=t.ticklabelposition||"",p=c.indexOf("inside")!==-1?g(m.bgColor):M&&M!==s.color.dflt?M:x.color;if(o.coerceFont(u,"tickfont",{family:x.family,size:x.size,color:p}),!m.noTicklabelstep&&h!=="multicategory"&&h!=="log"&&u("ticklabelstep"),m.noAng||u("tickangle"),h!=="category"){var v=u("tickformat");r(n,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:f}),t.tickformatstops.length||delete t.tickformatstops,!m.noExp&&!v&&h!=="date"&&(u("showexponent",d),u("exponentformat"),u("minexponent"),u("separatethousands"))}}};function f(l,n){function t(h,m){return o.coerce(l,n,s.tickformatstops,h,m)}var u=t("enabled");u&&(t("dtickrange"),t("value"))}},8701:function(te,I,e){var o=e(1828),g=e(3838);te.exports=function(i,r,f,l){var n=l.isMinor,t=n?i.minor||{}:i,u=n?r.minor:r,h=n?g.minor:g,m=n?"minor.":"",y=o.coerce2(t,u,h,"ticklen",n?(r.ticklen||5)*.6:void 0),d=o.coerce2(t,u,h,"tickwidth",n?r.tickwidth||1:void 0),T=o.coerce2(t,u,h,"tickcolor",(n?r.tickcolor:void 0)||u.color),x=f(m+"ticks",!n&&l.outerTicks||y||d||T?"outside":"");x||(delete u.ticklen,delete u.tickwidth,delete u.tickcolor)}},6218:function(te,I,e){var o=e(6287),g=e(1828).isArrayOrTypedArray;te.exports=function(i,r,f,l,n){n||(n={});var t=n.isMinor,u=t?i.minor||{}:i,h=t?r.minor:r,m=t?"minor.":"";function y(b){var w=u[b];return w!==void 0?w:(h._template||{})[b]}var d=y("tick0"),T=y("dtick"),x=y("tickvals"),M=g(x)?"array":T?"linear":"auto",c=f(m+"tickmode",M);if(c==="auto"||c==="sync")f(m+"nticks");else if(c==="linear"){var p=h.dtick=o.dtick(T,l);h.tick0=o.tick0(d,l,r.calendar,p)}else if(l!=="multicategory"){var v=f(m+"tickvals");v===void 0?h.tickmode="auto":t||f("ticktext")}}},6847:function(te,I,e){var o=e(9898),g=e(3972),s=e(1828),i=e(1424),r=e(9298);te.exports=function(l,n,t,u){var h=l._fullLayout;if(n.length===0){r.redrawComponents(l);return}function m(w){var _=w.xaxis,D=w.yaxis;h._defs.select("#"+w.clipId+"> rect").call(i.setTranslate,0,0).call(i.setScale,1,1),w.plot.call(i.setTranslate,_._offset,D._offset).call(i.setScale,1,1);var B=w.plot.selectAll(".scatterlayer .trace");B.selectAll(".point").call(i.setPointGroupScale,1,1),B.selectAll(".textpoint").call(i.setTextPointsScale,1,1),B.call(i.hideOutsideRangePoints,w)}function y(w,_){var D=w.plotinfo,B=D.xaxis,U=D.yaxis,L=B._length,O=U._length,R=!!w.xr1,Z=!!w.yr1,$=[];if(R){var ie=s.simpleMap(w.xr0,B.r2l),N=s.simpleMap(w.xr1,B.r2l),F=ie[1]-ie[0],G=N[1]-N[0];$[0]=(ie[0]*(1-_)+_*N[0]-ie[0])/(ie[1]-ie[0])*L,$[2]=L*(1-_+_*G/F),B.range[0]=B.l2r(ie[0]*(1-_)+_*N[0]),B.range[1]=B.l2r(ie[1]*(1-_)+_*N[1])}else $[0]=0,$[2]=L;if(Z){var W=s.simpleMap(w.yr0,U.r2l),X=s.simpleMap(w.yr1,U.r2l),J=W[1]-W[0],ne=X[1]-X[0];$[1]=(W[1]*(1-_)+_*X[1]-W[1])/(W[0]-W[1])*O,$[3]=O*(1-_+_*ne/J),U.range[0]=B.l2r(W[0]*(1-_)+_*X[0]),U.range[1]=U.l2r(W[1]*(1-_)+_*X[1])}else $[1]=0,$[3]=O;r.drawOne(l,B,{skipTitle:!0}),r.drawOne(l,U,{skipTitle:!0}),r.redrawComponents(l,[B._id,U._id]);var fe=R?L/$[2]:1,ye=Z?O/$[3]:1,Me=R?$[0]:0,le=Z?$[1]:0,ve=R?$[0]/$[2]*L:0,H=Z?$[1]/$[3]*O:0,Y=B._offset-ve,S=U._offset-H;D.clipRect.call(i.setTranslate,Me,le).call(i.setScale,1/fe,1/ye),D.plot.call(i.setTranslate,Y,S).call(i.setScale,fe,ye),i.setPointGroupScale(D.zoomScalePts,1/fe,1/ye),i.setTextPointsScale(D.zoomScaleTxt,1/fe,1/ye)}var d;u&&(d=u());function T(){for(var w={},_=0;_<n.length;_++){var D=n[_],B=D.plotinfo.xaxis,U=D.plotinfo.yaxis;D.xr1&&(w[B._name+".range"]=D.xr1.slice()),D.yr1&&(w[U._name+".range"]=D.yr1.slice())}return d&&d(),g.call("relayout",l,w).then(function(){for(var L=0;L<n.length;L++)m(n[L].plotinfo)})}function x(){for(var w={},_=0;_<n.length;_++){var D=n[_],B=D.plotinfo.xaxis,U=D.plotinfo.yaxis;D.xr0&&(w[B._name+".range"]=D.xr0.slice()),D.yr0&&(w[U._name+".range"]=D.yr0.slice())}return g.call("relayout",l,w).then(function(){for(var L=0;L<n.length;L++)m(n[L].plotinfo)})}var M,c,p,v=o.ease(t.easing);l._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(p),p=null,x()});function b(){c=Date.now();for(var w=Math.min(1,(c-M)/t.duration),_=v(w),D=0;D<n.length;D++)y(n[D],_);c-M>t.duration?(T(),p=window.cancelAnimationFrame(b)):p=window.requestAnimationFrame(b)}return M=Date.now(),p=window.requestAnimationFrame(b),Promise.resolve()}},951:function(te,I,e){var o=e(3972).traceIs,g=e(4322);te.exports=function(n,t,u,h){u("autotypenumbers",h.autotypenumbersDflt);var m=u("type",(h.splomStash||{}).type);m==="-"&&(s(t,h.data),t.type==="-"?t.type="linear":n.type=t.type)};function s(l,n){if(l.type==="-"){var t=l._id,u=t.charAt(0),h;t.indexOf("scene")!==-1&&(t=u);var m=i(n,t,u);if(m){if(m.type==="histogram"&&u==={v:"y",h:"x"}[m.orientation||"v"]){l.type="linear";return}var y=u+"calendar",d=m[y],T={noMultiCategory:!o(m,"cartesian")||o(m,"noMultiCategory")};if(m.type==="box"&&m._hasPreCompStats&&u==={h:"x",v:"y"}[m.orientation||"v"]&&(T.noMultiCategory=!0),T.autotypenumbers=l.autotypenumbers,f(m,u)){var x=r(m),M=[];for(h=0;h<n.length;h++){var c=n[h];!o(c,"box-violin")||(c[u+"axis"]||u)!==t||(c[x]!==void 0?M.push(c[x][0]):c.name!==void 0?M.push(c.name):M.push("text"),c[y]!==d&&(d=void 0))}l.type=g(M,d,T)}else if(m.type==="splom"){var p=m.dimensions,v=p[m._axesDim[t]];v.visible&&(l.type=g(v.values,d,T))}else l.type=g(m[u]||[m[u+"0"]],d,T)}}}function i(l,n,t){for(var u=0;u<l.length;u++){var h=l[u];if(h.type==="splom"&&h._length>0&&(h["_"+t+"axes"]||{})[n])return h;if((h[t+"axis"]||t)===n){if(f(h,t))return h;if((h[t]||[]).length||h[t+"0"])return h}}}function r(l){return{v:"x",h:"y"}[l.orientation||"v"]}function f(l,n){var t=r(l),u=o(l,"box-violin"),h=o(l._fullInput||{},"candlestick");return u&&!h&&n===t&&l[t]===void 0&&l[t+"0"]===void 0}},1137:function(te,I,e){var o=e(3972),g=e(1828);I.manageCommandObserver=function(n,t,u,h){var m={},y=!0;t&&t._commandObserver&&(m=t._commandObserver),m.cache||(m.cache={}),m.lookupTable={};var d=I.hasSimpleAPICommandBindings(n,u,m.lookupTable);if(t&&t._commandObserver){if(d)return m;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,m}if(d){s(n,d,m.cache),m.check=function(){if(y){var c=s(n,d,m.cache);return c.changed&&h&&m.lookupTable[c.value]!==void 0&&(m.disable(),Promise.resolve(h({value:c.value,type:d.type,prop:d.prop,traces:d.traces,index:m.lookupTable[c.value]})).then(m.enable,m.enable)),c.changed}};for(var T=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],x=0;x<T.length;x++)n._internalOn(T[x],m.check);m.remove=function(){for(var M=0;M<T.length;M++)n._removeInternalListener(T[M],m.check)}}else g.log("Unable to automatically bind plot updates to API command"),m.lookupTable={},m.remove=function(){};return m.disable=function(){y=!1},m.enable=function(){y=!0},t&&(t._commandObserver=m),m},I.hasSimpleAPICommandBindings=function(n,t,u){var h,m=t.length,y;for(h=0;h<m;h++){var d,T=t[h],x=T.method,M=T.args;if(Array.isArray(M)||(M=[]),!x)return!1;var c=I.computeAPICommandBindings(n,x,M);if(c.length!==1)return!1;if(!y)y=c[0],Array.isArray(y.traces)&&y.traces.sort();else{if(d=c[0],d.type!==y.type||d.prop!==y.prop)return!1;if(Array.isArray(y.traces))if(Array.isArray(d.traces)){d.traces.sort();for(var p=0;p<y.traces.length;p++)if(y.traces[p]!==d.traces[p])return!1}else return!1;else if(d.prop!==y.prop)return!1}d=c[0];var v=d.value;if(Array.isArray(v))if(v.length===1)v=v[0];else return!1;u&&(u[v]=h)}return y};function s(n,t,u){var h,m,y,d=!1;if(t.type==="data")h=n._fullData[t.traces!==null?t.traces[0]:0];else if(t.type==="layout")h=n._fullLayout;else return!1;return m=g.nestedProperty(h,t.prop).get(),y=u[t.type]=u[t.type]||{},y.hasOwnProperty(t.prop)&&y[t.prop]!==m&&(d=!0),y[t.prop]=m,{changed:d,value:m}}I.executeAPICommand=function(n,t,u){if(t==="skip")return Promise.resolve();var h=o.apiMethodRegistry[t],m=[n];Array.isArray(u)||(u=[]);for(var y=0;y<u.length;y++)m.push(u[y]);return h.apply(null,m).catch(function(d){return g.warn("API call to Plotly."+t+" rejected.",d),Promise.reject(d)})},I.computeAPICommandBindings=function(n,t,u){var h;switch(Array.isArray(u)||(u=[]),t){case"restyle":h=f(n,u);break;case"relayout":h=r(n,u);break;case"update":h=f(n,[u[0],u[2]]).concat(r(n,[u[1]]));break;case"animate":h=i(n,u);break;default:h=[]}return h};function i(n,t){return Array.isArray(t[0])&&t[0].length===1&&["string","number"].indexOf(typeof t[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function r(n,t){var u=[],h=t[0],m={};if(typeof h=="string")m[h]=t[1];else if(g.isPlainObject(h))m=h;else return u;return l(m,function(y,d,T){u.push({type:"layout",prop:y,value:T})},"",0),u}function f(n,t){var u,h,m,y,d=[];if(h=t[0],m=t[1],u=t[2],y={},typeof h=="string")y[h]=m;else if(g.isPlainObject(h))y=h,u===void 0&&(u=m);else return d;return u===void 0&&(u=null),l(y,function(T,x,M){var c,p;if(Array.isArray(M)){p=M.slice();var v=Math.min(p.length,n.data.length);u&&(v=Math.min(v,u.length)),c=[];for(var b=0;b<v;b++)c[b]=u?u[b]:b}else p=M,c=u?u.slice():null;if(c===null)Array.isArray(p)&&(p=p[0]);else if(Array.isArray(c)){if(!Array.isArray(p)){var w=p;p=[];for(var _=0;_<c.length;_++)p[_]=w}p.length=Math.min(c.length,p.length)}d.push({type:"data",prop:T,traces:c,value:p})},"",0),d}function l(n,t,u,h){Object.keys(n).forEach(function(m){var y=n[m];if(m[0]!=="_"){var d=u+(h>0?".":"")+m;g.isPlainObject(y)?l(y,t,d,h+1):t(d,m,y)}})}},7670:function(te,I,e){var o=e(1426).extendFlat;I.Y=function(g,s){g=g||{},s=s||{};var i={valType:"info_array",editType:g.editType,items:[{valType:"number",min:0,max:1,editType:g.editType},{valType:"number",min:0,max:1,editType:g.editType}],dflt:[0,1]};g.name&&g.name+"",g.trace,s.description&&""+s.description;var r={x:o({},i,{}),y:o({},i,{}),editType:g.editType};return g.noGridCell||(r.row={valType:"integer",min:0,dflt:0,editType:g.editType},r.column={valType:"integer",min:0,dflt:0,editType:g.editType}),r},I.c=function(g,s,i,r){var f=r&&r.x||[0,1],l=r&&r.y||[0,1],n=s.grid;if(n){var t=i("domain.column");t!==void 0&&(t<n.columns?f=n._domains.x[t]:delete g.domain.column);var u=i("domain.row");u!==void 0&&(u<n.rows?l=n._domains.y[u]:delete g.domain.row)}var h=i("domain.x",f),m=i("domain.y",l);h[0]<h[1]||(g.domain.x=f.slice()),m[0]<m[1]||(g.domain.y=l.slice())}},1940:function(te){te.exports=function(I){var e=I.editType,o=I.colorEditType;o===void 0&&(o=e);var g={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:o},editType:e};return I.autoSize&&(g.size.dflt="auto"),I.autoColor&&(g.color.dflt="auto"),I.arrayOk&&(g.family.arrayOk=!0,g.size.arrayOk=!0,g.color.arrayOk=!0),g}},1391:function(te){te.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},7659:function(te,I,e){var o=e(3972);e(5555).SUBPLOT_PATTERN,I.a0=function(g,s){var i=[],r=[],f;if(typeof s=="string"?f=o.getModule(s).plot:typeof s=="function"?f=s:f=s.plot,!f)return[i,g];for(var l=0;l<g.length;l++){var n=g[l],t=n[0].trace;t.visible!==!0||t._length===0||(t._module&&t._module.plot===f?i.push(n):r.push(n))}return[i,r]}},3538:function(te){function I(o,g){var s=[0,0,0,0],i,r;for(i=0;i<4;++i)for(r=0;r<4;++r)s[r]+=o[4*i+r]*g[i];return s}function e(o,g){var s=I(o.projection,I(o.view,I(o.model,[g[0],g[1],g[2],1])));return s}te.exports=e},820:function(te,I,e){var o=e(1940),g=e(5594),s=e(2399),i=e(9241),r=e(3777),f=e(5025),l=e(1426).extendFlat,n=o({editType:"calc"});n.family.dflt='"Open Sans", verdana, arial, sans-serif',n.size.dflt=12,n.color.dflt=s.defaultLine,te.exports={font:n,title:{text:{valType:"string",editType:"layoutstyle"},font:o({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:l(f({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:s.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:s.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:s.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:i.newshape,activeshape:i.activeshape,newselection:r.newselection,activeselection:r.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:l({},g.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:o({editType:"layoutstyle"})}}},5025:function(te){te.exports=function(I){var e=I.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},4875:function(te,I,e){var o=e(9898),g=e(4096).Dq,s=e(721).FF,i=e(2770),r=e(3972),f=e(6281),l=e(4467),n=e(1828),t=e(7901),u=e(606).BADNUM,h=e(1675),m=e(1873).clearOutline,y=e(1479),d=e(5594),T=e(1391),x=e(7659).a0,M=n.relinkPrivateKeys,c=n._,p=te.exports={};n.extendFlat(p,r),p.attributes=e(9012),p.attributes.type.values=p.allTypes,p.fontAttrs=e(1940),p.layoutAttributes=e(820),p.fontWeight="normal";var v=p.transformsRegistry,b=e(1137);p.executeAPICommand=b.executeAPICommand,p.computeAPICommandBindings=b.computeAPICommandBindings,p.manageCommandObserver=b.manageCommandObserver,p.hasSimpleAPICommandBindings=b.hasSimpleAPICommandBindings,p.redrawText=function(H){return H=n.getGraphDiv(H),new Promise(function(Y){setTimeout(function(){H._fullLayout&&(r.getComponentMethod("annotations","draw")(H),r.getComponentMethod("legend","draw")(H),r.getComponentMethod("colorbar","draw")(H),Y(p.previousPromises(H)))},300)})},p.resize=function(H){H=n.getGraphDiv(H);var Y,S=new Promise(function(E,z){(!H||n.isHidden(H))&&z(new Error("Resize must be passed a displayed plot div element.")),H._redrawTimer&&clearTimeout(H._redrawTimer),H._resolveResize&&(Y=H._resolveResize),H._resolveResize=E,H._redrawTimer=setTimeout(function(){if(!H.layout||H.layout.width&&H.layout.height||n.isHidden(H)){E(H);return}delete H.layout.width,delete H.layout.height;var C=H.changed;H.autoplay=!0,r.call("relayout",H,{autosize:!0}).then(function(){H.changed=C,H._resolveResize===E&&(delete H._resolveResize,E(H))})},100)});return Y&&Y(S),S},p.previousPromises=function(H){if((H._promises||[]).length)return Promise.all(H._promises).then(function(){H._promises=[]})},p.addLinks=function(H){if(!(!H._context.showLink&&!H._context.showSources)){var Y=H._fullLayout,S=n.ensureSingle(Y._paper,"text","js-plot-link-container",function(j){j.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:t.defaultLine,"pointer-events":"all"}).each(function(){var ae=o.select(this);ae.append("tspan").classed("js-link-to-tool",!0),ae.append("tspan").classed("js-link-spacer",!0),ae.append("tspan").classed("js-sourcelinks",!0)})}),E=S.node(),z={y:Y._paper.attr("height")-9};document.body.contains(E)&&E.getComputedTextLength()>=Y.width-20?(z["text-anchor"]="start",z.x=5):(z["text-anchor"]="end",z.x=Y._paper.attr("width")-7),S.attr(z);var C=S.select(".js-link-to-tool"),K=S.select(".js-link-spacer"),P=S.select(".js-sourcelinks");H._context.showSources&&H._context.showSources(H),H._context.showLink&&w(H,C),K.text(C.text()&&P.text()?" - ":"")}};function w(H,Y){Y.text("");var S=Y.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(H._context.linkText+" "+String.fromCharCode(187));if(H._context.sendData)S.on("click",function(){p.sendDataToCloud(H)});else{var E=window.location.pathname.split("/"),z=window.location.search;S.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+E[2].split(".")[0]+"/"+E[1]+z})}}p.sendDataToCloud=function(H){var Y=(window.PLOTLYENV||{}).BASE_URL||H._context.plotlyServerURL;if(Y){H.emit("plotly_beforeexport");var S=o.select(H).append("div").attr("id","hiddenform").style("display","none"),E=S.append("form").attr({action:Y+"/external",method:"post",target:"_blank"}),z=E.append("input").attr({type:"text",name:"data"});return z.node().value=p.graphJson(H,!1,"keepdata"),E.node().submit(),S.remove(),H.emit("plotly_afterexport"),!1}};var _=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],D=["year","month","dayMonth","dayMonthYear"];p.supplyDefaults=function(H,Y){var S=Y&&Y.skipUpdateCalc,E=H._fullLayout||{};if(E._skipDefaults){delete E._skipDefaults;return}var z=H._fullLayout={},C=H.layout||{},K=H._fullData||[],P=H._fullData=[],j=H.data||[],ae=H.calcdata||[],ue=H._context||{},he;H._transitionData||p.createTransitionData(H),z._dfltTitle={plot:c(H,"Click to enter Plot title"),x:c(H,"Click to enter X axis title"),y:c(H,"Click to enter Y axis title"),colorbar:c(H,"Click to enter Colorscale title"),annotation:c(H,"new text")},z._traceWord=c(H,"trace");var Ae=L(H,_);if(z._mapboxAccessToken=ue.mapboxAccessToken,E._initialAutoSizeIsDone){var ke=E.width,ce=E.height;p.supplyLayoutGlobalDefaults(C,z,Ae),C.width||(z.width=ke),C.height||(z.height=ce),p.sanitizeMargins(z)}else{p.supplyLayoutGlobalDefaults(C,z,Ae);var me=!C.width||!C.height,pe=z.autosize,Ee=ue.autosizable,we=me&&(pe||Ee);we?p.plotAutoSize(H,C,z):me&&p.sanitizeMargins(z),!pe&&me&&(C.width=z.width,C.height=z.height)}z._d3locale=O(Ae,z.separators),z._extraFormat=L(H,D),z._initialAutoSizeIsDone=!0,z._dataLength=j.length,z._modules=[],z._visibleModules=[],z._basePlotModules=[];var xe=z._subplots=U(),Fe=z._splomAxes={x:{},y:{}},Ke=z._splomSubplots={};z._splomGridDflt={},z._scatterStackOpts={},z._firstScatter={},z._alignmentOpts={},z._colorAxes={},z._requestRangeslider={},z._traceUids=B(K,j),z._globalTransforms=(H._context||{}).globalTransforms,p.supplyDataDefaults(j,P,C,z);var je=Object.keys(Fe.x),Je=Object.keys(Fe.y);if(je.length>1&&Je.length>1){for(r.getComponentMethod("grid","sizeDefaults")(C,z),he=0;he<je.length;he++)n.pushUnique(xe.xaxis,je[he]);for(he=0;he<Je.length;he++)n.pushUnique(xe.yaxis,Je[he]);for(var ht in Ke)n.pushUnique(xe.cartesian,ht)}if(z._has=p._hasPlotType.bind(z),K.length===P.length)for(he=0;he<P.length;he++)M(P[he],K[he]);p.supplyLayoutModuleDefaults(C,z,P,H._transitionData);var Tt=z._visibleModules,gt=[];for(he=0;he<Tt.length;he++){var tt=Tt[he].crossTraceDefaults;tt&&n.pushUnique(gt,tt)}for(he=0;he<gt.length;he++)gt[he](P,z);z._hasOnlyLargeSploms=z._basePlotModules.length===1&&z._basePlotModules[0].name==="splom"&&je.length>15&&Je.length>15&&z.shapes.length===0&&z.images.length===0,p.linkSubplots(P,z,K,E),p.cleanPlot(P,z,K,E);var Ct=!!(E._has&&E._has("gl2d")),rt=!!(z._has&&z._has("gl2d")),Mt=!!(E._has&&E._has("cartesian")),Dt=!!(z._has&&z._has("cartesian")),kt=Mt||Ct,At=Dt||rt;kt&&!At?E._bgLayer.remove():At&&!kt&&(z._shouldCreateBgLayer=!0),E._zoomlayer&&!H._dragging&&m({_fullLayout:E}),R(P,z),M(z,E),r.getComponentMethod("colorscale","crossTraceDefaults")(P,z),z._preGUI||(z._preGUI={}),z._tracePreGUI||(z._tracePreGUI={});var Le=z._tracePreGUI,Te={},Pe;for(Pe in Le)Te[Pe]="old";for(he=0;he<P.length;he++)Pe=P[he]._fullInput.uid,Te[Pe]||(Le[Pe]={}),Te[Pe]="new";for(Pe in Te)Te[Pe]==="old"&&delete Le[Pe];F(z),r.getComponentMethod("rangeslider","makeData")(z),!S&&ae.length===P.length&&p.supplyDefaultsUpdateCalc(ae,P)},p.supplyDefaultsUpdateCalc=function(H,Y){for(var S=0;S<Y.length;S++){var E=Y[S],z=(H[S]||[])[0];if(z&&z.trace){var C=z.trace;if(C._hasCalcTransform){var K=C._arrayAttrs,P,j,ae;for(P=0;P<K.length;P++)j=K[P],ae=n.nestedProperty(C,j).get().slice(),n.nestedProperty(E,j).set(ae)}z.trace=E}}};function B(H,Y){var S=Y.length,E=[],z,C;for(z=0;z<H.length;z++){var K=H[z]._fullInput;K!==C&&E.push(K),C=K}var P=E.length,j=new Array(S),ae={};function ue(ke,ce){j[ce]=ke,ae[ke]=1}function he(ke,ce){if(ke&&typeof ke=="string"&&!ae[ke])return ue(ke,ce),!0}for(z=0;z<S;z++){var Ae=Y[z].uid;typeof Ae=="number"&&(Ae=String(Ae)),!he(Ae,z)&&(z<P&&he(E[z].uid,z)||ue(n.randstr(ae),z))}return j}function U(){var H=r.collectableSubplotTypes,Y={},S,E;if(!H){H=[];var z=r.subplotsRegistry;for(var C in z){var K=z[C],P=K.attr;if(P&&(H.push(C),Array.isArray(P)))for(E=0;E<P.length;E++)n.pushUnique(H,P[E])}}for(S=0;S<H.length;S++)Y[H[S]]=[];return Y}function L(H,Y){var S=H._context.locale;S||(S="en-US");var E=!1,z={};function C(he){for(var Ae=!0,ke=0;ke<Y.length;ke++){var ce=Y[ke];z[ce]||(he[ce]?z[ce]=he[ce]:Ae=!1)}Ae&&(E=!0)}for(var K=0;K<2;K++){for(var P=H._context.locales,j=0;j<2;j++){var ae=(P[S]||{}).format;if(ae&&(C(ae),E))break;P=r.localeRegistry}var ue=S.split("-")[0];if(E||ue===S)break;S=ue}return E||C(r.localeRegistry.en.format),z}function O(H,Y){return H.decimal=Y.charAt(0),H.thousands=Y.charAt(1),{numberFormat:function(S){try{S=s(H).format(n.adjustFormat(S))}catch{return n.warnBadFormat(S),n.noFormat}return S},timeFormat:g(H).utcFormat}}function R(H,Y){var S,E=[];Y.meta&&(S=Y._meta={meta:Y.meta,layout:{meta:Y.meta}});for(var z=0;z<H.length;z++){var C=H[z];C.meta?E[C.index]=C._meta={meta:C.meta}:Y.meta&&(C._meta={meta:Y.meta}),Y.meta&&(C._meta.layout={meta:Y.meta})}E.length&&(S||(S=Y._meta={}),S.data=E)}p.createTransitionData=function(H){H._transitionData||(H._transitionData={}),H._transitionData._frames||(H._transitionData._frames=[]),H._transitionData._frameHash||(H._transitionData._frameHash={}),H._transitionData._counter||(H._transitionData._counter=0),H._transitionData._interruptCallbacks||(H._transitionData._interruptCallbacks=[])},p._hasPlotType=function(H){var Y,S=this._basePlotModules||[];for(Y=0;Y<S.length;Y++)if(S[Y].name===H)return!0;var E=this._modules||[];for(Y=0;Y<E.length;Y++){var z=E[Y].name;if(z===H)return!0;var C=r.modules[z];if(C&&C.categories[H])return!0}return!1},p.cleanPlot=function(H,Y,S,E){var z,C,K=E._basePlotModules||[];for(z=0;z<K.length;z++){var P=K[z];P.clean&&P.clean(H,Y,S,E)}var j=E._has&&E._has("gl"),ae=Y._has&&Y._has("gl");j&&!ae&&E._glcontainer!==void 0&&(E._glcontainer.selectAll(".gl-canvas").remove(),E._glcontainer.selectAll(".no-webgl").remove(),E._glcanvas=null);var ue=!!E._infolayer;e:for(z=0;z<S.length;z++){var he=S[z],Ae=he.uid;for(C=0;C<H.length;C++){var ke=H[C];if(Ae===ke.uid)continue e}ue&&E._infolayer.select(".cb"+Ae).remove()}},p.linkSubplots=function(H,Y,S,E){var z,C,K=E._plots||{},P=Y._plots={},j=Y._subplots,ae={_fullData:H,_fullLayout:Y},ue=j.cartesian.concat(j.gl2d||[]);for(z=0;z<ue.length;z++){var he=ue[z],Ae=K[he],ke=h.getFromId(ae,he,"x"),ce=h.getFromId(ae,he,"y"),me;for(Ae?me=P[he]=Ae:(me=P[he]={},me.id=he),ke._counterAxes.push(ce._id),ce._counterAxes.push(ke._id),ke._subplotsWith.push(he),ce._subplotsWith.push(he),me.xaxis=ke,me.yaxis=ce,me._hasClipOnAxisFalse=!1,C=0;C<H.length;C++){var pe=H[C];if(pe.xaxis===me.xaxis._id&&pe.yaxis===me.yaxis._id&&pe.cliponaxis===!1){me._hasClipOnAxisFalse=!0;break}}}var Ee=h.list(ae,null,!0),we;for(z=0;z<Ee.length;z++){we=Ee[z];var xe=null;we.overlaying&&(xe=h.getFromId(ae,we.overlaying),xe&&xe.overlaying&&(we.overlaying=!1,xe=null)),we._mainAxis=xe||we,xe&&(we.domain=xe.domain.slice()),we._anchorAxis=we.anchor==="free"?null:h.getFromId(ae,we.anchor)}for(z=0;z<Ee.length;z++)if(we=Ee[z],we._counterAxes.sort(h.idSort),we._subplotsWith.sort(n.subplotSort),we._mainSubplot=Z(we,Y),we._counterAxes.length&&(we.spikemode&&we.spikemode.indexOf("across")!==-1||we.automargin&&we.mirror&&we.anchor!=="free"||r.getComponentMethod("rangeslider","isVisible")(we))){var Fe=1,Ke=0;for(C=0;C<we._counterAxes.length;C++){var je=h.getFromId(ae,we._counterAxes[C]);Fe=Math.min(Fe,je.domain[0]),Ke=Math.max(Ke,je.domain[1])}Fe<Ke&&(we._counterDomainMin=Fe,we._counterDomainMax=Ke)}};function Z(H,Y){var S={_fullLayout:Y},E=H._id.charAt(0)==="x",z=H._mainAxis._anchorAxis,C="",K="",P="";if(z&&(P=z._mainAxis._id,C=E?H._id+P:P+H._id),!C||!Y._plots[C]){C="";for(var j=H._counterAxes,ae=0;ae<j.length;ae++){var ue=j[ae],he=E?H._id+ue:ue+H._id;K||(K=he);var Ae=h.getFromId(S,ue);if(P&&Ae.overlaying===P){C=he;break}}}return C||K}p.clearExpandedTraceDefaultColors=function(H){var Y,S,E;function z(K,P,j,ae){S[ae]=P,S.length=ae+1,K.valType==="color"&&K.dflt===void 0&&Y.push(S.join("."))}for(S=[],Y=H._module._colorAttrs,Y||(H._module._colorAttrs=Y=[],f.crawl(H._module.attributes,z)),E=0;E<Y.length;E++){var C=n.nestedProperty(H,"_input."+Y[E]);C.get()||n.nestedProperty(H,Y[E]).set(null)}},p.supplyDataDefaults=function(H,Y,S,E){var z=E._modules,C=E._visibleModules,K=E._basePlotModules,P=0,j=0,ae,ue,he;E._transformModules=[];function Ae(Je){Y.push(Je);var ht=Je._module;ht&&(n.pushUnique(z,ht),Je.visible===!0&&n.pushUnique(C,ht),n.pushUnique(K,Je._module.basePlotModule),P++,Je._input.visible!==!1&&j++)}var ke={},ce=[],me=(S.template||{}).data||{},pe=l.traceTemplater(me);for(ae=0;ae<H.length;ae++){if(he=H[ae],ue=pe.newTrace(he),ue.uid=E._traceUids[ae],p.supplyTraceDefaults(he,ue,j,E,ae),ue.index=ae,ue._input=he,ue._expandedIndex=P,ue.transforms&&ue.transforms.length)for(var Ee=he.visible!==!1&&ue.visible===!1,we=ie(ue,Y,S,E),xe=0;xe<we.length;xe++){var Fe=we[xe],Ke={_template:ue._template,type:ue.type,uid:ue.uid+xe};Ee&&Fe.visible===!1&&delete Fe.visible,p.supplyTraceDefaults(Fe,Ke,P,E,ae),M(Ke,Fe),Ke.index=ae,Ke._input=he,Ke._fullInput=ue,Ke._expandedIndex=P,Ke._expandedInput=Fe,Ae(Ke)}else ue._fullInput=ue,ue._expandedInput=ue,Ae(ue);r.traceIs(ue,"carpetAxis")&&(ke[ue.carpet]=ue),r.traceIs(ue,"carpetDependent")&&ce.push(ae)}for(ae=0;ae<ce.length;ae++)if(ue=Y[ce[ae]],!!ue.visible){var je=ke[ue.carpet];if(ue._carpet=je,!je||!je.visible){ue.visible=!1;continue}ue.xaxis=je.xaxis,ue.yaxis=je.yaxis}},p.supplyAnimationDefaults=function(H){H=H||{};var Y,S={};function E(z,C){return n.coerce(H||{},S,d,z,C)}if(E("mode"),E("direction"),E("fromcurrent"),Array.isArray(H.frame))for(S.frame=[],Y=0;Y<H.frame.length;Y++)S.frame[Y]=p.supplyAnimationFrameDefaults(H.frame[Y]||{});else S.frame=p.supplyAnimationFrameDefaults(H.frame||{});if(Array.isArray(H.transition))for(S.transition=[],Y=0;Y<H.transition.length;Y++)S.transition[Y]=p.supplyAnimationTransitionDefaults(H.transition[Y]||{});else S.transition=p.supplyAnimationTransitionDefaults(H.transition||{});return S},p.supplyAnimationFrameDefaults=function(H){var Y={};function S(E,z){return n.coerce(H||{},Y,d.frame,E,z)}return S("duration"),S("redraw"),Y},p.supplyAnimationTransitionDefaults=function(H){var Y={};function S(E,z){return n.coerce(H||{},Y,d.transition,E,z)}return S("duration"),S("easing"),Y},p.supplyFrameDefaults=function(H){var Y={};function S(E,z){return n.coerce(H,Y,T,E,z)}return S("group"),S("name"),S("traces"),S("baseframe"),S("data"),S("layout"),Y},p.supplyTraceDefaults=function(H,Y,S,E,z){var C=E.colorway||t.defaults,K=C[S%C.length],P;function j(we,xe){return n.coerce(H,Y,p.attributes,we,xe)}var ae=j("visible");j("type"),j("name",E._traceWord+" "+z),j("uirevision",E.uirevision);var ue=p.getModule(Y);if(Y._module=ue,ue){var he=ue.basePlotModule,Ae=he.attr,ke=he.attributes;if(Ae&&ke){var ce=E._subplots,me="";if(ae||he.name!=="gl2d"){if(Array.isArray(Ae))for(P=0;P<Ae.length;P++){var pe=Ae[P],Ee=n.coerce(H,Y,ke,pe);ce[pe]&&n.pushUnique(ce[pe],Ee),me+=Ee}else me=n.coerce(H,Y,ke,Ae);ce[he.name]&&n.pushUnique(ce[he.name],me)}}}return ae&&(j("customdata"),j("ids"),j("meta"),r.traceIs(Y,"showLegend")?(n.coerce(H,Y,ue.attributes.showlegend?ue.attributes:p.attributes,"showlegend"),j("legend"),j("legendwidth"),j("legendgroup"),j("legendgrouptitle.text"),j("legendrank"),Y._dfltShowLegend=!0):Y._dfltShowLegend=!1,ue&&ue.supplyDefaults(H,Y,K,E),r.traceIs(Y,"noOpacity")||j("opacity"),r.traceIs(Y,"notLegendIsolatable")&&(Y.visible=!!Y.visible),r.traceIs(Y,"noHover")||(Y.hovertemplate||n.coerceHoverinfo(H,Y,E),Y.type!=="parcats"&&r.getComponentMethod("fx","supplyDefaults")(H,Y,K,E)),ue&&ue.selectPoints&&j("selectedpoints"),p.supplyTransformDefaults(H,Y,E)),Y};function $(H){var Y=H.transforms;if(Array.isArray(Y)&&Y.length)for(var S=0;S<Y.length;S++){var E=Y[S],z=E._module||v[E.type];if(z&&z.makesData)return!0}return!1}p.hasMakesDataTransform=$,p.supplyTransformDefaults=function(H,Y,S){if(Y._length||$(H)){var E=S._globalTransforms||[],z=S._transformModules||[];if(!(!Array.isArray(H.transforms)&&E.length===0))for(var C=H.transforms||[],K=E.concat(C),P=Y.transforms=[],j=0;j<K.length;j++){var ae=K[j],ue=ae.type,he=v[ue],Ae,ke=!(ae._module&&ae._module===he),ce=he&&typeof he.transform=="function";he||n.warn("Unrecognized transform type "+ue+"."),he&&he.supplyDefaults&&(ke||ce)?(Ae=he.supplyDefaults(ae,Y,S,H),Ae.type=ue,Ae._module=he,n.pushUnique(z,he)):Ae=n.extendFlat({},ae),P.push(Ae)}}};function ie(H,Y,S,E){for(var z=H.transforms,C=[H],K=0;K<z.length;K++){var P=z[K],j=v[P.type];j&&j.transform&&(C=j.transform(C,{transform:P,fullTrace:H,fullData:Y,layout:S,fullLayout:E,transformIndex:K}))}return C}p.supplyLayoutGlobalDefaults=function(H,Y,S){function E(he,Ae){return n.coerce(H,Y,p.layoutAttributes,he,Ae)}var z=H.template;n.isPlainObject(z)&&(Y.template=z,Y._template=z.layout,Y._dataTemplate=z.data),E("autotypenumbers");var C=n.coerceFont(E,"font"),K=C.size;n.coerceFont(E,"title.font",n.extendFlat({},C,{size:Math.round(K*1.4)})),E("title.text",Y._dfltTitle.plot),E("title.xref");var P=E("title.yref");E("title.pad.t"),E("title.pad.r"),E("title.pad.b"),E("title.pad.l");var j=E("title.automargin");E("title.x"),E("title.xanchor"),E("title.y"),E("title.yanchor"),j&&(P==="paper"&&(Y.title.y!==0&&(Y.title.y=1),Y.title.yanchor==="auto"&&(Y.title.yanchor=Y.title.y===0?"top":"bottom")),P==="container"&&(Y.title.y==="auto"&&(Y.title.y=1),Y.title.yanchor==="auto"&&(Y.title.yanchor=Y.title.y<.5?"bottom":"top")));var ae=E("uniformtext.mode");ae&&E("uniformtext.minsize"),E("autosize",!(H.width&&H.height)),E("width"),E("height"),E("minreducedwidth"),E("minreducedheight"),E("margin.l"),E("margin.r"),E("margin.t"),E("margin.b"),E("margin.pad"),E("margin.autoexpand"),H.width&&H.height&&p.sanitizeMargins(Y),r.getComponentMethod("grid","sizeDefaults")(H,Y),E("paper_bgcolor"),E("separators",S.decimal+S.thousands),E("hidesources"),E("colorway"),E("datarevision");var ue=E("uirevision");E("editrevision",ue),E("selectionrevision",ue),r.getComponentMethod("modebar","supplyLayoutDefaults")(H,Y),r.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(H,Y,E),r.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(H,Y,E),E("meta"),n.isPlainObject(H.transition)&&(E("transition.duration"),E("transition.easing"),E("transition.ordering")),r.getComponentMethod("calendars","handleDefaults")(H,Y,"calendar"),r.getComponentMethod("fx","supplyLayoutGlobalDefaults")(H,Y,E),n.coerce(H,Y,y,"scattermode")};function N(H){return typeof H=="string"&&H.substr(H.length-2)==="px"&&parseFloat(H)}p.plotAutoSize=function(Y,S,E){var z=Y._context||{},C=z.frameMargins,K,P,j=n.isPlotDiv(Y);if(j&&Y.emit("plotly_autosize"),z.fillFrame)K=window.innerWidth,P=window.innerHeight,document.body.style.overflow="hidden";else{var ae=j?window.getComputedStyle(Y):{};if(K=N(ae.width)||N(ae.maxWidth)||E.width,P=N(ae.height)||N(ae.maxHeight)||E.height,i(C)&&C>0){var ue=1-2*C;K=Math.round(ue*K),P=Math.round(ue*P)}}var he=p.layoutAttributes.width.min,Ae=p.layoutAttributes.height.min;K<he&&(K=he),P<Ae&&(P=Ae);var ke=!S.width&&Math.abs(E.width-K)>1,ce=!S.height&&Math.abs(E.height-P)>1;(ce||ke)&&(ke&&(E.width=K),ce&&(E.height=P)),Y._initialAutoSize||(Y._initialAutoSize={width:K,height:P}),p.sanitizeMargins(E)},p.supplyLayoutModuleDefaults=function(H,Y,S,E){var z=r.componentsRegistry,C=Y._basePlotModules,K,P,j,ae=r.subplotsRegistry.cartesian;for(K in z)j=z[K],j.includeBasePlot&&j.includeBasePlot(H,Y);C.length||C.push(ae),Y._has("cartesian")&&(r.getComponentMethod("grid","contentDefaults")(H,Y),ae.finalizeSubplots(H,Y));for(var ue in Y._subplots)Y._subplots[ue].sort(n.subplotSort);for(P=0;P<C.length;P++)j=C[P],j.supplyLayoutDefaults&&j.supplyLayoutDefaults(H,Y,S);var he=Y._modules;for(P=0;P<he.length;P++)j=he[P],j.supplyLayoutDefaults&&j.supplyLayoutDefaults(H,Y,S);var Ae=Y._transformModules;for(P=0;P<Ae.length;P++)j=Ae[P],j.supplyLayoutDefaults&&j.supplyLayoutDefaults(H,Y,S,E);for(K in z)j=z[K],j.supplyLayoutDefaults&&j.supplyLayoutDefaults(H,Y,S)},p.purge=function(H){var Y=H._fullLayout||{};Y._glcontainer!==void 0&&(Y._glcontainer.selectAll(".gl-canvas").remove(),Y._glcontainer.remove(),Y._glcanvas=null),Y._modeBar&&Y._modeBar.destroy(),H._transitionData&&(H._transitionData._interruptCallbacks&&(H._transitionData._interruptCallbacks.length=0),H._transitionData._animationRaf&&window.cancelAnimationFrame(H._transitionData._animationRaf)),n.clearThrottle(),n.clearResponsive(H),delete H.data,delete H.layout,delete H._fullData,delete H._fullLayout,delete H.calcdata,delete H.empty,delete H.fid,delete H.undoqueue,delete H.undonum,delete H.autoplay,delete H.changed,delete H._promises,delete H._redrawTimer,delete H._hmlumcount,delete H._hmpixcount,delete H._transitionData,delete H._transitioning,delete H._initialAutoSize,delete H._transitioningWithDuration,delete H._dragging,delete H._dragged,delete H._dragdata,delete H._hoverdata,delete H._snapshotInProgress,delete H._editing,delete H._mouseDownTime,delete H._legendMouseDownTime,H.removeAllListeners&&H.removeAllListeners()},p.style=function(H){var Y=H._fullLayout._visibleModules,S=[],E;for(E=0;E<Y.length;E++){var z=Y[E];z.style&&n.pushUnique(S,z.style)}for(E=0;E<S.length;E++)S[E](H)},p.sanitizeMargins=function(H){if(!(!H||!H.margin)){var Y=H.width,S=H.height,E=H.margin,z=Y-(E.l+E.r),C=S-(E.t+E.b),K;z<0&&(K=(Y-1)/(E.l+E.r),E.l=Math.floor(K*E.l),E.r=Math.floor(K*E.r)),C<0&&(K=(S-1)/(E.t+E.b),E.t=Math.floor(K*E.t),E.b=Math.floor(K*E.b))}},p.clearAutoMarginIds=function(H){H._fullLayout._pushmarginIds={}},p.allowAutoMargin=function(H,Y){H._fullLayout._pushmarginIds[Y]=1};function F(H){var Y=H.margin;if(!H._size){var S=H._size={l:Math.round(Y.l),r:Math.round(Y.r),t:Math.round(Y.t),b:Math.round(Y.b),p:Math.round(Y.pad)};S.w=Math.round(H.width)-S.l-S.r,S.h=Math.round(H.height)-S.t-S.b}H._pushmargin||(H._pushmargin={}),H._pushmarginIds||(H._pushmarginIds={}),H._reservedMargin||(H._reservedMargin={})}var G=2,W=2;p.autoMargin=function(H,Y,S){var E=H._fullLayout,z=E.width,C=E.height,K=E.margin,P=E.minreducedwidth,j=E.minreducedheight,ae=n.constrain(z-K.l-K.r,G,P),ue=n.constrain(C-K.t-K.b,W,j),he=Math.max(0,z-ae),Ae=Math.max(0,C-ue),ke=E._pushmargin,ce=E._pushmarginIds;if(K.autoexpand!==!1){if(!S)delete ke[Y],delete ce[Y];else{var me=S.pad;if(me===void 0&&(me=Math.min(12,K.l,K.r,K.t,K.b)),he){var pe=(S.l+S.r)/he;pe>1&&(S.l/=pe,S.r/=pe)}if(Ae){var Ee=(S.t+S.b)/Ae;Ee>1&&(S.t/=Ee,S.b/=Ee)}var we=S.xl!==void 0?S.xl:S.x,xe=S.xr!==void 0?S.xr:S.x,Fe=S.yt!==void 0?S.yt:S.y,Ke=S.yb!==void 0?S.yb:S.y;ke[Y]={l:{val:we,size:S.l+me},r:{val:xe,size:S.r+me},b:{val:Ke,size:S.b+me},t:{val:Fe,size:S.t+me}},ce[Y]=1}if(!E._replotting)return p.doAutoMargin(H)}};function X(H){if("_redrawFromAutoMarginCount"in H._fullLayout)return!1;var Y=h.list(H,"",!0);for(var S in Y)if(Y[S].autoshift||Y[S].shift)return!0;return!1}p.doAutoMargin=function(H){var Y=H._fullLayout,S=Y.width,E=Y.height;Y._size||(Y._size={}),F(Y);var z=Y._size,C=Y.margin,K={t:0,b:0,l:0,r:0},P=n.extendFlat({},z),j=C.l,ae=C.r,ue=C.t,he=C.b,Ae=Y._pushmargin,ke=Y._pushmarginIds,ce=Y.minreducedwidth,me=Y.minreducedheight;if(C.autoexpand!==!1){for(var pe in Ae)ke[pe]||delete Ae[pe];var Ee=H._fullLayout._reservedMargin;for(var we in Ee)for(var xe in Ee[we]){var Fe=Ee[we][xe];K[xe]=Math.max(K[xe],Fe)}Ae.base={l:{val:0,size:j},r:{val:1,size:ae},t:{val:1,size:ue},b:{val:0,size:he}};for(var Ke in K){var je=0;for(var Je in Ae)Je!=="base"&&i(Ae[Je][Ke].size)&&(je=Ae[Je][Ke].size>je?Ae[Je][Ke].size:je);var ht=Math.max(0,C[Ke]-je);K[Ke]=Math.max(0,K[Ke]-ht)}for(var Tt in Ae){var gt=Ae[Tt].l||{},tt=Ae[Tt].b||{},Ct=gt.val,rt=gt.size,Mt=tt.val,Dt=tt.size,kt=S-K.r-K.l,At=E-K.t-K.b;for(var Le in Ae){if(i(rt)&&Ae[Le].r){var Te=Ae[Le].r.val,Pe=Ae[Le].r.size;if(Te>Ct){var Ce=(rt*Te+(Pe-kt)*Ct)/(Te-Ct),Oe=(Pe*(1-Ct)+(rt-kt)*(1-Te))/(Te-Ct);Ce+Oe>j+ae&&(j=Ce,ae=Oe)}}if(i(Dt)&&Ae[Le].t){var oe=Ae[Le].t.val,be=Ae[Le].t.size;if(oe>Mt){var De=(Dt*oe+(be-At)*Mt)/(oe-Mt),Se=(be*(1-Mt)+(Dt-At)*(1-oe))/(oe-Mt);De+Se>he+ue&&(he=De,ue=Se)}}}}}var ze=n.constrain(S-C.l-C.r,G,ce),_e=n.constrain(E-C.t-C.b,W,me),ct=Math.max(0,S-ze),ot=Math.max(0,E-_e);if(ct){var $e=(j+ae)/ct;$e>1&&(j/=$e,ae/=$e)}if(ot){var Ye=(he+ue)/ot;Ye>1&&(he/=Ye,ue/=Ye)}if(z.l=Math.round(j)+K.l,z.r=Math.round(ae)+K.r,z.t=Math.round(ue)+K.t,z.b=Math.round(he)+K.b,z.p=Math.round(C.pad),z.w=Math.round(S)-z.l-z.r,z.h=Math.round(E)-z.t-z.b,!Y._replotting&&(p.didMarginChange(P,z)||X(H))){"_redrawFromAutoMarginCount"in Y?Y._redrawFromAutoMarginCount++:Y._redrawFromAutoMarginCount=1;var it=3*(1+Object.keys(ke).length);if(Y._redrawFromAutoMarginCount<it)return r.call("_doPlot",H);Y._size=P,n.warn("Too many auto-margin redraws.")}J(H)};function J(H){var Y=h.list(H,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(S){for(var E=0;E<Y.length;E++){var z=Y[E][S];z&&z()}})}var ne=["l","r","t","b","p","w","h"];p.didMarginChange=function(H,Y){for(var S=0;S<ne.length;S++){var E=ne[S],z=H[E],C=Y[E];if(!i(z)||Math.abs(C-z)>1)return!0}return!1},p.graphJson=function(H,Y,S,E,z,C){(z&&Y&&!H._fullData||z&&!Y&&!H._fullLayout)&&p.supplyDefaults(H);var K=z?H._fullData:H.data,P=z?H._fullLayout:H.layout,j=(H._transitionData||{})._frames;function ae(Ae,ke){if(typeof Ae=="function")return ke?"_function_":null;if(n.isPlainObject(Ae)){var ce={},me;return Object.keys(Ae).sort().forEach(function(pe){if(["_","["].indexOf(pe.charAt(0))===-1){if(typeof Ae[pe]=="function"){ke&&(ce[pe]="_function");return}if(S==="keepdata"){if(pe.substr(pe.length-3)==="src")return}else if(S==="keepstream"){if(me=Ae[pe+"src"],typeof me=="string"&&me.indexOf(":")>0&&!n.isPlainObject(Ae.stream))return}else if(S!=="keepall"&&(me=Ae[pe+"src"],typeof me=="string"&&me.indexOf(":")>0))return;ce[pe]=ae(Ae[pe],ke)}}),ce}return Array.isArray(Ae)?Ae.map(function(pe){return ae(pe,ke)}):n.isTypedArray(Ae)?n.simpleMap(Ae,n.identity):n.isJSDate(Ae)?n.ms2DateTimeLocal(+Ae):Ae}var ue={data:(K||[]).map(function(Ae){var ke=ae(Ae);return Y&&delete ke.fit,ke})};if(!Y&&(ue.layout=ae(P),z)){var he=P._size;ue.layout.computed={margin:{b:he.b,l:he.l,r:he.r,t:he.t}}}return j&&(ue.frames=ae(j)),C&&(ue.config=ae(H._context,!0)),E==="object"?ue:JSON.stringify(ue)},p.modifyFrames=function(H,Y){var S,E,z,C=H._transitionData._frames,K=H._transitionData._frameHash;for(S=0;S<Y.length;S++)switch(E=Y[S],E.type){case"replace":z=E.value;var P=(C[E.index]||{}).name,j=z.name;C[E.index]=K[j]=z,j!==P&&(delete K[P],K[j]=z);break;case"insert":z=E.value,K[z.name]=z,C.splice(E.index,0,z);break;case"delete":z=C[E.index],delete K[z.name],C.splice(E.index,1);break}return Promise.resolve()},p.computeFrame=function(H,Y){var S=H._transitionData._frameHash,E,z,C,K;if(!Y)throw new Error("computeFrame must be given a string frame name");var P=S[Y.toString()];if(!P)return!1;for(var j=[P],ae=[P.name];P.baseframe&&(P=S[P.baseframe.toString()])&&ae.indexOf(P.name)===-1;)j.push(P),ae.push(P.name);for(var ue={};P=j.pop();)if(P.layout&&(ue.layout=p.extendLayout(ue.layout,P.layout)),P.data){if(ue.data||(ue.data=[]),z=P.traces,!z)for(z=[],E=0;E<P.data.length;E++)z[E]=E;for(ue.traces||(ue.traces=[]),E=0;E<P.data.length;E++)C=z[E],C!=null&&(K=ue.traces.indexOf(C),K===-1&&(K=ue.data.length,ue.traces[K]=C),ue.data[K]=p.extendTrace(ue.data[K],P.data[E]))}return ue},p.recomputeFrameHash=function(H){for(var Y=H._transitionData._frameHash={},S=H._transitionData._frames,E=0;E<S.length;E++){var z=S[E];z&&z.name&&(Y[z.name]=z)}},p.extendObjectWithContainers=function(H,Y,S){var E,z,C,K,P,j,ae,ue,he=n.extendDeepNoArrays({},Y||{}),Ae=n.expandObjectPaths(he),ke={};if(S&&S.length)for(C=0;C<S.length;C++)E=n.nestedProperty(Ae,S[C]),z=E.get(),z===void 0?n.nestedProperty(ke,S[C]).set(null):(E.set(null),n.nestedProperty(ke,S[C]).set(z));if(H=n.extendDeepNoArrays(H||{},Ae),S&&S.length){for(C=0;C<S.length;C++)if(P=n.nestedProperty(ke,S[C]),ae=P.get(),!!ae){for(j=n.nestedProperty(H,S[C]),ue=j.get(),Array.isArray(ue)||(ue=[],j.set(ue)),K=0;K<ae.length;K++){var ce=ae[K];ce===null?ue[K]=null:ue[K]=p.extendObjectWithContainers(ue[K],ce)}j.set(ue)}}return H},p.dataArrayContainers=["transforms","dimensions"],p.layoutArrayContainers=r.layoutArrayContainers,p.extendTrace=function(H,Y){return p.extendObjectWithContainers(H,Y,p.dataArrayContainers)},p.extendLayout=function(H,Y){return p.extendObjectWithContainers(H,Y,p.layoutArrayContainers)},p.transition=function(H,Y,S,E,z,C){var K={redraw:z.redraw},P={},j=[];return K.prepareFn=function(){for(var ae=Array.isArray(Y)?Y.length:0,ue=E.slice(0,ae),he=0;he<ue.length;he++){var Ae=ue[he],ke=H._fullData[Ae],ce=ke._module;if(ce){if(ce.animatable){var me=ce.basePlotModule.name;P[me]||(P[me]=[]),P[me].push(Ae)}H.data[ue[he]]=p.extendTrace(H.data[ue[he]],Y[he])}}var pe=n.expandObjectPaths(n.extendDeepNoArrays({},S)),Ee=/^[xy]axis[0-9]*$/;for(var we in pe)Ee.test(we)&&delete pe[we].range;p.extendLayout(H.layout,pe),delete H.calcdata,p.supplyDefaults(H),p.doCalcdata(H);var xe=n.expandObjectPaths(S);if(xe){var Fe=H._fullLayout._plots;for(var Ke in Fe){var je=Fe[Ke],Je=je.xaxis,ht=je.yaxis,Tt=Je.range.slice(),gt=ht.range.slice(),tt=null,Ct=null,rt=null,Mt=null;Array.isArray(xe[Je._name+".range"])?tt=xe[Je._name+".range"].slice():Array.isArray((xe[Je._name]||{}).range)&&(tt=xe[Je._name].range.slice()),Array.isArray(xe[ht._name+".range"])?Ct=xe[ht._name+".range"].slice():Array.isArray((xe[ht._name]||{}).range)&&(Ct=xe[ht._name].range.slice()),Tt&&tt&&(Je.r2l(Tt[0])!==Je.r2l(tt[0])||Je.r2l(Tt[1])!==Je.r2l(tt[1]))&&(rt={xr0:Tt,xr1:tt}),gt&&Ct&&(ht.r2l(gt[0])!==ht.r2l(Ct[0])||ht.r2l(gt[1])!==ht.r2l(Ct[1]))&&(Mt={yr0:gt,yr1:Ct}),(rt||Mt)&&j.push(n.extendFlat({plotinfo:je},rt,Mt))}}return Promise.resolve()},K.runFn=function(ae){var ue,he=H._fullLayout._basePlotModules,Ae=j.length,ke;if(S)for(ke=0;ke<he.length;ke++)he[ke].transitionAxes&&he[ke].transitionAxes(H,j,C,ae);Ae?(ue=n.extendFlat({},C),ue.duration=0,delete P.cartesian):ue=C;for(var ce in P){var me=P[ce],pe=H._fullData[me[0]]._module;pe.basePlotModule.plot(H,me,ue,ae)}},fe(H,C,K)},p.transitionFromReact=function(H,Y,S,E){var z=H._fullLayout,C=z.transition,K={},P=[];return K.prepareFn=function(){var j=z._plots;K.redraw=!1,Y.anim==="some"&&(K.redraw=!0),S.anim==="some"&&(K.redraw=!0);for(var ae in j){var ue=j[ae],he=ue.xaxis,Ae=ue.yaxis,ke=E[he._name].range.slice(),ce=E[Ae._name].range.slice(),me=he.range.slice(),pe=Ae.range.slice();he.setScale(),Ae.setScale();var Ee=null,we=null;(he.r2l(ke[0])!==he.r2l(me[0])||he.r2l(ke[1])!==he.r2l(me[1]))&&(Ee={xr0:ke,xr1:me}),(Ae.r2l(ce[0])!==Ae.r2l(pe[0])||Ae.r2l(ce[1])!==Ae.r2l(pe[1]))&&(we={yr0:ce,yr1:pe}),(Ee||we)&&P.push(n.extendFlat({plotinfo:ue},Ee,we))}return Promise.resolve()},K.runFn=function(j){for(var ae=H._fullData,ue=H._fullLayout,he=ue._basePlotModules,Ae,ke,ce,me=[],pe=0;pe<ae.length;pe++)me.push(pe);function Ee(){if(H._fullLayout)for(var xe=0;xe<he.length;xe++)he[xe].transitionAxes&&he[xe].transitionAxes(H,P,Ae,j)}function we(){if(H._fullLayout)for(var xe=0;xe<he.length;xe++)he[xe].plot(H,ce,ke,j)}P.length&&Y.anim?C.ordering==="traces first"?(Ae=n.extendFlat({},C,{duration:0}),ce=me,ke=C,setTimeout(Ee,C.duration),we()):(Ae=C,ce=null,ke=n.extendFlat({},C,{duration:0}),setTimeout(we,Ae.duration),Ee()):P.length?(Ae=C,Ee()):Y.anim&&(ce=me,ke=C,we())},fe(H,C,K)};function fe(H,Y,S){var E=!1;function z(he){var Ae=Promise.resolve();if(!he)return Ae;for(;he.length;)Ae=Ae.then(he.shift());return Ae}function C(he){if(he)for(;he.length;)he.shift()}function K(){return H.emit("plotly_transitioning",[]),new Promise(function(he){H._transitioning=!0,Y.duration>0&&(H._transitioningWithDuration=!0),H._transitionData._interruptCallbacks.push(function(){E=!0}),S.redraw&&H._transitionData._interruptCallbacks.push(function(){return r.call("redraw",H)}),H._transitionData._interruptCallbacks.push(function(){H.emit("plotly_transitioninterrupted",[])});var Ae=0,ke=0;function ce(){return Ae++,function(){ke++,!E&&ke===Ae&&P(he)}}S.runFn(ce),setTimeout(ce())})}function P(he){if(H._transitionData)return C(H._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(S.redraw)return r.call("redraw",H)}).then(function(){H._transitioning=!1,H._transitioningWithDuration=!1,H.emit("plotly_transitioned",[])}).then(he)}function j(){if(H._transitionData)return H._transitioning=!1,z(H._transitionData._interruptCallbacks)}var ae=[p.previousPromises,j,S.prepareFn,p.rehover,p.reselect,K],ue=n.syncOrAsync(ae,H);return(!ue||!ue.then)&&(ue=Promise.resolve()),ue.then(function(){return H})}p.doCalcdata=function(H,Y){var S=h.list(H),E=H._fullData,z=H._fullLayout,C,K,P,j,ae=new Array(E.length),ue=(H.calcdata||[]).slice();for(H.calcdata=ae,z._numBoxes=0,z._numViolins=0,z._violinScaleGroupStats={},H._hmpixcount=0,H._hmlumcount=0,z._piecolormap={},z._sunburstcolormap={},z._treemapcolormap={},z._iciclecolormap={},z._funnelareacolormap={},P=0;P<E.length;P++)if(Array.isArray(Y)&&Y.indexOf(P)===-1){ae[P]=ue[P];continue}for(P=0;P<E.length;P++)C=E[P],C._arrayAttrs=f.findArrayAttributes(C),C._extremes={};var he=z._subplots.polar||[];for(P=0;P<he.length;P++)S.push(z[he[P]].radialaxis,z[he[P]].angularaxis);for(var Ae in z._colorAxes){var ke=z[Ae];ke.cauto!==!1&&(delete ke.cmin,delete ke.cmax)}var ce=!1;function me(we){if(C=E[we],K=C._module,C.visible===!0&&C.transforms){if(K&&K.calc){var xe=K.calc(H,C);xe[0]&&xe[0].t&&xe[0].t._scene&&delete xe[0].t._scene.dirty}for(j=0;j<C.transforms.length;j++){var Fe=C.transforms[j];K=v[Fe.type],K&&K.calcTransform&&(C._hasCalcTransform=!0,ce=!0,K.calcTransform(H,C,Fe))}}}function pe(we,xe){if(C=E[we],K=C._module,!!K.isContainer===xe){var Fe=[];if(C.visible===!0&&C._length!==0){delete C._indexToPoints;var Ke=C.transforms||[];for(j=Ke.length-1;j>=0;j--)if(Ke[j].enabled){C._indexToPoints=Ke[j]._indexToPoints;break}K&&K.calc&&(Fe=K.calc(H,C))}(!Array.isArray(Fe)||!Fe[0])&&(Fe=[{x:u,y:u}]),Fe[0].t||(Fe[0].t={}),Fe[0].trace=C,ae[we]=Fe}}for(le(S,E,z),P=0;P<E.length;P++)pe(P,!0);for(P=0;P<E.length;P++)me(P);for(ce&&le(S,E,z),P=0;P<E.length;P++)pe(P,!0);for(P=0;P<E.length;P++)pe(P,!1);ve(H);var Ee=Me(S,H);if(Ee.length){for(z._numBoxes=0,z._numViolins=0,P=0;P<Ee.length;P++)pe(Ee[P],!0);for(P=0;P<Ee.length;P++)pe(Ee[P],!1);ve(H)}r.getComponentMethod("fx","calc")(H),r.getComponentMethod("errorbars","calc")(H)};var ye=/(total|sum|min|max|mean|median) (ascending|descending)/;function Me(H,Y){var S=[],E,z,C,K,P;function j(Le,Te,Pe){var Ce=Te._id.charAt(0);if(Le==="histogram2dcontour"){var Oe=Te._counterAxes[0],oe=h.getFromId(Y,Oe),be=Ce==="x"||Oe==="x"&&oe.type==="category",De=Ce==="y"||Oe==="y"&&oe.type==="category";return function(Se,ze){return Se===0||ze===0||be&&Se===Pe[ze].length-1||De&&ze===Pe.length-1?-1:(Ce==="y"?ze:Se)-1}}else return function(Se,ze){return Ce==="y"?ze:Se}}var ae={min:function(Le){return n.aggNums(Math.min,null,Le)},max:function(Le){return n.aggNums(Math.max,null,Le)},sum:function(Le){return n.aggNums(function(Te,Pe){return Te+Pe},null,Le)},total:function(Le){return n.aggNums(function(Te,Pe){return Te+Pe},null,Le)},mean:function(Le){return n.mean(Le)},median:function(Le){return n.median(Le)}};function ue(Le,Te){return Le[1]-Te[1]}function he(Le,Te){return Te[1]-Le[1]}for(E=0;E<H.length;E++){var Ae=H[E];if(Ae.type==="category"){var ke=Ae.categoryorder.match(ye);if(ke){var ce=ke[1],me=ke[2],pe=Ae._id.charAt(0),Ee=pe==="x",we=[];for(z=0;z<Ae._categories.length;z++)we.push([Ae._categories[z],[]]);for(z=0;z<Ae._traceIndices.length;z++){var xe=Ae._traceIndices[z],Fe=Y._fullData[xe];if(Fe.visible===!0){var Ke=Fe.type;r.traceIs(Fe,"histogram")&&(delete Fe._xautoBinFinished,delete Fe._yautoBinFinished);var je=Ke==="splom",Je=Ke==="scattergl",ht=Y.calcdata[xe];for(C=0;C<ht.length;C++){var Tt=ht[C],gt,tt;if(je){var Ct=Fe._axesDim[Ae._id];if(!Ee){var rt=Fe._diag[Ct][0];rt&&(Ae=Y._fullLayout[h.id2name(rt)])}var Mt=Tt.trace.dimensions[Ct].values;for(K=0;K<Mt.length;K++)for(gt=Ae._categoriesMap[Mt[K]],P=0;P<Tt.trace.dimensions.length;P++)if(P!==Ct){var Dt=Tt.trace.dimensions[P];we[gt][1].push(Dt.values[K])}}else if(Je){for(K=0;K<Tt.t.x.length;K++)Ee?(gt=Tt.t.x[K],tt=Tt.t.y[K]):(gt=Tt.t.y[K],tt=Tt.t.x[K]),we[gt][1].push(tt);Tt.t&&Tt.t._scene&&delete Tt.t._scene.dirty}else if(Tt.hasOwnProperty("z")){tt=Tt.z;var kt=j(Fe.type,Ae,tt);for(K=0;K<tt.length;K++)for(P=0;P<tt[K].length;P++)gt=kt(P,K),gt+1&&we[gt][1].push(tt[K][P])}else for(gt=Tt.p,gt===void 0&&(gt=Tt[pe]),tt=Tt.s,tt===void 0&&(tt=Tt.v),tt===void 0&&(tt=Ee?Tt.y:Tt.x),Array.isArray(tt)||(tt===void 0?tt=[]:tt=[tt]),K=0;K<tt.length;K++)we[gt][1].push(tt[K])}}}Ae._categoriesValue=we;var At=[];for(z=0;z<we.length;z++)At.push([we[z][0],ae[ce](we[z][1])]);At.sort(me==="descending"?he:ue),Ae._categoriesAggregatedValue=At,Ae._initialCategories=At.map(function(Le){return Le[0]}),S=S.concat(Ae.sortByInitialCategories())}}}return S}function le(H,Y,S){var E={};function z(j){j.clearCalc(),j.type==="multicategory"&&j.setupMultiCategory(Y),E[j._id]=1}n.simpleMap(H,z);for(var C=S._axisMatchGroups||[],K=0;K<C.length;K++)for(var P in C[K])E[P]||z(S[h.id2name(P)])}function ve(H){var Y=H._fullLayout,S=Y._visibleModules,E={},z,C,K;for(C=0;C<S.length;C++){var P=S[C],j=P.crossTraceCalc;if(j){var ae=P.basePlotModule.name;E[ae]?n.pushUnique(E[ae],j):E[ae]=[j]}}for(K in E){var ue=E[K],he=Y._subplots[K];if(Array.isArray(he))for(z=0;z<he.length;z++){var Ae=he[z],ke=K==="cartesian"?Y._plots[Ae]:Y[Ae];for(C=0;C<ue.length;C++)ue[C](H,ke,Ae)}else for(C=0;C<ue.length;C++)ue[C](H)}}p.rehover=function(H){H._fullLayout._rehover&&H._fullLayout._rehover()},p.redrag=function(H){H._fullLayout._redrag&&H._fullLayout._redrag()},p.reselect=function(H){var Y=H._fullLayout,S=(H.layout||{}).selections,E=Y._previousSelections;Y._previousSelections=S;var z=Y._reselect||JSON.stringify(S)!==JSON.stringify(E);r.getComponentMethod("selections","reselect")(H,z)},p.generalUpdatePerTraceModule=function(H,Y,S,E){var z=Y.traceHash,C={},K;for(K=0;K<S.length;K++){var P=S[K],j=P[0].trace;j.visible&&(C[j.type]=C[j.type]||[],C[j.type].push(P))}for(var ae in z)if(!C[ae]){var ue=z[ae][0],he=ue[0].trace;he.visible=!1,C[ae]=[ue]}for(var Ae in C){var ke=C[Ae],ce=ke[0][0].trace._module;ce.plot(H,Y,n.filterVisible(ke),E)}Y.traceHash=C},p.plotBasePlot=function(H,Y,S,E,z){var C=r.getModule(H),K=x(Y.calcdata,C)[0];C.plot(Y,K,E,z)},p.cleanBasePlot=function(H,Y,S,E,z){var C=z._has&&z._has(H),K=S._has&&S._has(H);C&&!K&&z["_"+H+"layer"].selectAll("g.trace").remove()}},5386:function(te,I,e){var o=e(1562);o.FORMAT_LINK,o.DATE_FORMAT_LINK;function g(s){var i=s.description?" "+s.description:"",r=s.keys||[];if(r.length>0){for(var f=[],l=0;l<r.length;l++)f[l]="`"+r[l]+"`";i=i+"Finally, the template string has access to ",r.length===1?i=i+"variable "+f[0]:i=i+"variables "+f.slice(0,-1).join(", ")+" and "+f.slice(-1)+"."}return i}I.fF=function(s,i){s=s||{},i=i||{},g(i);var r={valType:"string",dflt:"",editType:s.editType||"none"};return s.arrayOk!==!1&&(r.arrayOk=!0),r},I.si=function(s,i){s=s||{},i=i||{},g(i);var r={valType:"string",dflt:"",editType:s.editType||"calc"};return s.arrayOk!==!1&&(r.arrayOk=!0),r},I.R=function(s,i){s=s||{},i=i||{},s.newshape,g(i);var r={valType:"string",dflt:"",editType:s.editType||"arraydraw"};return r}},3972:function(te,I,e){var o=e(7769),g=e(4213),s=e(5138),i=e(1965),r=e(4401).addStyleRule,f=e(1426),l=e(9012),n=e(820),t=f.extendFlat,u=f.extendDeepAll;I.modules={},I.allCategories={},I.allTypes=[],I.subplotsRegistry={},I.transformsRegistry={},I.componentsRegistry={},I.layoutArrayContainers=[],I.layoutArrayRegexes=[],I.traceLayoutAttributes={},I.localeRegistry={},I.apiMethodRegistry={},I.collectableSubplotTypes=null,I.register=function(w){if(I.collectableSubplotTypes=null,w)w&&!Array.isArray(w)&&(w=[w]);else throw new Error("No argument passed to Plotly.register.");for(var _=0;_<w.length;_++){var D=w[_];if(!D)throw new Error("Invalid module was attempted to be registered!");switch(D.moduleType){case"trace":h(D);break;case"transform":d(D);break;case"component":y(D);break;case"locale":T(D);break;case"apiMethod":var B=D.name;I.apiMethodRegistry[B]=D.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},I.getModule=function(b){var w=I.modules[v(b)];return w?w._module:!1},I.traceIs=function(b,w){if(b=v(b),b==="various")return!1;var _=I.modules[b];return _||(b&&o.log("Unrecognized trace type "+b+"."),_=I.modules[l.type.dflt]),!!_.categories[w]},I.getTransformIndices=function(b,w){for(var _=[],D=b.transforms||[],B=0;B<D.length;B++)D[B].type===w&&_.push(B);return _},I.hasTransform=function(b,w){for(var _=b.transforms||[],D=0;D<_.length;D++)if(_[D].type===w)return!0;return!1},I.getComponentMethod=function(b,w){var _=I.componentsRegistry[b];return _&&_[w]||g},I.call=function(){var b=arguments[0],w=[].slice.call(arguments,1);return I.apiMethodRegistry[b].apply(null,w)};function h(b){var w=b.name,_=b.categories,D=b.meta;if(I.modules[w]){o.log("Type "+w+" already registered");return}I.subplotsRegistry[b.basePlotModule.name]||m(b.basePlotModule);for(var B={},U=0;U<_.length;U++)B[_[U]]=!0,I.allCategories[_[U]]=!0;I.modules[w]={_module:b,categories:B},D&&Object.keys(D).length&&(I.modules[w].meta=D),I.allTypes.push(w);for(var L in I.componentsRegistry)M(L,w);b.layoutAttributes&&t(I.traceLayoutAttributes,b.layoutAttributes);var O=b.basePlotModule,R=O.name;if(R==="mapbox"){var Z=O.constants.styleRules;for(var $ in Z)r(".js-plotly-plot .plotly .mapboxgl-"+$,Z[$])}(R==="geo"||R==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function m(b){var w=b.name;if(I.subplotsRegistry[w]){o.log("Plot type "+w+" already registered.");return}x(b),I.subplotsRegistry[w]=b;for(var _ in I.componentsRegistry)p(_,b.name)}function y(b){if(typeof b.name!="string")throw new Error("Component module *name* must be a string.");var w=b.name;I.componentsRegistry[w]=b,b.layoutAttributes&&(b.layoutAttributes._isLinkedToArray&&s(I.layoutArrayContainers,w),x(b));for(var _ in I.modules)M(w,_);for(var D in I.subplotsRegistry)p(w,D);for(var B in I.transformsRegistry)c(w,B);b.schema&&b.schema.layout&&u(n,b.schema.layout)}function d(b){if(typeof b.name!="string")throw new Error("Transform module *name* must be a string.");var w="Transform module "+b.name,_=typeof b.transform=="function",D=typeof b.calcTransform=="function";if(!_&&!D)throw new Error(w+" is missing a *transform* or *calcTransform* method.");_&&D&&o.log([w+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),i(b.attributes)||o.log(w+" registered without an *attributes* object."),typeof b.supplyDefaults!="function"&&o.log(w+" registered without a *supplyDefaults* method."),I.transformsRegistry[b.name]=b;for(var B in I.componentsRegistry)c(B,b.name)}function T(b){var w=b.name,_=w.split("-")[0],D=b.dictionary,B=b.format,U=D&&Object.keys(D).length,L=B&&Object.keys(B).length,O=I.localeRegistry,R=O[w];if(R||(O[w]=R={}),_!==w){var Z=O[_];Z||(O[_]=Z={}),U&&Z.dictionary===R.dictionary&&(Z.dictionary=D),L&&Z.format===R.format&&(Z.format=B)}U&&(R.dictionary=D),L&&(R.format=B)}function x(b){if(b.layoutAttributes){var w=b.layoutAttributes._arrayAttrRegexps;if(w)for(var _=0;_<w.length;_++)s(I.layoutArrayRegexes,w[_])}}function M(b,w){var _=I.componentsRegistry[b].schema;if(!(!_||!_.traces)){var D=_.traces[w];D&&u(I.modules[w]._module.attributes,D)}}function c(b,w){var _=I.componentsRegistry[b].schema;if(!(!_||!_.transforms)){var D=_.transforms[w];D&&u(I.transformsRegistry[w].attributes,D)}}function p(b,w){var _=I.componentsRegistry[b].schema;if(!(!_||!_.subplots)){var D=I.subplotsRegistry[w],B=D.layoutAttributes,U=D.attr==="subplot"?D.name:D.attr;Array.isArray(U)&&(U=U[0]);var L=_.subplots[U];B&&L&&u(B,L)}}function v(b){return typeof b=="object"&&(b=b.type),b}},1914:function(te,I,e){var o=e(3972),g=e(1828),s=g.extendFlat,i=g.extendDeep;function r(l){var n;switch(l){case"themes__thumb":n={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":n={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:n={}}return n}function f(l){var n=["xaxis","yaxis","zaxis"];return n.indexOf(l.slice(0,5))>-1}te.exports=function(n,t){var u,h=n.data,m=n.layout,y=i([],h),d=i({},m,r(t.tileClass)),T=n._context||{};if(t.width&&(d.width=t.width),t.height&&(d.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){d.annotations=[];var x=Object.keys(d);for(u=0;u<x.length;u++)f(x[u])&&(d[x[u]].title={text:""});for(u=0;u<y.length;u++){var M=y[u];M.showscale=!1,M.marker&&(M.marker.showscale=!1),o.traceIs(M,"pie-like")&&(M.textposition="none")}}if(Array.isArray(t.annotations))for(u=0;u<t.annotations.length;u++)d.annotations.push(t.annotations[u]);var c=Object.keys(d).filter(function(_){return _.match(/^scene\d*$/)});if(c.length){var p={};for(t.tileClass==="thumbnail"&&(p={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),u=0;u<c.length;u++){var v=d[c[u]];v.xaxis||(v.xaxis={}),v.yaxis||(v.yaxis={}),v.zaxis||(v.zaxis={}),s(v.xaxis,p),s(v.yaxis,p),s(v.zaxis,p),v._scene=null}}var b=document.createElement("div");t.tileClass&&(b.className=t.tileClass);var w={gd:b,td:b,layout:d,data:y,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:T.mapboxAccessToken}};return t.setBackground!=="transparent"&&(w.config.setBackground=t.setBackground||"opaque"),w.gd.defaultLayout=r(t.tileClass),w}},7239:function(te,I,e){var o=e(1828),g=e(403),s=e(2435),i=e(5095);function r(f,l){var n;return o.isPlainObject(f)||(n=o.getGraphDiv(f)),l=l||{},l.format=l.format||"png",l.width=l.width||null,l.height=l.height||null,l.imageDataOnly=!0,new Promise(function(t,u){n&&n._snapshotInProgress&&u(new Error("Snapshotting already in progress.")),o.isIE()&&l.format!=="svg"&&u(new Error(i.MSG_IE_BAD_FORMAT)),n&&(n._snapshotInProgress=!0);var h=g(f,l),m=l.filename||f.fn||"newplot";m+="."+l.format.replace("-","."),h.then(function(y){return n&&(n._snapshotInProgress=!1),s(y,m,l.format)}).then(function(y){t(y)}).catch(function(y){n&&(n._snapshotInProgress=!1),u(y)})})}te.exports=r},2435:function(te,I,e){var o=e(1828),g=e(5095);function s(i,r,f){var l=document.createElement("a"),n="download"in l,t=new Promise(function(u,h){var m,y;if(o.isIE())return m=g.createBlob(i,"svg"),window.navigator.msSaveBlob(m,r),m=null,u(r);if(n)return m=g.createBlob(i,f),y=g.createObjectURL(m),l.href=y,l.download=r,document.body.appendChild(l),l.click(),document.body.removeChild(l),g.revokeObjectURL(y),m=null,u(r);if(o.isSafari()){var d=f==="svg"?",":";base64,";return g.octetStream(d+encodeURIComponent(i)),u(r)}h(new Error("download error"))});return t}te.exports=s},5095:function(te,I,e){var o=e(3972);I.getDelay=function(i){return i._has&&(i._has("gl3d")||i._has("gl2d")||i._has("mapbox"))?500:0},I.getRedrawFunc=function(i){return function(){o.getComponentMethod("colorbar","draw")(i)}},I.encodeSVG=function(i){return"data:image/svg+xml,"+encodeURIComponent(i)},I.encodeJSON=function(i){return"data:application/json,"+encodeURIComponent(i)};var g=window.URL||window.webkitURL;I.createObjectURL=function(i){return g.createObjectURL(i)},I.revokeObjectURL=function(i){return g.revokeObjectURL(i)},I.createBlob=function(i,r){if(r==="svg")return new window.Blob([i],{type:"image/svg+xml;charset=utf-8"});if(r==="full-json")return new window.Blob([i],{type:"application/json;charset=utf-8"});var f=s(window.atob(i));return new window.Blob([f],{type:"image/"+r})},I.octetStream=function(i){document.location.href="data:application/octet-stream"+i};function s(i){for(var r=i.length,f=new ArrayBuffer(r),l=new Uint8Array(f),n=0;n<r;n++)l[n]=i.charCodeAt(n);return f}I.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,I.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},4511:function(te,I,e){var o=e(5095),g={getDelay:o.getDelay,getRedrawFunc:o.getRedrawFunc,clone:e(1914),toSVG:e(5900),svgToImg:e(942),toImage:e(6395),downloadImage:e(7239)};te.exports=g},942:function(te,I,e){var o=e(1828),g=e(5398).EventEmitter,s=e(5095);function i(r){var f=r.emitter||new g,l=new Promise(function(n,t){var u=window.Image,h=r.svg,m=r.format||"png";if(o.isIE()&&m!=="svg"){var y=new Error(s.MSG_IE_BAD_FORMAT);return t(y),r.promise?l:f.emit("error",y)}var d=r.canvas,T=r.scale||1,x=r.width||300,M=r.height||150,c=T*x,p=T*M,v=d.getContext("2d",{willReadFrequently:!0}),b=new u,w,_;m==="svg"||o.isSafari()?_=s.encodeSVG(h):(w=s.createBlob(h,"svg"),_=s.createObjectURL(w)),d.width=c,d.height=p,b.onload=function(){var D;switch(w=null,s.revokeObjectURL(_),m!=="svg"&&v.drawImage(b,0,0,c,p),m){case"jpeg":D=d.toDataURL("image/jpeg");break;case"png":D=d.toDataURL("image/png");break;case"webp":D=d.toDataURL("image/webp");break;case"svg":D=_;break;default:var B="Image format is not jpeg, png, svg or webp.";if(t(new Error(B)),!r.promise)return f.emit("error",B)}n(D),r.promise||f.emit("success",D)},b.onerror=function(D){if(w=null,s.revokeObjectURL(_),t(D),!r.promise)return f.emit("error",D)},b.src=_});return r.promise?l:f}te.exports=i},6395:function(te,I,e){var o=e(5398).EventEmitter,g=e(3972),s=e(1828),i=e(5095),r=e(1914),f=e(5900),l=e(942);function n(t,u){var h=new o,m=r(t,{format:"png"}),y=m.gd;y.style.position="absolute",y.style.left="-5000px",document.body.appendChild(y);function d(){var x=i.getDelay(y._fullLayout);setTimeout(function(){var M=f(y),c=document.createElement("canvas");c.id=s.randstr(),h=l({format:u.format,width:y._fullLayout.width,height:y._fullLayout.height,canvas:c,emitter:h,svg:M}),h.clean=function(){y&&document.body.removeChild(y)}},x)}var T=i.getRedrawFunc(y);return g.call("_doPlot",y,m.data,m.layout,m.config).then(T).then(d).catch(function(x){h.emit("error",x)}),h}te.exports=n},5900:function(te,I,e){var o=e(9898),g=e(1828),s=e(1424),i=e(7901),r=e(7922),f=/"/g,l="TOBESTRIPPED",n=new RegExp('("'+l+")|("+l+'")',"g");function t(h){var m=o.select("body").append("div").style({display:"none"}).html(""),y=h.replace(/(&[^;]*;)/gi,function(d){return d==="&lt;"?"&#60;":d==="&rt;"?"&#62;":d.indexOf("<")!==-1||d.indexOf(">")!==-1?"":m.html(d).text()});return m.remove(),y}function u(h){return h.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}te.exports=function(m,y,d){var T=m._fullLayout,x=T._paper,M=T._toppaper,c=T.width,p=T.height,v;x.insert("rect",":first-child").call(s.setRect,0,0,c,p).call(i.fill,T.paper_bgcolor);var b=T._basePlotModules||[];for(v=0;v<b.length;v++){var w=b[v];w.toSVG&&w.toSVG(m)}if(M){var _=M.node().childNodes,D=Array.prototype.slice.call(_);for(v=0;v<D.length;v++){var B=D[v];B.childNodes.length&&x.node().appendChild(B)}}T._draggers&&T._draggers.remove(),x.node().style.background="",x.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var L=o.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){L.remove();return}else L.style({visibility:null,display:null});var O=this.style.fontFamily;O&&O.indexOf('"')!==-1&&L.style("font-family",O.replace(f,l))}),x.selectAll(".gradient_filled,.pattern_filled").each(function(){var L=o.select(this),O=this.style.fill;O&&O.indexOf("url(")!==-1&&L.style("fill",O.replace(f,l));var R=this.style.stroke;R&&R.indexOf("url(")!==-1&&L.style("stroke",R.replace(f,l))}),(y==="pdf"||y==="eps")&&x.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),x.node().setAttributeNS(r.xmlns,"xmlns",r.svg),x.node().setAttributeNS(r.xmlns,"xmlns:xlink",r.xlink),y==="svg"&&d&&(x.attr("width",d*c),x.attr("height",d*p),x.attr("viewBox","0 0 "+c+" "+p));var U=new window.XMLSerializer().serializeToString(x.node());return U=t(U),U=u(U),U=U.replace(n,"'"),g.isIE()&&(U=U.replace(/"/gi,"'"),U=U.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),U=U.replace(/(\\')/gi,'"')),U}},5341:function(te,I,e){var o=e(1828);te.exports=function(s,i){for(var r=0;r<s.length;r++)s[r].i=r;o.mergeArray(i.text,s,"tx"),o.mergeArray(i.hovertext,s,"htx");var f=i.marker;if(f){o.mergeArray(f.opacity,s,"mo",!0),o.mergeArray(f.color,s,"mc");var l=f.line;l&&(o.mergeArray(l.color,s,"mlc"),o.mergeArrayCastPositive(l.width,s,"mlw"))}}},1486:function(te,I,e){var o=e(2196),g=e(2663).axisHoverFormat,s=e(5386).fF,i=e(5386).si,r=e(693),f=e(1940),l=e(7313),n=e(9952).u,t=e(1426).extendFlat,u=f({editType:"calc",arrayOk:!0,colorEditType:"style"}),h=o.marker,m=h.line,y=t({},m.width,{dflt:0}),d=t({width:y,editType:"calc"},r("marker.line")),T=t({line:d,editType:"calc"},r("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:n});te.exports={x:o.x,x0:o.x0,dx:o.dx,y:o.y,y0:o.y0,dy:o.dy,xperiod:o.xperiod,yperiod:o.yperiod,xperiod0:o.xperiod0,yperiod0:o.yperiod0,xperiodalignment:o.xperiodalignment,yperiodalignment:o.yperiodalignment,xhoverformat:g("x"),yhoverformat:g("y"),text:o.text,texttemplate:i({editType:"plot"},{keys:l.eventDataKeys}),hovertext:o.hovertext,hovertemplate:s({},{keys:l.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:t({},u,{}),insidetextfont:t({},u,{}),outsidetextfont:t({},u,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:t({},o.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:T,offsetgroup:o.offsetgroup,alignmentgroup:o.alignmentgroup,selected:{marker:{opacity:o.selected.marker.opacity,color:o.selected.marker.color,editType:"style"},textfont:o.selected.textfont,editType:"style"},unselected:{marker:{opacity:o.unselected.marker.opacity,color:o.unselected.marker.color,editType:"style"},textfont:o.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},2290:function(te,I,e){var o=e(9298),g=e(2973),s=e(2869).hasColorscale,i=e(8803),r=e(5341),f=e(6279);te.exports=function(n,t){var u=o.getFromId(n,t.xaxis||"x"),h=o.getFromId(n,t.yaxis||"y"),m,y,d,T,x,M,c={msUTC:!!(t.base||t.base===0)};t.orientation==="h"?(m=u.makeCalcdata(t,"x",c),d=h.makeCalcdata(t,"y"),T=g(t,h,"y",d),x=!!t.yperiodalignment,M="y"):(m=h.makeCalcdata(t,"y",c),d=u.makeCalcdata(t,"x"),T=g(t,u,"x",d),x=!!t.xperiodalignment,M="x"),y=T.vals;for(var p=Math.min(y.length,m.length),v=new Array(p),b=0;b<p;b++)v[b]={p:y[b],s:m[b]},x&&(v[b].orig_p=d[b],v[b][M+"End"]=T.ends[b],v[b][M+"Start"]=T.starts[b]),t.ids&&(v[b].id=String(t.ids[b]));return s(t,"marker")&&i(n,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),s(t,"marker.line")&&i(n,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),r(v,t),f(v,t),v}},7313:function(te){te.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},1661:function(te,I,e){var o=e(2770),g=e(1828).isArrayOrTypedArray,s=e(606).BADNUM,i=e(3972),r=e(9298),f=e(9082).getAxisGroup,l=e(1546);function n(U,L){for(var O=L.xaxis,R=L.yaxis,Z=U._fullLayout,$=U._fullData,ie=U.calcdata,N=[],F=[],G=0;G<$.length;G++){var W=$[G];if(W.visible===!0&&i.traceIs(W,"bar")&&W.xaxis===O._id&&W.yaxis===R._id&&(W.orientation==="h"?N.push(ie[G]):F.push(ie[G]),W._computePh))for(var X=U.calcdata[G],J=0;J<X.length;J++)typeof X[J].ph0=="function"&&(X[J].ph0=X[J].ph0()),typeof X[J].ph1=="function"&&(X[J].ph1=X[J].ph1())}var ne={xCat:O.type==="category"||O.type==="multicategory",yCat:R.type==="category"||R.type==="multicategory",mode:Z.barmode,norm:Z.barnorm,gap:Z.bargap,groupgap:Z.bargroupgap};t(U,O,R,F,ne),t(U,R,O,N,ne)}function t(U,L,O,R,Z){if(R.length){var $,ie,N,F,G;switch(u(O,R),Z.mode){case"overlay":h(L,O,R,Z);break;case"group":for($=[],ie=[],N=0;N<R.length;N++)F=R[N],G=F[0].trace,G.offset===void 0?ie.push(F):$.push(F);ie.length&&m(U,L,O,ie,Z),$.length&&h(L,O,$,Z);break;case"stack":case"relative":for($=[],ie=[],N=0;N<R.length;N++)F=R[N],G=F[0].trace,G.base===void 0?ie.push(F):$.push(F);ie.length&&y(U,L,O,ie,Z),$.length&&h(L,O,$,Z);break}D(R,L)}}function u(U,L){var O,R;for(O=0;O<L.length;O++){var Z=L[O],$=Z[0].trace,ie=$.type==="funnel"?$._base:$.base,N,F=$.orientation==="h"?$.xcalendar:$.ycalendar,G=U.type==="category"||U.type==="multicategory"?function(){return null}:U.d2c;if(g(ie)){for(R=0;R<Math.min(ie.length,Z.length);R++)N=G(ie[R],0,F),o(N)?(Z[R].b=+N,Z[R].hasB=1):Z[R].b=0;for(;R<Z.length;R++)Z[R].b=0}else{N=G(ie,0,F);var W=o(N);for(N=W?N:0,R=0;R<Z.length;R++)Z[R].b=N,W&&(Z[R].hasB=1)}}}function h(U,L,O,R){for(var Z=0;Z<O.length;Z++){var $=O[Z],ie=new l([$],{posAxis:U,sepNegVal:!1,overlapNoMerge:!R.norm});d(U,ie,R),R.norm?(b(ie),_(L,ie,R)):p(L,ie)}}function m(U,L,O,R,Z){var $=new l(R,{posAxis:L,sepNegVal:!1,overlapNoMerge:!Z.norm});T(U,L,$,Z),w($,L),Z.norm?(b($),_(O,$,Z)):p(O,$)}function y(U,L,O,R,Z){var $=new l(R,{posAxis:L,sepNegVal:Z.mode==="relative",overlapNoMerge:!(Z.norm||Z.mode==="stack"||Z.mode==="relative")});d(L,$,Z),v(O,$,Z);for(var ie=0;ie<R.length;ie++)for(var N=R[ie],F=0;F<N.length;F++){var G=N[F];if(G.s!==s){var W=G.b+G.s===$.get(G.p,G.s);W&&(G._outmost=!0)}}Z.norm&&_(O,$,Z)}function d(U,L,O){for(var R=L.minDiff,Z=L.traces,$=R*(1-O.gap),ie=$,N=ie*(1-(O.groupgap||0)),F=-N/2,G=0;G<Z.length;G++){var W=Z[G],X=W[0].t;X.barwidth=N,X.poffset=F,X.bargroupwidth=$,X.bardelta=R}L.binWidth=Z[0][0].t.barwidth/100,x(L),M(U,L),c(U,L)}function T(U,L,O,R){for(var Z=U._fullLayout,$=O.positions,ie=O.distinctPositions,N=O.minDiff,F=O.traces,G=F.length,W=$.length!==ie.length,X=N*(1-R.gap),J=f(Z,L._id)+F[0][0].trace.orientation,ne=Z._alignmentOpts[J]||{},fe=0;fe<G;fe++){var ye=F[fe],Me=ye[0].trace,le=ne[Me.alignmentgroup]||{},ve=Object.keys(le.offsetGroups||{}).length,H;ve?H=X/ve:H=W?X/G:X;var Y=H*(1-(R.groupgap||0)),S;ve?S=((2*Me._offsetIndex+1-ve)*H-Y)/2:S=W?((2*fe+1-G)*H-Y)/2:-Y/2;var E=ye[0].t;E.barwidth=Y,E.poffset=S,E.bargroupwidth=X,E.bardelta=N}O.binWidth=F[0][0].t.barwidth/100,x(O),M(L,O),c(L,O,W)}function x(U){var L=U.traces,O,R;for(O=0;O<L.length;O++){var Z=L[O],$=Z[0],ie=$.trace,N=$.t,F=ie._offset||ie.offset,G=N.poffset,W;if(g(F)){for(W=Array.prototype.slice.call(F,0,Z.length),R=0;R<W.length;R++)o(W[R])||(W[R]=G);for(R=W.length;R<Z.length;R++)W.push(G);N.poffset=W}else F!==void 0&&(N.poffset=F);var X=ie._width||ie.width,J=N.barwidth;if(g(X)){var ne=Array.prototype.slice.call(X,0,Z.length);for(R=0;R<ne.length;R++)o(ne[R])||(ne[R]=J);for(R=ne.length;R<Z.length;R++)ne.push(J);if(N.barwidth=ne,F===void 0){for(W=[],R=0;R<Z.length;R++)W.push(G+(J-ne[R])/2);N.poffset=W}}else X!==void 0&&(N.barwidth=X,F===void 0&&(N.poffset=G+(J-X)/2))}}function M(U,L){for(var O=L.traces,R=B(U),Z=0;Z<O.length;Z++)for(var $=O[Z],ie=$[0].t,N=ie.poffset,F=Array.isArray(N),G=ie.barwidth,W=Array.isArray(G),X=0;X<$.length;X++){var J=$[X],ne=J.w=W?G[X]:G;J.p===void 0&&(J.p=J[R],J["orig_"+R]=J[R]);var fe=(F?N[X]:N)+ne/2;J[R]=J.p+fe}}function c(U,L,O){var R=L.traces,Z=L.minDiff,$=Z/2;r.minDtick(U,L.minDiff,L.distinctPositions[0],O);for(var ie=0;ie<R.length;ie++){var N=R[ie],F=N[0],G=F.trace,W=[],X,J,ne,fe;for(fe=0;fe<N.length;fe++)X=N[fe],J=X.p-$,ne=X.p+$,W.push(J,ne);if(G.width||G.offset){var ye=F.t,Me=ye.poffset,le=ye.barwidth,ve=Array.isArray(Me),H=Array.isArray(le);for(fe=0;fe<N.length;fe++){X=N[fe];var Y=ve?Me[fe]:Me,S=H?le[fe]:le;J=X.p+Y,ne=J+S,W.push(J,ne)}}G._extremes[U._id]=r.findExtremes(U,W,{padded:!1})}}function p(U,L){for(var O=L.traces,R=B(U),Z=0;Z<O.length;Z++){for(var $=O[Z],ie=$[0].trace,N=ie.type==="scatter",F=ie.orientation==="v",G=[],W=!1,X=0;X<$.length;X++){var J=$[X],ne=N?0:J.b,fe=N?F?J.y:J.x:ne+J.s;J[R]=fe,G.push(fe),J.hasB&&G.push(ne),(!J.hasB||!J.b)&&(W=!0)}ie._extremes[U._id]=r.findExtremes(U,G,{tozero:W,padded:!0})}}function v(U,L,O){var R=B(U),Z=L.traces,$,ie,N,F,G,W;for(F=0;F<Z.length;F++)if($=Z[F],ie=$[0].trace,ie.type==="funnel")for(G=0;G<$.length;G++)W=$[G],W.s!==s&&L.put(W.p,-.5*W.s);for(F=0;F<Z.length;F++){$=Z[F],ie=$[0].trace,N=ie.type==="funnel";var X=[];for(G=0;G<$.length;G++)if(W=$[G],W.s!==s){var J;N?J=W.s:J=W.s+W.b;var ne=L.put(W.p,J),fe=ne+J;W.b=ne,W[R]=fe,O.norm||(X.push(fe),W.hasB&&X.push(ne))}O.norm||(ie._extremes[U._id]=r.findExtremes(U,X,{tozero:!0,padded:!0}))}}function b(U){for(var L=U.traces,O=0;O<L.length;O++)for(var R=L[O],Z=0;Z<R.length;Z++){var $=R[Z];$.s!==s&&U.put($.p,$.b+$.s)}}function w(U,L){for(var O=U.traces,R=0;R<O.length;R++){var Z=O[R],$=Z[0].trace;if($.base===void 0)for(var ie=new l([Z],{posAxis:L,sepNegVal:!0,overlapNoMerge:!0}),N=0;N<Z.length;N++){var F=Z[N];if(F.p!==s){var G=ie.put(F.p,F.b+F.s);G&&(F.b=G)}}}}function _(U,L,O){var R=L.traces,Z=B(U),$=O.norm==="fraction"?1:100,ie=$/1e9,N=U.l2c(U.c2l(0)),F=O.mode==="stack"?$:N;function G(S){return o(U.c2l(S))&&(S<N-ie||S>F+ie||!o(N))}for(var W=0;W<R.length;W++){for(var X=R[W],J=X[0].trace,ne=[],fe=!1,ye=!1,Me=0;Me<X.length;Me++){var le=X[Me];if(le.s!==s){var ve=Math.abs($/L.get(le.p,le.s));le.b*=ve,le.s*=ve;var H=le.b,Y=H+le.s;le[Z]=Y,ne.push(Y),ye=ye||G(Y),le.hasB&&(ne.push(H),ye=ye||G(H)),(!le.hasB||!le.b)&&(fe=!0)}}J._extremes[U._id]=r.findExtremes(U,ne,{tozero:fe,padded:ye})}}function D(U,L){var O=B(L),R={},Z,$,ie,N=1/0,F=-1/0;for(Z=0;Z<U.length;Z++)for(ie=U[Z],$=0;$<ie.length;$++){var G=ie[$].p;o(G)&&(N=Math.min(N,G),F=Math.max(F,G))}var W=1e4/(F-N),X=R.round=function(ve){return String(Math.round(W*(ve-N)))};for(Z=0;Z<U.length;Z++){ie=U[Z],ie[0].t.extents=R;var J=ie[0].t.poffset,ne=Array.isArray(J);for($=0;$<ie.length;$++){var fe=ie[$],ye=fe[O]-fe.w/2;if(o(ye)){var Me=fe[O]+fe.w/2,le=X(fe.p);R[le]?R[le]=[Math.min(ye,R[le][0]),Math.max(Me,R[le][1])]:R[le]=[ye,Me]}fe.p0=fe.p+(ne?J[$]:J),fe.p1=fe.p0+fe.w,fe.s0=fe.b,fe.s1=fe.s0+fe.s}}}function B(U){return U._id.charAt(0)}te.exports={crossTraceCalc:n,setGroupPositions:t}},769:function(te,I,e){var o=e(1828),g=e(7901),s=e(3972),i=e(7513),r=e(3927),f=e(8340),l=e(6125),n=e(1486),t=o.coerceFont;function u(y,d,T,x){function M(w,_){return o.coerce(y,d,n,w,_)}var c=i(y,d,x,M);if(!c){d.visible=!1;return}r(y,d,x,M),M("xhoverformat"),M("yhoverformat"),M("orientation",d.x&&!d.y?"h":"v"),M("base"),M("offset"),M("width"),M("text"),M("hovertext"),M("hovertemplate");var p=M("textposition");m(y,d,x,M,p,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f(y,d,M,T,x);var v=(d.marker.line||{}).color,b=s.getComponentMethod("errorbars","supplyDefaults");b(y,d,v||g.defaultLine,{axis:"y"}),b(y,d,v||g.defaultLine,{axis:"x",inherit:"y"}),o.coerceSelectionMarkerOpacity(d,M)}function h(y,d){var T,x;function M(p){return o.coerce(x._input,x,n,p)}if(d.barmode==="group")for(var c=0;c<y.length;c++)x=y[c],x.type==="bar"&&(T=x._input,l(T,x,d,M))}function m(y,d,T,x,M,c){c=c||{};var p=c.moduleHasSelected!==!1,v=c.moduleHasUnselected!==!1,b=c.moduleHasConstrain!==!1,w=c.moduleHasCliponaxis!==!1,_=c.moduleHasTextangle!==!1,D=c.moduleHasInsideanchor!==!1,B=!!c.hasPathbar,U=Array.isArray(M)||M==="auto",L=U||M==="inside",O=U||M==="outside";if(L||O){var R=t(x,"textfont",T.font),Z=o.extendFlat({},R),$=y.textfont&&y.textfont.color,ie=!$;if(ie&&delete Z.color,t(x,"insidetextfont",Z),B){var N=o.extendFlat({},R);ie&&delete N.color,t(x,"pathbar.textfont",N)}O&&t(x,"outsidetextfont",R),p&&x("selected.textfont.color"),v&&x("unselected.textfont.color"),b&&x("constraintext"),w&&x("cliponaxis"),_&&x("textangle"),x("texttemplate")}L&&D&&x("insidetextanchor")}te.exports={supplyDefaults:u,crossTraceDefaults:h,handleText:m}},8065:function(te){te.exports=function(e,o,g){return e.x="xVal"in o?o.xVal:o.x,e.y="yVal"in o?o.yVal:o.y,o.xa&&(e.xaxis=o.xa),o.ya&&(e.yaxis=o.ya),g.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},9383:function(te,I,e){var o=e(2770),g=e(4267),s=e(1828).isArrayOrTypedArray;I.coerceString=function(i,r,f){if(typeof r=="string"){if(r||!i.noBlank)return r}else if((typeof r=="number"||r===!0)&&!i.strict)return String(r);return f!==void 0?f:i.dflt},I.coerceNumber=function(i,r,f){if(o(r)){r=+r;var l=i.min,n=i.max,t=l!==void 0&&r<l||n!==void 0&&r>n;if(!t)return r}return f!==void 0?f:i.dflt},I.coerceColor=function(i,r,f){return g(r).isValid()?r:f!==void 0?f:i.dflt},I.coerceEnumerated=function(i,r,f){return i.coerceNumber&&(r=+r),i.values.indexOf(r)!==-1?r:f!==void 0?f:i.dflt},I.getValue=function(i,r){var f;return Array.isArray(i)?r<i.length&&(f=i[r]):f=i,f},I.getLineWidth=function(i,r){var f=0<r.mlw?r.mlw:s(i.marker.line.width)?0:i.marker.line.width;return f}},5423:function(te,I,e){var o=e(211),g=e(3972),s=e(7901),i=e(1828).fillText,r=e(9383).getLineWidth,f=e(9298).hoverLabelText,l=e(606).BADNUM;function n(h,m,y,d,T){var x=t(h,m,y,d,T);if(x){var M=x.cd,c=M[0].trace,p=M[x.index];return x.color=u(c,p),g.getComponentMethod("errorbars","hoverInfo")(p,c,x),[x]}}function t(h,m,y,d,T){var x=h.cd,M=x[0].trace,c=x[0].t,p=d==="closest",v=M.type==="waterfall",b=h.maxHoverDistance,w=h.maxSpikeDistance,_,D,B,U,L,O,R;M.orientation==="h"?(_=y,D=m,B="y",U="x",L=Me,O=ne):(_=m,D=y,B="x",U="y",O=Me,L=ne);var Z=M[B+"period"],$=p||Z;function ie(j){return F(j,-1)}function N(j){return F(j,1)}function F(j,ae){var ue=j.w;return j[B]+ae*ue/2}function G(j){return j[B+"End"]-j[B+"Start"]}var W=p?ie:Z?function(j){return j.p-G(j)/2}:function(j){return Math.min(ie(j),j.p-c.bardelta/2)},X=p?N:Z?function(j){return j.p+G(j)/2}:function(j){return Math.max(N(j),j.p+c.bardelta/2)};function J(j,ae,ue){return T.finiteRange&&(ue=0),o.inbox(j-_,ae-_,ue+Math.min(1,Math.abs(ae-j)/R)-1)}function ne(j){return J(W(j),X(j),b)}function fe(j){return J(ie(j),N(j),w)}function ye(j){var ae=j[U];if(v){var ue=Math.abs(j.rawS)||0;D>0?ae+=ue:D<0&&(ae-=ue)}return ae}function Me(j){var ae=D,ue=j.b,he=ye(j);return o.inbox(ue-ae,he-ae,b+(he-ae)/(he-ue)-1)}function le(j){var ae=D,ue=j.b,he=ye(j);return o.inbox(ue-ae,he-ae,w+(he-ae)/(he-ue)-1)}var ve=h[B+"a"],H=h[U+"a"];R=Math.abs(ve.r2c(ve.range[1])-ve.r2c(ve.range[0]));function Y(j){return(L(j)+O(j))/2}var S=o.getDistanceFunction(d,L,O,Y);if(o.getClosest(x,S,h),h.index!==!1&&x[h.index].p!==l){$||(W=function(j){return Math.min(ie(j),j.p-c.bargroupwidth/2)},X=function(j){return Math.max(N(j),j.p+c.bargroupwidth/2)});var E=h.index,z=x[E],C=M.base?z.b+z.s:z.s;h[U+"0"]=h[U+"1"]=H.c2p(z[U],!0),h[U+"LabelVal"]=C;var K=c.extents[c.extents.round(z.p)];h[B+"0"]=ve.c2p(p?W(z):K[0],!0),h[B+"1"]=ve.c2p(p?X(z):K[1],!0);var P=z.orig_p!==void 0;return h[B+"LabelVal"]=P?z.orig_p:z.p,h.labelLabel=f(ve,h[B+"LabelVal"],M[B+"hoverformat"]),h.valueLabel=f(H,h[U+"LabelVal"],M[U+"hoverformat"]),h.baseLabel=f(H,z.b,M[U+"hoverformat"]),h.spikeDistance=(le(z)+fe(z))/2,h[B+"Spike"]=ve.c2p(z.p,!0),i(z,M,h),h.hovertemplate=M.hovertemplate,h}}function u(h,m){var y=m.mcc||h.marker.color,d=m.mlcc||h.marker.line.color,T=r(h,m);if(s.opacity(y))return y;if(s.opacity(d)&&T)return d}te.exports={hoverPoints:n,hoverOnBars:t,getTraceColor:u}},822:function(te,I,e){te.exports={attributes:e(1486),layoutAttributes:e(3641),supplyDefaults:e(769).supplyDefaults,crossTraceDefaults:e(769).crossTraceDefaults,supplyLayoutDefaults:e(3957),calc:e(2290),crossTraceCalc:e(1661).crossTraceCalc,colorbar:e(4898),arraysToCalcdata:e(5341),plot:e(7295).plot,style:e(6688).style,styleOnSelect:e(6688).styleOnSelect,hoverPoints:e(5423).hoverPoints,eventData:e(8065),selectPoints:e(1974),moduleType:"trace",name:"bar",basePlotModule:e(3612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},3641:function(te){te.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},3957:function(te,I,e){var o=e(3972),g=e(9298),s=e(1828),i=e(3641);te.exports=function(r,f,l){function n(c,p){return s.coerce(r,f,i,c,p)}for(var t=!1,u=!1,h=!1,m={},y=n("barmode"),d=0;d<l.length;d++){var T=l[d];if(o.traceIs(T,"bar")&&T.visible)t=!0;else continue;if(y==="group"){var x=T.xaxis+T.yaxis;m[x]&&(h=!0),m[x]=!0}if(T.visible&&T.type==="histogram"){var M=g.getFromId({_fullLayout:f},T[T.orientation==="v"?"xaxis":"yaxis"]);M.type!=="category"&&(u=!0)}}if(!t){delete f.barmode;return}y!=="overlay"&&n("barnorm"),n("bargap",u&&!h?0:.2),n("bargroupgap")}},7295:function(te,I,e){var o=e(9898),g=e(2770),s=e(1828),i=e(3893),r=e(7901),f=e(1424),l=e(3972),n=e(9298).tickText,t=e(2597),u=t.recordMinTextSize,h=t.clearMinTextSize,m=e(6688),y=e(9383),d=e(7313),T=e(1486),x=T.text,M=T.textposition,c=e(3469).appendArrayPointValue,p=d.TEXTPAD;function v(W){return W.id}function b(W){if(W.ids)return v}function w(W,X){return W<X?1:-1}function _(W,X,J,ne){var fe=[],ye=[],Me=ne?X:J,le=ne?J:X;return fe[0]=Me.c2p(W.s0,!0),ye[0]=le.c2p(W.p0,!0),fe[1]=Me.c2p(W.s1,!0),ye[1]=le.c2p(W.p1,!0),ne?[fe,ye]:[ye,fe]}function D(W,X,J,ne){if(!X.uniformtext.mode&&B(J)){var fe;return ne&&(fe=ne()),W.transition().duration(J.duration).ease(J.easing).each("end",function(){fe&&fe()}).each("interrupt",function(){fe&&fe()})}else return W}function B(W){return W&&W.duration>0}function U(W,X,J,ne,fe,ye){var Me=X.xaxis,le=X.yaxis,ve=W._fullLayout,H=W._context.staticPlot;fe||(fe={mode:ve.barmode,norm:ve.barmode,gap:ve.bargap,groupgap:ve.bargroupgap},h("bar",ve));var Y=s.makeTraceGroups(ne,J,"trace bars").each(function(S){var E=o.select(this),z=S[0].trace,C=z.type==="waterfall",K=z.type==="funnel",P=z.type==="bar",j=P||K,ae=0;C&&z.connector.visible&&z.connector.mode==="between"&&(ae=z.connector.line.width/2);var ue=z.orientation==="h",he=B(fe),Ae=s.ensureSingle(E,"g","points"),ke=b(z),ce=Ae.selectAll("g.point").data(s.identity,ke);ce.enter().append("g").classed("point",!0),ce.exit().remove(),ce.each(function(pe,Ee){var we=o.select(this),xe=_(pe,Me,le,ue),Fe=xe[0][0],Ke=xe[0][1],je=xe[1][0],Je=xe[1][1],ht=(ue?Ke-Fe:Je-je)===0;ht&&j&&y.getLineWidth(z,pe)&&(ht=!1),ht||(ht=!g(Fe)||!g(Ke)||!g(je)||!g(Je)),pe.isBlank=ht,ht&&(ue?Ke=Fe:Je=je),ae&&!ht&&(ue?(Fe-=w(Fe,Ke)*ae,Ke+=w(Fe,Ke)*ae):(je-=w(je,Je)*ae,Je+=w(je,Je)*ae));var Tt,gt;if(z.type==="waterfall"){if(!ht){var tt=z[pe.dir].marker;Tt=tt.line.width,gt=tt.color}}else Tt=y.getLineWidth(z,pe),gt=pe.mc||z.marker.color;function Ct(Le){var Te=o.round(Tt/2%1,2);return fe.gap===0&&fe.groupgap===0?o.round(Math.round(Le)-Te,2):Le}function rt(Le,Te,Pe){return Pe&&Le===Te?Le:Math.abs(Le-Te)>=2?Ct(Le):Le>Te?Math.ceil(Le):Math.floor(Le)}if(!W._context.staticPlot){var Mt=r.opacity(gt),Dt=Mt<1||Tt>.01?Ct:rt;Fe=Dt(Fe,Ke,ue),Ke=Dt(Ke,Fe,ue),je=Dt(je,Je,!ue),Je=Dt(Je,je,!ue)}var kt=D(s.ensureSingle(we,"path"),ve,fe,ye);if(kt.style("vector-effect",H?"none":"non-scaling-stroke").attr("d",isNaN((Ke-Fe)*(Je-je))||ht&&W._context.staticPlot?"M0,0Z":"M"+Fe+","+je+"V"+Je+"H"+Ke+"V"+je+"Z").call(f.setClipUrl,X.layerClipId,W),!ve.uniformtext.mode&&he){var At=f.makePointStyleFns(z);f.singlePointStyle(pe,kt,z,At,W)}L(W,X,we,S,Ee,Fe,Ke,je,Je,fe,ye),X.layerClipId&&f.hideOutsideRangePoint(pe,we.select("text"),Me,le,z.xcalendar,z.ycalendar)});var me=z.cliponaxis===!1;f.setClipUrl(E,me?null:X.layerClipId,W)});l.getComponentMethod("errorbars","plot")(W,Y,X,fe)}function L(W,X,J,ne,fe,ye,Me,le,ve,H,Y){var S=X.xaxis,E=X.yaxis,z=W._fullLayout,C;function K(Le,Te,Pe){var Ce=s.ensureSingle(Le,"text").text(Te).attr({class:"bartext bartext-"+C,"text-anchor":"middle","data-notex":1}).call(f.font,Pe).call(i.convertToTspans,W);return Ce}var P=ne[0].trace,j=P.orientation==="h",ae=ie(z,ne,fe,S,E);C=N(P,fe);var ue=H.mode==="stack"||H.mode==="relative",he=ne[fe],Ae=!ue||he._outmost;if(!ae||C==="none"||(he.isBlank||ye===Me||le===ve)&&(C==="auto"||C==="inside")){J.select("text").remove();return}var ke=z.font,ce=m.getBarColor(ne[fe],P),me=m.getInsideTextFont(P,fe,ke,ce),pe=m.getOutsideTextFont(P,fe,ke),Ee=J.datum();j?S.type==="log"&&Ee.s0<=0&&(S.range[0]<S.range[1]?ye=0:ye=S._length):E.type==="log"&&Ee.s0<=0&&(E.range[0]<E.range[1]?le=E._length:le=0);var we=Math.abs(Me-ye)-2*p,xe=Math.abs(ve-le)-2*p,Fe,Ke,je,Je,ht;if(C==="outside"&&!Ae&&!he.hasB&&(C="inside"),C==="auto")if(Ae){C="inside",ht=s.ensureUniformFontSize(W,me),Fe=K(J,ae,ht),Ke=f.bBox(Fe.node()),je=Ke.width,Je=Ke.height;var Tt=je>0&&Je>0,gt=je<=we&&Je<=xe,tt=je<=xe&&Je<=we,Ct=j?we>=je*(xe/Je):xe>=Je*(we/je);Tt&&(gt||tt||Ct)?C="inside":(C="outside",Fe.remove(),Fe=null)}else C="inside";if(!Fe){ht=s.ensureUniformFontSize(W,C==="outside"?pe:me),Fe=K(J,ae,ht);var rt=Fe.attr("transform");if(Fe.attr("transform",""),Ke=f.bBox(Fe.node()),je=Ke.width,Je=Ke.height,Fe.attr("transform",rt),je<=0||Je<=0){Fe.remove();return}}var Mt=P.textangle,Dt,kt;C==="outside"?(kt=P.constraintext==="both"||P.constraintext==="outside",Dt=$(ye,Me,le,ve,Ke,{isHorizontal:j,constrained:kt,angle:Mt})):(kt=P.constraintext==="both"||P.constraintext==="inside",Dt=Z(ye,Me,le,ve,Ke,{isHorizontal:j,constrained:kt,angle:Mt,anchor:P.insidetextanchor})),Dt.fontSize=ht.size,u(P.type==="histogram"?"bar":P.type,Dt,z),he.transform=Dt;var At=D(Fe,z,H,Y);s.setTransormAndDisplay(At,Dt)}function O(W){return W==="auto"?0:W}function R(W,X){var J=Math.PI/180*X,ne=Math.abs(Math.sin(J)),fe=Math.abs(Math.cos(J));return{x:W.width*fe+W.height*ne,y:W.width*ne+W.height*fe}}function Z(W,X,J,ne,fe,ye){var Me=!!ye.isHorizontal,le=!!ye.constrained,ve=ye.angle||0,H=ye.anchor||"end",Y=H==="end",S=H==="start",E=ye.leftToRight||0,z=(E+1)/2,C=1-z,K=fe.width,P=fe.height,j=Math.abs(X-W),ae=Math.abs(ne-J),ue=j>2*p&&ae>2*p?p:0;j-=2*ue,ae-=2*ue;var he=O(ve);ve==="auto"&&!(K<=j&&P<=ae)&&(K>j||P>ae)&&(!(K>ae||P>j)||K<P!=j<ae)&&(he+=90);var Ae=R(fe,he),ke=1;le&&(ke=Math.min(1,j/Ae.x,ae/Ae.y));var ce=fe.left*C+fe.right*z,me=(fe.top+fe.bottom)/2,pe=(W+p)*C+(X-p)*z,Ee=(J+ne)/2,we=0,xe=0;if(S||Y){var Fe=(Me?Ae.x:Ae.y)/2,Ke=Me?w(W,X):w(J,ne);Me?S?(pe=W+Ke*ue,we=-Ke*Fe):(pe=X-Ke*ue,we=Ke*Fe):S?(Ee=J+Ke*ue,xe=-Ke*Fe):(Ee=ne-Ke*ue,xe=Ke*Fe)}return{textX:ce,textY:me,targetX:pe,targetY:Ee,anchorX:we,anchorY:xe,scale:ke,rotate:he}}function $(W,X,J,ne,fe,ye){var Me=!!ye.isHorizontal,le=!!ye.constrained,ve=ye.angle||0,H=fe.width,Y=fe.height,S=Math.abs(X-W),E=Math.abs(ne-J),z;Me?z=E>2*p?p:0:z=S>2*p?p:0;var C=1;le&&(C=Me?Math.min(1,E/Y):Math.min(1,S/H));var K=O(ve),P=R(fe,K),j=(Me?P.x:P.y)/2,ae=(fe.left+fe.right)/2,ue=(fe.top+fe.bottom)/2,he=(W+X)/2,Ae=(J+ne)/2,ke=0,ce=0,me=Me?w(X,W):w(J,ne);return Me?(he=X-me*z,ke=me*j):(Ae=ne+me*z,ce=-me*j),{textX:ae,textY:ue,targetX:he,targetY:Ae,anchorX:ke,anchorY:ce,scale:C,rotate:K}}function ie(W,X,J,ne,fe){var ye=X[0].trace,Me=ye.texttemplate,le;return Me?le=F(W,X,J,ne,fe):ye.textinfo?le=G(X,J,ne,fe):le=y.getValue(ye.text,J),y.coerceString(x,le)}function N(W,X){var J=y.getValue(W.textposition,X);return y.coerceEnumerated(M,J)}function F(W,X,J,ne,fe){var ye=X[0].trace,Me=s.castOption(ye,J,"texttemplate");if(!Me)return"";var le=ye.type==="histogram",ve=ye.type==="waterfall",H=ye.type==="funnel",Y=ye.orientation==="h",S,E,z,C;Y?(S="y",E=fe,z="x",C=ne):(S="x",E=ne,z="y",C=fe);function K(ke){return n(E,E.c2l(ke),!0).text}function P(ke){return n(C,C.c2l(ke),!0).text}var j=X[J],ae={};ae.label=j.p,ae.labelLabel=ae[S+"Label"]=K(j.p);var ue=s.castOption(ye,j.i,"text");(ue===0||ue)&&(ae.text=ue),ae.value=j.s,ae.valueLabel=ae[z+"Label"]=P(j.s);var he={};c(he,ye,j.i),(le||he.x===void 0)&&(he.x=Y?ae.value:ae.label),(le||he.y===void 0)&&(he.y=Y?ae.label:ae.value),(le||he.xLabel===void 0)&&(he.xLabel=Y?ae.valueLabel:ae.labelLabel),(le||he.yLabel===void 0)&&(he.yLabel=Y?ae.labelLabel:ae.valueLabel),ve&&(ae.delta=+j.rawS||j.s,ae.deltaLabel=P(ae.delta),ae.final=j.v,ae.finalLabel=P(ae.final),ae.initial=ae.final-ae.delta,ae.initialLabel=P(ae.initial)),H&&(ae.value=j.s,ae.valueLabel=P(ae.value),ae.percentInitial=j.begR,ae.percentInitialLabel=s.formatPercent(j.begR),ae.percentPrevious=j.difR,ae.percentPreviousLabel=s.formatPercent(j.difR),ae.percentTotal=j.sumR,ae.percenTotalLabel=s.formatPercent(j.sumR));var Ae=s.castOption(ye,j.i,"customdata");return Ae&&(ae.customdata=Ae),s.texttemplateString(Me,ae,W._d3locale,he,ae,ye._meta||{})}function G(W,X,J,ne){var fe=W[0].trace,ye=fe.orientation==="h",Me=fe.type==="waterfall",le=fe.type==="funnel";function ve(Ae){var ke=ye?ne:J;return n(ke,Ae,!0).text}function H(Ae){var ke=ye?J:ne;return n(ke,+Ae,!0).text}var Y=fe.textinfo,S=W[X],E=Y.split("+"),z=[],C,K=function(Ae){return E.indexOf(Ae)!==-1};if(K("label")&&z.push(ve(W[X].p)),K("text")&&(C=s.castOption(fe,S.i,"text"),(C===0||C)&&z.push(C)),Me){var P=+S.rawS||S.s,j=S.v,ae=j-P;K("initial")&&z.push(H(ae)),K("delta")&&z.push(H(P)),K("final")&&z.push(H(j))}if(le){K("value")&&z.push(H(S.s));var ue=0;K("percent initial")&&ue++,K("percent previous")&&ue++,K("percent total")&&ue++;var he=ue>1;K("percent initial")&&(C=s.formatPercent(S.begR),he&&(C+=" of initial"),z.push(C)),K("percent previous")&&(C=s.formatPercent(S.difR),he&&(C+=" of previous"),z.push(C)),K("percent total")&&(C=s.formatPercent(S.sumR),he&&(C+=" of total"),z.push(C))}return z.join("<br>")}te.exports={plot:U,toMoveInsideBar:Z}},1974:function(te){te.exports=function(o,g){var s=o.cd,i=o.xaxis,r=o.yaxis,f=s[0].trace,l=f.type==="funnel",n=f.orientation==="h",t=[],u;if(g===!1)for(u=0;u<s.length;u++)s[u].selected=0;else for(u=0;u<s.length;u++){var h=s[u],m="ct"in h?h.ct:I(h,i,r,n,l);g.contains(m,!1,u,o)?(t.push({pointNumber:u,x:i.c2d(h.x),y:r.c2d(h.y)}),h.selected=1):h.selected=0}return t};function I(e,o,g,s,i){var r=o.c2p(s?e.s0:e.p0,!0),f=o.c2p(s?e.s1:e.p1,!0),l=g.c2p(s?e.p0:e.s0,!0),n=g.c2p(s?e.p1:e.s1,!0);return i?[(r+f)/2,(l+n)/2]:s?[f,(l+n)/2]:[(r+f)/2,n]}},1546:function(te,I,e){te.exports=g;var o=e(1828).distinctVals;function g(s,i){this.traces=s,this.sepNegVal=i.sepNegVal,this.overlapNoMerge=i.overlapNoMerge;for(var r=1/0,f=i.posAxis._id.charAt(0),l=[],n=0;n<s.length;n++){for(var t=s[n],u=0;u<t.length;u++){var h=t[u],m=h.p;m===void 0&&(m=h[f]),m!==void 0&&l.push(m)}t[0]&&t[0].width1&&(r=Math.min(t[0].width1,r))}this.positions=l;var y=o(l);this.distinctPositions=y.vals,y.vals.length===1&&r!==1/0?this.minDiff=r:this.minDiff=Math.min(y.minDiff,r);var d=(i.posAxis||{}).type;(d==="category"||d==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}g.prototype.put=function(i,r){var f=this.getLabel(i,r),l=this.bins[f]||0;return this.bins[f]=l+r,l},g.prototype.get=function(i,r){var f=this.getLabel(i,r);return this.bins[f]||0},g.prototype.getLabel=function(i,r){var f=r<0&&this.sepNegVal?"v":"^",l=this.overlapNoMerge?i:Math.round(i/this.binWidth);return f+l}},6688:function(te,I,e){var o=e(9898),g=e(7901),s=e(1424),i=e(1828),r=e(3972),f=e(2597).resizeText,l=e(1486),n=l.textfont,t=l.insidetextfont,u=l.outsidetextfont,h=e(9383);function m(D){var B=o.select(D).selectAll("g.barlayer").selectAll("g.trace");f(D,B,"bar");var U=B.size(),L=D._fullLayout;B.style("opacity",function(O){return O[0].trace.opacity}).each(function(O){(L.barmode==="stack"&&U>1||L.bargap===0&&L.bargroupgap===0&&!O[0].trace.marker.line.width)&&o.select(this).attr("shape-rendering","crispEdges")}),B.selectAll("g.points").each(function(O){var R=o.select(this),Z=O[0].trace;y(R,Z,D)}),r.getComponentMethod("errorbars","style")(B)}function y(D,B,U){s.pointStyle(D.selectAll("path"),B,U),d(D,B,U)}function d(D,B,U){D.selectAll("text").each(function(L){var O=o.select(this),R=i.ensureUniformFontSize(U,c(O,L,B,U));s.font(O,R)})}function T(D,B,U){var L=B[0].trace;L.selectedpoints?x(U,L,D):(y(U,L,D),r.getComponentMethod("errorbars","style")(U))}function x(D,B,U){s.selectedPointStyle(D.selectAll("path"),B),M(D.selectAll("text"),B,U)}function M(D,B,U){D.each(function(L){var O=o.select(this),R;if(L.selected){R=i.ensureUniformFontSize(U,c(O,L,B,U));var Z=B.selected.textfont&&B.selected.textfont.color;Z&&(R.color=Z),s.font(O,R)}else s.selectedTextStyle(O,B)})}function c(D,B,U,L){var O=L._fullLayout.font,R=U.textfont;if(D.classed("bartext-inside")){var Z=_(B,U);R=v(U,B.i,O,Z)}else D.classed("bartext-outside")&&(R=b(U,B.i,O));return R}function p(D,B,U){return w(n,D.textfont,B,U)}function v(D,B,U,L){var O=p(D,B,U),R=D._input.textfont===void 0||D._input.textfont.color===void 0||Array.isArray(D.textfont.color)&&D.textfont.color[B]===void 0;return R&&(O={color:g.contrast(L),family:O.family,size:O.size}),w(t,D.insidetextfont,B,O)}function b(D,B,U){var L=p(D,B,U);return w(u,D.outsidetextfont,B,L)}function w(D,B,U,L){B=B||{};var O=h.getValue(B.family,U),R=h.getValue(B.size,U),Z=h.getValue(B.color,U);return{family:h.coerceString(D.family,O,L.family),size:h.coerceNumber(D.size,R,L.size),color:h.coerceColor(D.color,Z,L.color)}}function _(D,B){return B.type==="waterfall"?B[D.dir].marker.color:D.mcc||D.mc||B.marker.color}te.exports={style:m,styleTextPoints:d,styleOnSelect:T,getInsideTextFont:v,getOutsideTextFont:b,getBarColor:_,resizeText:f}},8340:function(te,I,e){var o=e(7901),g=e(2869).hasColorscale,s=e(1586),i=e(1828).coercePattern;te.exports=function(f,l,n,t,u){var h=n("marker.color",t),m=g(f,"marker");m&&s(f,l,u,n,{prefix:"marker.",cLetter:"c"}),n("marker.line.color",o.defaultLine),g(f,"marker.line")&&s(f,l,u,n,{prefix:"marker.line.",cLetter:"c"}),n("marker.line.width"),n("marker.opacity"),i(n,"marker.pattern",h,m),n("selected.marker.color"),n("unselected.marker.color")}},2597:function(te,I,e){var o=e(9898),g=e(1828);function s(l,n,t){var u=l._fullLayout,h=u["_"+t+"Text_minsize"];if(h){var m=u.uniformtext.mode==="hide",y;switch(t){case"funnelarea":case"pie":case"sunburst":y="g.slice";break;case"treemap":case"icicle":y="g.slice, g.pathbar";break;default:y="g.points > g.point"}n.selectAll(y).each(function(d){var T=d.transform;if(T){T.scale=m&&T.hide?0:h/T.fontSize;var x=o.select(this).select("text");g.setTransormAndDisplay(x,T)}})}}function i(l,n,t){if(t.uniformtext.mode){var u=f(l),h=t.uniformtext.minsize,m=n.scale*n.fontSize;n.hide=m<h,t[u]=t[u]||1/0,n.hide||(t[u]=Math.min(t[u],Math.max(m,h)))}}function r(l,n){var t=f(l);n[t]=void 0}function f(l){return"_"+l+"Text_minsize"}te.exports={recordMinTextSize:i,clearMinTextSize:r,resizeText:s}},4e3:function(te,I,e){var o=e(9012),g=e(7670).Y,s=e(1940),i=e(2399),r=e(5386).fF,f=e(5386).si,l=e(1426).extendFlat,n=e(9952).u,t=s({editType:"plot",arrayOk:!0,colorEditType:"plot"});te.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:i.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:n,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:l({},o.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:r({},{keys:["label","color","value","percent","text"]}),texttemplate:f({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:l({},t,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:l({},t,{}),outsidetextfont:l({},t,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:l({},t,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:g({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:l({},t,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},3584:function(te,I,e){var o=e(4875);I.name="pie",I.plot=function(g,s,i,r){o.plotBasePlot(I.name,g,s,i,r)},I.clean=function(g,s,i,r){o.cleanBasePlot(I.name,g,s,i,r)}},2354:function(te,I,e){var o=e(2770),g=e(4267),s=e(7901),i={};function r(t,u){var h=[],m=t._fullLayout,y=m.hiddenlabels||[],d=u.labels,T=u.marker.colors||[],x=u.values,M=u._length,c=u._hasValues&&M,p,v;if(u.dlabel)for(d=new Array(M),p=0;p<M;p++)d[p]=String(u.label0+p*u.dlabel);var b={},w=f(m["_"+u.type+"colormap"]),_=0,D=!1;for(p=0;p<M;p++){var B,U,L;if(c){if(B=x[p],!o(B))continue;B=+B}else B=1;U=d[p],(U===void 0||U==="")&&(U=p),U=String(U);var O=b[U];O===void 0?(b[U]=h.length,L=y.indexOf(U)!==-1,L||(_+=B),h.push({v:B,label:U,color:w(T[p],U),i:p,pts:[p],hidden:L})):(D=!0,v=h[O],v.v+=B,v.pts.push(p),v.hidden||(_+=B),v.color===!1&&T[p]&&(v.color=w(T[p],U)))}h=h.filter(function(Z){return Z.v>=0});var R=u.type==="funnelarea"?D:u.sort;return R&&h.sort(function(Z,$){return $.v-Z.v}),h[0]&&(h[0].vTotal=_),h}function f(t){return function(h,m){return!h||(h=g(h),!h.isValid())?!1:(h=s.addOpacity(h,h.getAlpha()),t[m]||(t[m]=h),h)}}function l(t,u){var h=(u||{}).type;h||(h="pie");var m=t._fullLayout,y=t.calcdata,d=m[h+"colorway"],T=m["_"+h+"colormap"];m["extend"+h+"colors"]&&(d=n(d,i));for(var x=0,M=0;M<y.length;M++){var c=y[M],p=c[0].trace.type;if(p===h)for(var v=0;v<c.length;v++){var b=c[v];b.color===!1&&(T[b.label]?b.color=T[b.label]:(T[b.label]=b.color=d[x%d.length],x++))}}}function n(t,u){var h,m=JSON.stringify(t),y=u[m];if(!y){for(y=t.slice(),h=0;h<t.length;h++)y.push(g(t[h]).lighten(20).toHexString());for(h=0;h<t.length;h++)y.push(g(t[h]).darken(20).toHexString());u[m]=y}return y}te.exports={calc:r,crossTraceCalc:l,makePullColorFn:f,generateExtendedColors:n}},7434:function(te,I,e){var o=e(2770),g=e(1828),s=e(4e3),i=e(7670).c,r=e(769).handleText,f=e(1828).coercePattern;function l(u,h){var m=Array.isArray(u),y=g.isArrayOrTypedArray(h),d=Math.min(m?u.length:1/0,y?h.length:1/0);if(isFinite(d)||(d=0),d&&y){for(var T,x=0;x<d;x++){var M=h[x];if(o(M)&&M>0){T=!0;break}}T||(d=0)}return{hasLabels:m,hasValues:y,len:d}}function n(u,h,m,y,d){var T=y("marker.line.width");T&&y("marker.line.color",d?void 0:m.paper_bgcolor);var x=y("marker.colors");f(y,"marker.pattern",x),u.marker&&!h.marker.pattern.fgcolor&&(h.marker.pattern.fgcolor=u.marker.colors),h.marker.pattern.bgcolor||(h.marker.pattern.bgcolor=m.paper_bgcolor)}function t(u,h,m,y){function d(O,R){return g.coerce(u,h,s,O,R)}var T=d("labels"),x=d("values"),M=l(T,x),c=M.len;if(h._hasLabels=M.hasLabels,h._hasValues=M.hasValues,!h._hasLabels&&h._hasValues&&(d("label0"),d("dlabel")),!c){h.visible=!1;return}h._length=c,n(u,h,y,d,!0),d("scalegroup");var p=d("text"),v=d("texttemplate"),b;if(v||(b=d("textinfo",Array.isArray(p)?"text+percent":"percent")),d("hovertext"),d("hovertemplate"),v||b&&b!=="none"){var w=d("textposition");r(u,h,y,d,w,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var _=Array.isArray(w)||w==="auto",D=_||w==="outside";D&&d("automargin"),(w==="inside"||w==="auto"||Array.isArray(w))&&d("insidetextorientation")}i(h,y,d);var B=d("hole"),U=d("title.text");if(U){var L=d("title.position",B?"middle center":"top center");!B&&L==="middle center"&&(h.title.position="top center"),g.coerceFont(d,"title.font",y.font)}d("sort"),d("direction"),d("rotation"),d("pull")}te.exports={handleLabelsAndValues:l,handleMarkerDefaults:n,supplyDefaults:t}},7:function(te,I,e){var o=e(3469).appendArrayMultiPointValues;te.exports=function(s,i){var r={curveNumber:i.index,pointNumbers:s.pts,data:i._input,fullData:i,label:s.label,color:s.color,value:s.v,percent:s.percent,text:s.text,bbox:s.bbox,v:s.v};return s.pts.length===1&&(r.pointNumber=r.i=s.pts[0]),o(r,i,s.pts),i.type==="funnelarea"&&(delete r.v,delete r.i),r}},2209:function(te,I,e){var o=e(1424),g=e(7901);te.exports=function(i,r,f,l){var n=f.marker.pattern;n&&n.shape?o.pointStyle(i,f,l,r):g.fill(i,r.color)}},3581:function(te,I,e){var o=e(1828);function g(s){return s.indexOf("e")!==-1?s.replace(/[.]?0+e/,"e"):s.indexOf(".")!==-1?s.replace(/[.]?0+$/,""):s}I.formatPiePercent=function(i,r){var f=g((i*100).toPrecision(3));return o.numSeparate(f,r)+"%"},I.formatPieValue=function(i,r){var f=g(i.toPrecision(10));return o.numSeparate(f,r)},I.getFirstFilled=function(i,r){if(Array.isArray(i))for(var f=0;f<r.length;f++){var l=i[r[f]];if(l||l===0||l==="")return l}},I.castOption=function(i,r){if(Array.isArray(i))return I.getFirstFilled(i,r);if(i)return i},I.getRotationAngle=function(s){return(s==="auto"?0:s)*Math.PI/180}},8810:function(te,I,e){te.exports={attributes:e(4e3),supplyDefaults:e(7434).supplyDefaults,supplyLayoutDefaults:e(2097),layoutAttributes:e(7550),calc:e(2354).calc,crossTraceCalc:e(2354).crossTraceCalc,plot:e(4575).plot,style:e(8357),styleOne:e(3463),moduleType:"trace",name:"pie",basePlotModule:e(3584),categories:["pie-like","pie","showLegend"],meta:{}}},7550:function(te){te.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},2097:function(te,I,e){var o=e(1828),g=e(7550);te.exports=function(i,r){function f(l,n){return o.coerce(i,r,g,l,n)}f("hiddenlabels"),f("piecolorway",r.colorway),f("extendpiecolors")}},4575:function(te,I,e){var o=e(9898),g=e(4875),s=e(211),i=e(7901),r=e(1424),f=e(1828),l=f.strScale,n=f.strTranslate,t=e(3893),u=e(2597),h=u.recordMinTextSize,m=u.clearMinTextSize,y=e(7313).TEXTPAD,d=e(3581),T=e(7),x=e(1828).isValidTextValue;function M(ve,H){var Y=ve._context.staticPlot,S=ve._fullLayout,E=S._size;m("pie",S),w(H,ve),J(H,E);var z=f.makeTraceGroups(S._pielayer,H,"trace").each(function(C){var K=o.select(this),P=C[0],j=P.trace;fe(C),K.attr("stroke-linejoin","round"),K.each(function(){var ae=o.select(this).selectAll("g.slice").data(C);ae.enter().append("g").classed("slice",!0),ae.exit().remove();var ue=[[[],[]],[[],[]]],he=!1;ae.each(function(xe,Fe){if(xe.hidden){o.select(this).selectAll("path,g").remove();return}xe.pointNumber=xe.i,xe.curveNumber=j.index,ue[xe.pxmid[1]<0?0:1][xe.pxmid[0]<0?0:1].push(xe);var Ke=P.cx,je=P.cy,Je=o.select(this),ht=Je.selectAll("path.surface").data([xe]);if(ht.enter().append("path").classed("surface",!0).style({"pointer-events":Y?"none":"all"}),Je.call(p,ve,C),j.pull){var Tt=+d.castOption(j.pull,xe.pts)||0;Tt>0&&(Ke+=Tt*xe.pxmid[0],je+=Tt*xe.pxmid[1])}xe.cxFinal=Ke,xe.cyFinal=je;function gt(At,Le,Te,Pe){var Ce=Pe*(Le[0]-At[0]),Oe=Pe*(Le[1]-At[1]);return"a"+Pe*P.r+","+Pe*P.r+" 0 "+xe.largeArc+(Te?" 1 ":" 0 ")+Ce+","+Oe}var tt=j.hole;if(xe.v===P.vTotal){var Ct="M"+(Ke+xe.px0[0])+","+(je+xe.px0[1])+gt(xe.px0,xe.pxmid,!0,1)+gt(xe.pxmid,xe.px0,!0,1)+"Z";tt?ht.attr("d","M"+(Ke+tt*xe.px0[0])+","+(je+tt*xe.px0[1])+gt(xe.px0,xe.pxmid,!1,tt)+gt(xe.pxmid,xe.px0,!1,tt)+"Z"+Ct):ht.attr("d",Ct)}else{var rt=gt(xe.px0,xe.px1,!0,1);if(tt){var Mt=1-tt;ht.attr("d","M"+(Ke+tt*xe.px1[0])+","+(je+tt*xe.px1[1])+gt(xe.px1,xe.px0,!1,tt)+"l"+Mt*xe.px0[0]+","+Mt*xe.px0[1]+rt+"Z")}else ht.attr("d","M"+Ke+","+je+"l"+xe.px0[0]+","+xe.px0[1]+rt+"Z")}Me(ve,xe,P);var Dt=d.castOption(j.textposition,xe.pts),kt=Je.selectAll("g.slicetext").data(xe.text&&Dt!=="none"?[0]:[]);kt.enter().append("g").classed("slicetext",!0),kt.exit().remove(),kt.each(function(){var At=f.ensureSingle(o.select(this),"text","",function(De){De.attr("data-notex",1)}),Le=f.ensureUniformFontSize(ve,Dt==="outside"?v(j,xe,S.font):b(j,xe,S.font));At.text(xe.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(r.font,Le).call(t.convertToTspans,ve);var Te=r.bBox(At.node()),Pe;if(Dt==="outside")Pe=$(Te,xe);else if(Pe=_(Te,xe,P),Dt==="auto"&&Pe.scale<1){var Ce=f.ensureUniformFontSize(ve,j.outsidetextfont);At.call(r.font,Ce),Te=r.bBox(At.node()),Pe=$(Te,xe)}var Oe=Pe.textPosAngle,oe=Oe===void 0?xe.pxmid:ye(P.r,Oe);if(Pe.targetX=Ke+oe[0]*Pe.rCenter+(Pe.x||0),Pe.targetY=je+oe[1]*Pe.rCenter+(Pe.y||0),le(Pe,Te),Pe.outside){var be=Pe.targetY;xe.yLabelMin=be-Te.height/2,xe.yLabelMid=be,xe.yLabelMax=be+Te.height/2,xe.labelExtraX=0,xe.labelExtraY=0,he=!0}Pe.fontSize=Le.size,h(j.type,Pe,S),C[Fe].transform=Pe,f.setTransormAndDisplay(At,Pe)})});var Ae=o.select(this).selectAll("g.titletext").data(j.title.text?[0]:[]);if(Ae.enter().append("g").classed("titletext",!0),Ae.exit().remove(),Ae.each(function(){var xe=f.ensureSingle(o.select(this),"text","",function(je){je.attr("data-notex",1)}),Fe=j.title.text;j._meta&&(Fe=f.templateString(Fe,j._meta)),xe.text(Fe).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(r.font,j.title.font).call(t.convertToTspans,ve);var Ke;j.title.position==="middle center"?Ke=ie(P):Ke=N(P,E),xe.attr("transform",n(Ke.x,Ke.y)+l(Math.min(1,Ke.scale))+n(Ke.tx,Ke.ty))}),he&&X(ue,j),c(ae,j),he&&j.automargin){var ke=r.bBox(K.node()),ce=j.domain,me=E.w*(ce.x[1]-ce.x[0]),pe=E.h*(ce.y[1]-ce.y[0]),Ee=(.5*me-P.r)/E.w,we=(.5*pe-P.r)/E.h;g.autoMargin(ve,"pie."+j.uid+".automargin",{xl:ce.x[0]-Ee,xr:ce.x[1]+Ee,yb:ce.y[0]-we,yt:ce.y[1]+we,l:Math.max(P.cx-P.r-ke.left,0),r:Math.max(ke.right-(P.cx+P.r),0),b:Math.max(ke.bottom-(P.cy+P.r),0),t:Math.max(P.cy-P.r-ke.top,0),pad:5})}})});setTimeout(function(){z.selectAll("tspan").each(function(){var C=o.select(this);C.attr("dy")&&C.attr("dy",C.attr("dy"))})},0)}function c(ve,H){ve.each(function(Y){var S=o.select(this);if(!Y.labelExtraX&&!Y.labelExtraY){S.select("path.textline").remove();return}var E=S.select("g.slicetext text");Y.transform.targetX+=Y.labelExtraX,Y.transform.targetY+=Y.labelExtraY,f.setTransormAndDisplay(E,Y.transform);var z=Y.cxFinal+Y.pxmid[0],C=Y.cyFinal+Y.pxmid[1],K="M"+z+","+C,P=(Y.yLabelMax-Y.yLabelMin)*(Y.pxmid[0]<0?-1:1)/4;if(Y.labelExtraX){var j=Y.labelExtraX*Y.pxmid[1]/Y.pxmid[0],ae=Y.yLabelMid+Y.labelExtraY-(Y.cyFinal+Y.pxmid[1]);Math.abs(j)>Math.abs(ae)?K+="l"+ae*Y.pxmid[0]/Y.pxmid[1]+","+ae+"H"+(z+Y.labelExtraX+P):K+="l"+Y.labelExtraX+","+j+"v"+(ae-j)+"h"+P}else K+="V"+(Y.yLabelMid+Y.labelExtraY)+"h"+P;f.ensureSingle(S,"path","textline").call(i.stroke,H.outsidetextfont.color).attr({"stroke-width":Math.min(2,H.outsidetextfont.size/8),d:K,fill:"none"})})}function p(ve,H,Y){var S=Y[0],E=S.cx,z=S.cy,C=S.trace,K=C.type==="funnelarea";"_hasHoverLabel"in C||(C._hasHoverLabel=!1),"_hasHoverEvent"in C||(C._hasHoverEvent=!1),ve.on("mouseover",function(P){var j=H._fullLayout,ae=H._fullData[C.index];if(!(H._dragging||j.hovermode===!1)){var ue=ae.hoverinfo;if(Array.isArray(ue)&&(ue=s.castHoverinfo({hoverinfo:[d.castOption(ue,P.pts)],_module:C._module},j,0)),ue==="all"&&(ue="label+text+value+percent+name"),ae.hovertemplate||ue!=="none"&&ue!=="skip"&&ue){var he=P.rInscribed||0,Ae=E+P.pxmid[0]*(1-he),ke=z+P.pxmid[1]*(1-he),ce=j.separators,me=[];if(ue&&ue.indexOf("label")!==-1&&me.push(P.label),P.text=d.castOption(ae.hovertext||ae.text,P.pts),ue&&ue.indexOf("text")!==-1){var pe=P.text;f.isValidTextValue(pe)&&me.push(pe)}P.value=P.v,P.valueLabel=d.formatPieValue(P.v,ce),ue&&ue.indexOf("value")!==-1&&me.push(P.valueLabel),P.percent=P.v/S.vTotal,P.percentLabel=d.formatPiePercent(P.percent,ce),ue&&ue.indexOf("percent")!==-1&&me.push(P.percentLabel);var Ee=ae.hoverlabel,we=Ee.font,xe=[];s.loneHover({trace:C,x0:Ae-he*S.r,x1:Ae+he*S.r,y:ke,_x0:K?E+P.TL[0]:Ae-he*S.r,_x1:K?E+P.TR[0]:Ae+he*S.r,_y0:K?z+P.TL[1]:ke-he*S.r,_y1:K?z+P.BL[1]:ke+he*S.r,text:me.join("<br>"),name:ae.hovertemplate||ue.indexOf("name")!==-1?ae.name:void 0,idealAlign:P.pxmid[0]<0?"left":"right",color:d.castOption(Ee.bgcolor,P.pts)||P.color,borderColor:d.castOption(Ee.bordercolor,P.pts),fontFamily:d.castOption(we.family,P.pts),fontSize:d.castOption(we.size,P.pts),fontColor:d.castOption(we.color,P.pts),nameLength:d.castOption(Ee.namelength,P.pts),textAlign:d.castOption(Ee.align,P.pts),hovertemplate:d.castOption(ae.hovertemplate,P.pts),hovertemplateLabels:P,eventData:[T(P,ae)]},{container:j._hoverlayer.node(),outerContainer:j._paper.node(),gd:H,inOut_bbox:xe}),P.bbox=xe[0],C._hasHoverLabel=!0}C._hasHoverEvent=!0,H.emit("plotly_hover",{points:[T(P,ae)],event:o.event})}}),ve.on("mouseout",function(P){var j=H._fullLayout,ae=H._fullData[C.index],ue=o.select(this).datum();C._hasHoverEvent&&(P.originalEvent=o.event,H.emit("plotly_unhover",{points:[T(ue,ae)],event:o.event}),C._hasHoverEvent=!1),C._hasHoverLabel&&(s.loneUnhover(j._hoverlayer.node()),C._hasHoverLabel=!1)}),ve.on("click",function(P){var j=H._fullLayout,ae=H._fullData[C.index];H._dragging||j.hovermode===!1||(H._hoverdata=[T(P,ae)],s.click(H,o.event))})}function v(ve,H,Y){var S=d.castOption(ve.outsidetextfont.color,H.pts)||d.castOption(ve.textfont.color,H.pts)||Y.color,E=d.castOption(ve.outsidetextfont.family,H.pts)||d.castOption(ve.textfont.family,H.pts)||Y.family,z=d.castOption(ve.outsidetextfont.size,H.pts)||d.castOption(ve.textfont.size,H.pts)||Y.size;return{color:S,family:E,size:z}}function b(ve,H,Y){var S=d.castOption(ve.insidetextfont.color,H.pts);!S&&ve._input.textfont&&(S=d.castOption(ve._input.textfont.color,H.pts));var E=d.castOption(ve.insidetextfont.family,H.pts)||d.castOption(ve.textfont.family,H.pts)||Y.family,z=d.castOption(ve.insidetextfont.size,H.pts)||d.castOption(ve.textfont.size,H.pts)||Y.size;return{color:S||i.contrast(H.color),family:E,size:z}}function w(ve,H){for(var Y,S,E=0;E<ve.length;E++)if(Y=ve[E][0],S=Y.trace,S.title.text){var z=S.title.text;S._meta&&(z=f.templateString(z,S._meta));var C=r.tester.append("text").attr("data-notex",1).text(z).call(r.font,S.title.font).call(t.convertToTspans,H),K=r.bBox(C.node(),!0);Y.titleBox={width:K.width,height:K.height},C.remove()}}function _(ve,H,Y){var S=Y.r||H.rpx1,E=H.rInscribed,z=H.startangle===H.stopangle;if(z)return{rCenter:1-E,scale:0,rotate:0,textPosAngle:0};var C=H.ring,K=C===1&&Math.abs(H.startangle-H.stopangle)===Math.PI*2,P=H.halfangle,j=H.midangle,ae=Y.trace.insidetextorientation,ue=ae==="horizontal",he=ae==="tangential",Ae=ae==="radial",ke=ae==="auto",ce=[],me;if(!ke){var pe=function(Je,ht){if(D(H,Je)){var Tt=Math.abs(Je-H.startangle),gt=Math.abs(Je-H.stopangle),tt=Tt<gt?Tt:gt;ht==="tan"?me=U(ve,S,C,tt,0):me=B(ve,S,C,tt,Math.PI/2),me.textPosAngle=Je,ce.push(me)}},Ee;if(ue||he){for(Ee=4;Ee>=-4;Ee-=2)pe(Math.PI*Ee,"tan");for(Ee=4;Ee>=-4;Ee-=2)pe(Math.PI*(Ee+1),"tan")}if(ue||Ae){for(Ee=4;Ee>=-4;Ee-=2)pe(Math.PI*(Ee+1.5),"rad");for(Ee=4;Ee>=-4;Ee-=2)pe(Math.PI*(Ee+.5),"rad")}}if(K||ke||ue){var we=Math.sqrt(ve.width*ve.width+ve.height*ve.height);if(me={scale:E*S*2/we,rCenter:1-E,rotate:0},me.textPosAngle=(H.startangle+H.stopangle)/2,me.scale>=1)return me;ce.push(me)}(ke||Ae)&&(me=B(ve,S,C,P,j),me.textPosAngle=(H.startangle+H.stopangle)/2,ce.push(me)),(ke||he)&&(me=U(ve,S,C,P,j),me.textPosAngle=(H.startangle+H.stopangle)/2,ce.push(me));for(var xe=0,Fe=0,Ke=0;Ke<ce.length;Ke++){var je=ce[Ke].scale;if(Fe<je&&(Fe=je,xe=Ke),!ke&&Fe>=1)break}return ce[xe]}function D(ve,H){var Y=ve.startangle,S=ve.stopangle;return Y>H&&H>S||Y<H&&H<S}function B(ve,H,Y,S,E){H=Math.max(0,H-2*y);var z=ve.width/ve.height,C=R(z,S,H,Y);return{scale:C*2/ve.height,rCenter:L(z,C/H),rotate:O(E)}}function U(ve,H,Y,S,E){H=Math.max(0,H-2*y);var z=ve.height/ve.width,C=R(z,S,H,Y);return{scale:C*2/ve.width,rCenter:L(z,C/H),rotate:O(E+Math.PI/2)}}function L(ve,H){return Math.cos(H)-ve*H}function O(ve){return(180/Math.PI*ve+720)%180-90}function R(ve,H,Y,S){var E=ve+1/(2*Math.tan(H));return Y*Math.min(1/(Math.sqrt(E*E+.5)+E),S/(Math.sqrt(ve*ve+S/2)+ve))}function Z(ve,H){return ve.v===H.vTotal&&!H.trace.hole?1:Math.min(1/(1+1/Math.sin(ve.halfangle)),ve.ring/2)}function $(ve,H){var Y=H.pxmid[0],S=H.pxmid[1],E=ve.width/2,z=ve.height/2;return Y<0&&(E*=-1),S<0&&(z*=-1),{scale:1,rCenter:1,rotate:0,x:E+Math.abs(z)*(E>0?1:-1)/2,y:z/(1+Y*Y/(S*S)),outside:!0}}function ie(ve){var H=Math.sqrt(ve.titleBox.width*ve.titleBox.width+ve.titleBox.height*ve.titleBox.height);return{x:ve.cx,y:ve.cy,scale:ve.trace.hole*ve.r*2/H,tx:0,ty:-ve.titleBox.height/2+ve.trace.title.font.size}}function N(ve,H){var Y=1,S=1,E,z=ve.trace,C={x:ve.cx,y:ve.cy},K={tx:0,ty:0};K.ty+=z.title.font.size,E=W(z),z.title.position.indexOf("top")!==-1?(C.y-=(1+E)*ve.r,K.ty-=ve.titleBox.height):z.title.position.indexOf("bottom")!==-1&&(C.y+=(1+E)*ve.r);var P=F(ve.r,ve.trace.aspectratio),j=H.w*(z.domain.x[1]-z.domain.x[0])/2;return z.title.position.indexOf("left")!==-1?(j=j+P,C.x-=(1+E)*P,K.tx+=ve.titleBox.width/2):z.title.position.indexOf("center")!==-1?j*=2:z.title.position.indexOf("right")!==-1&&(j=j+P,C.x+=(1+E)*P,K.tx-=ve.titleBox.width/2),Y=j/ve.titleBox.width,S=G(ve,H)/ve.titleBox.height,{x:C.x,y:C.y,scale:Math.min(Y,S),tx:K.tx,ty:K.ty}}function F(ve,H){return ve/(H===void 0?1:H)}function G(ve,H){var Y=ve.trace,S=H.h*(Y.domain.y[1]-Y.domain.y[0]);return Math.min(ve.titleBox.height,S/2)}function W(ve){var H=ve.pull;if(!H)return 0;var Y;if(Array.isArray(H))for(H=0,Y=0;Y<ve.pull.length;Y++)ve.pull[Y]>H&&(H=ve.pull[Y]);return H}function X(ve,H){var Y,S,E,z,C,K,P,j,ae,ue,he,Ae,ke;function ce(we,xe){return we.pxmid[1]-xe.pxmid[1]}function me(we,xe){return xe.pxmid[1]-we.pxmid[1]}function pe(we,xe){xe||(xe={});var Fe=xe.labelExtraY+(S?xe.yLabelMax:xe.yLabelMin),Ke=S?we.yLabelMin:we.yLabelMax,je=S?we.yLabelMax:we.yLabelMin,Je=we.cyFinal+C(we.px0[1],we.px1[1]),ht=Fe-Ke,Tt,gt,tt,Ct,rt,Mt;if(ht*P>0&&(we.labelExtraY=ht),!!Array.isArray(H.pull))for(gt=0;gt<ue.length;gt++)tt=ue[gt],!(tt===we||(d.castOption(H.pull,we.pts)||0)>=(d.castOption(H.pull,tt.pts)||0))&&((we.pxmid[1]-tt.pxmid[1])*P>0?(Ct=tt.cyFinal+C(tt.px0[1],tt.px1[1]),ht=Ct-Ke-we.labelExtraY,ht*P>0&&(we.labelExtraY+=ht)):(je+we.labelExtraY-Je)*P>0&&(Tt=3*K*Math.abs(gt-ue.indexOf(we)),rt=tt.cxFinal+z(tt.px0[0],tt.px1[0]),Mt=rt+Tt-(we.cxFinal+we.pxmid[0])-we.labelExtraX,Mt*K>0&&(we.labelExtraX+=Mt)))}for(S=0;S<2;S++)for(E=S?ce:me,C=S?Math.max:Math.min,P=S?1:-1,Y=0;Y<2;Y++){for(z=Y?Math.max:Math.min,K=Y?1:-1,j=ve[S][Y],j.sort(E),ae=ve[1-S][Y],ue=ae.concat(j),Ae=[],he=0;he<j.length;he++)j[he].yLabelMid!==void 0&&Ae.push(j[he]);for(ke=!1,he=0;S&&he<ae.length;he++)if(ae[he].yLabelMid!==void 0){ke=ae[he];break}for(he=0;he<Ae.length;he++){var Ee=he&&Ae[he-1];ke&&!he&&(Ee=ke),pe(Ae[he],Ee)}}}function J(ve,H){for(var Y=[],S=0;S<ve.length;S++){var E=ve[S][0],z=E.trace,C=z.domain,K=H.w*(C.x[1]-C.x[0]),P=H.h*(C.y[1]-C.y[0]);z.title.text&&z.title.position!=="middle center"&&(P-=G(E,H));var j=K/2,ae=P/2;z.type==="funnelarea"&&!z.scalegroup&&(ae/=z.aspectratio),E.r=Math.min(j,ae)/(1+W(z)),E.cx=H.l+H.w*(z.domain.x[1]+z.domain.x[0])/2,E.cy=H.t+H.h*(1-z.domain.y[0])-P/2,z.title.text&&z.title.position.indexOf("bottom")!==-1&&(E.cy-=G(E,H)),z.scalegroup&&Y.indexOf(z.scalegroup)===-1&&Y.push(z.scalegroup)}ne(ve,Y)}function ne(ve,H){for(var Y,S,E,z=0;z<H.length;z++){var C=1/0,K=H[z];for(S=0;S<ve.length;S++)if(Y=ve[S][0],E=Y.trace,E.scalegroup===K){var P;if(E.type==="pie")P=Y.r*Y.r;else if(E.type==="funnelarea"){var j,ae;E.aspectratio>1?(j=Y.r,ae=j/E.aspectratio):(ae=Y.r,j=ae*E.aspectratio),j*=(1+E.baseratio)/2,P=j*ae}C=Math.min(C,P/Y.vTotal)}for(S=0;S<ve.length;S++)if(Y=ve[S][0],E=Y.trace,E.scalegroup===K){var ue=C*Y.vTotal;E.type==="funnelarea"&&(ue/=(1+E.baseratio)/2,ue/=E.aspectratio),Y.r=Math.sqrt(ue)}}}function fe(ve){var H=ve[0],Y=H.r,S=H.trace,E=d.getRotationAngle(S.rotation),z=2*Math.PI/H.vTotal,C="px0",K="px1",P,j,ae;if(S.direction==="counterclockwise"){for(P=0;P<ve.length&&ve[P].hidden;P++);if(P===ve.length)return;E+=z*ve[P].v,z*=-1,C="px1",K="px0"}for(ae=ye(Y,E),P=0;P<ve.length;P++)j=ve[P],!j.hidden&&(j[C]=ae,j.startangle=E,E+=z*j.v/2,j.pxmid=ye(Y,E),j.midangle=E,E+=z*j.v/2,ae=ye(Y,E),j.stopangle=E,j[K]=ae,j.largeArc=j.v>H.vTotal/2?1:0,j.halfangle=Math.PI*Math.min(j.v/H.vTotal,.5),j.ring=1-S.hole,j.rInscribed=Z(j,H))}function ye(ve,H){return[ve*Math.sin(H),-ve*Math.cos(H)]}function Me(ve,H,Y){var S=ve._fullLayout,E=Y.trace,z=E.texttemplate,C=E.textinfo;if(!z&&C&&C!=="none"){var K=C.split("+"),P=function(xe){return K.indexOf(xe)!==-1},j=P("label"),ae=P("text"),ue=P("value"),he=P("percent"),Ae=S.separators,ke;if(ke=j?[H.label]:[],ae){var ce=d.getFirstFilled(E.text,H.pts);x(ce)&&ke.push(ce)}ue&&ke.push(d.formatPieValue(H.v,Ae)),he&&ke.push(d.formatPiePercent(H.v/Y.vTotal,Ae)),H.text=ke.join("<br>")}function me(xe){return{label:xe.label,value:xe.v,valueLabel:d.formatPieValue(xe.v,S.separators),percent:xe.v/Y.vTotal,percentLabel:d.formatPiePercent(xe.v/Y.vTotal,S.separators),color:xe.color,text:xe.text,customdata:f.castOption(E,xe.i,"customdata")}}if(z){var pe=f.castOption(E,H.i,"texttemplate");if(!pe)H.text="";else{var Ee=me(H),we=d.getFirstFilled(E.text,H.pts);(x(we)||we==="")&&(Ee.text=we),H.text=f.texttemplateString(pe,Ee,ve._fullLayout._d3locale,Ee,E._meta||{})}}}function le(ve,H){var Y=ve.rotate*Math.PI/180,S=Math.cos(Y),E=Math.sin(Y),z=(H.left+H.right)/2,C=(H.top+H.bottom)/2;ve.textX=z*S-C*E,ve.textY=z*E+C*S,ve.noCenter=!0}te.exports={plot:M,formatSliceLabel:Me,transformInsideText:_,determineInsideTextFont:b,positionTitleOutside:N,prerenderTitles:w,layoutAreas:J,attachFxHandlers:p,computeTransform:le}},8357:function(te,I,e){var o=e(9898),g=e(3463),s=e(2597).resizeText;te.exports=function(r){var f=r._fullLayout._pielayer.selectAll(".trace");s(r,f,"pie"),f.each(function(l){var n=l[0],t=n.trace,u=o.select(this);u.style({opacity:t.opacity}),u.selectAll("path.surface").each(function(h){o.select(this).call(g,h,t,r)})})}},3463:function(te,I,e){var o=e(7901),g=e(3581).castOption,s=e(2209);te.exports=function(r,f,l,n){var t=l.marker.line,u=g(t.color,f.pts)||o.defaultLine,h=g(t.width,f.pts)||0;r.call(s,f,l,n).style("stroke-width",h).call(o.stroke,u)}},5225:function(te,I,e){var o=e(1828);te.exports=function(s,i){for(var r=0;r<s.length;r++)s[r].i=r;o.mergeArray(i.text,s,"tx"),o.mergeArray(i.texttemplate,s,"txt"),o.mergeArray(i.hovertext,s,"htx"),o.mergeArray(i.customdata,s,"data"),o.mergeArray(i.textposition,s,"tp"),i.textfont&&(o.mergeArrayCastPositive(i.textfont.size,s,"ts"),o.mergeArray(i.textfont.color,s,"tc"),o.mergeArray(i.textfont.family,s,"tf"));var f=i.marker;if(f){o.mergeArrayCastPositive(f.size,s,"ms"),o.mergeArrayCastPositive(f.opacity,s,"mo"),o.mergeArray(f.symbol,s,"mx"),o.mergeArray(f.angle,s,"ma"),o.mergeArray(f.standoff,s,"mf"),o.mergeArray(f.color,s,"mc");var l=f.line;f.line&&(o.mergeArray(l.color,s,"mlc"),o.mergeArrayCastPositive(l.width,s,"mlw"));var n=f.gradient;n&&n.type!=="none"&&(o.mergeArray(n.type,s,"mgt"),o.mergeArray(n.color,s,"mgc"))}}},2196:function(te,I,e){var o=e(2663).axisHoverFormat,g=e(5386).si,s=e(5386).fF,i=e(693),r=e(1940),f=e(9952).P,l=e(9952).u,n=e(1424),t=e(7581),u=e(1426).extendFlat;function h(d){return{valType:"any",dflt:0,editType:"calc"}}function m(d){return{valType:"any",editType:"calc"}}function y(d){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}te.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:h(),yperiod:h(),xperiod0:m(),yperiod0:m(),xperiodalignment:y(),yperiodalignment:y(),xhoverformat:o("x"),yhoverformat:o("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:g({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:s({},{keys:t.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:u({},f,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:l,marker:u({symbol:{valType:"enumerated",values:n.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:u({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},i("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},i("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:r({editType:"calc",colorEditType:"style",arrayOk:!0})}},7761:function(te,I,e){var o=e(2770),g=e(1828),s=e(9298),i=e(2973),r=e(606).BADNUM,f=e(4098),l=e(6922),n=e(5225),t=e(6279);function u(x,M){var c=x._fullLayout,p=M._xA=s.getFromId(x,M.xaxis||"x","x"),v=M._yA=s.getFromId(x,M.yaxis||"y","y"),b=p.makeCalcdata(M,"x"),w=v.makeCalcdata(M,"y"),_=i(M,p,"x",b),D=i(M,v,"y",w),B=_.vals,U=D.vals,L=M._length,O=new Array(L),R=M.ids,Z=T(M,c,p,v),$=!1,ie,N,F,G,W,X;y(c,M);var J="x",ne="y",fe;if(Z)g.pushUnique(Z.traceIndices,M._expandedIndex),ie=Z.orientation==="v",ie?(ne="s",fe="x"):(J="s",fe="y"),W=Z.stackgaps==="interpolate";else{var ye=m(M,L);h(x,M,p,v,B,U,ye)}var Me=!!M.xperiodalignment,le=!!M.yperiodalignment;for(N=0;N<L;N++){var ve=O[N]={},H=o(B[N]),Y=o(U[N]);H&&Y?(ve[J]=B[N],ve[ne]=U[N],Me&&(ve.orig_x=b[N],ve.xEnd=_.ends[N],ve.xStart=_.starts[N]),le&&(ve.orig_y=w[N],ve.yEnd=D.ends[N],ve.yStart=D.starts[N])):Z&&(ie?H:Y)?(ve[fe]=ie?B[N]:U[N],ve.gap=!0,W?(ve.s=r,$=!0):ve.s=0):ve[J]=ve[ne]=r,R&&(ve.id=String(R[N]))}if(n(O,M),l(x,M),t(O,M),Z){for(N=0;N<O.length;)O[N][fe]===r?O.splice(N,1):N++;if(g.sort(O,function(C,K){return C[fe]-K[fe]||C.i-K.i}),$){for(N=0;N<O.length-1&&O[N].gap;)N++;for(X=O[N].s,X||(X=O[N].s=0),F=0;F<N;F++)O[F].s=X;for(G=O.length-1;G>N&&O[G].gap;)G--;for(X=O[G].s,F=O.length-1;F>G;F--)O[F].s=X;for(;N<G;)if(N++,O[N].gap){for(F=N+1;O[F].gap;)F++;for(var S=O[N-1][fe],E=O[N-1].s,z=(O[F].s-E)/(O[F][fe]-S);N<F;)O[N].s=E+(O[N][fe]-S)*z,N++}}}return O}function h(x,M,c,p,v,b,w){var _=M._length,D=x._fullLayout,B=c._id,U=p._id,L=D._firstScatter[d(M)]===M.uid,O=(T(M,D,c,p)||{}).orientation,R=M.fill;c._minDtick=0,p._minDtick=0;var Z={padded:!0},$={padded:!0};w&&(Z.ppad=$.ppad=w);var ie=_<2||v[0]!==v[_-1]||b[0]!==b[_-1];ie&&(R==="tozerox"||R==="tonextx"&&(L||O==="h"))?Z.tozero=!0:!(M.error_y||{}).visible&&(R==="tonexty"||R==="tozeroy"||!f.hasMarkers(M)&&!f.hasText(M))&&(Z.padded=!1,Z.ppad=0),ie&&(R==="tozeroy"||R==="tonexty"&&(L||O==="v"))?$.tozero=!0:(R==="tonextx"||R==="tozerox")&&($.padded=!1),B&&(M._extremes[B]=s.findExtremes(c,v,Z)),U&&(M._extremes[U]=s.findExtremes(p,b,$))}function m(x,M){if(f.hasMarkers(x)){var c=x.marker,p=1.6*(x.marker.sizeref||1),v;if(x.marker.sizemode==="area"?v=function(B){return Math.max(Math.sqrt((B||0)/p),3)}:v=function(B){return Math.max((B||0)/p,3)},g.isArrayOrTypedArray(c.size)){var b={type:"linear"};s.setConvert(b);for(var w=b.makeCalcdata(x.marker,"size"),_=new Array(M),D=0;D<M;D++)_[D]=v(w[D]);return _}else return v(c.size)}}function y(x,M){var c=d(M),p=x._firstScatter;p[c]||(p[c]=M.uid)}function d(x){var M=x.stackgroup;return x.xaxis+x.yaxis+x.type+(M?"-"+M:"")}function T(x,M,c,p){var v=x.stackgroup;if(v){var b=M._scatterStackOpts[c._id+p._id][v],w=b.orientation==="v"?p:c;if(w.type==="linear"||w.type==="log")return b}}te.exports={calc:u,calcMarkerSize:m,calcAxisExpansion:h,setFirstScatter:y,getStackOpts:T}},6279:function(te,I,e){var o=e(1828);te.exports=function(s,i){o.isArrayOrTypedArray(i.selectedpoints)&&o.tagSelected(s,i)}},6922:function(te,I,e){var o=e(2869).hasColorscale,g=e(8803),s=e(4098);te.exports=function(r,f){s.hasLines(f)&&o(f,"line")&&g(r,f,{vals:f.line.color,containerStr:"line",cLetter:"c"}),s.hasMarkers(f)&&(o(f,"marker")&&g(r,f,{vals:f.marker.color,containerStr:"marker",cLetter:"c"}),o(f,"marker.line")&&g(r,f,{vals:f.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},7581:function(te){te.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},2626:function(te,I,e){var o=e(7761),g=e(1661).setGroupPositions;function s(f,l){for(var n=l.xaxis,t=l.yaxis,u=f._fullLayout,h=f._fullData,m=f.calcdata,y=[],d=[],T=0;T<h.length;T++){var x=h[T];x.visible===!0&&x.type==="scatter"&&x.xaxis===n._id&&x.yaxis===t._id&&(x.orientation==="h"?y.push(m[T]):x.orientation==="v"&&d.push(m[T]))}var M={mode:u.scattermode,gap:u.scattergap};g(f,n,t,d,M),g(f,t,n,y,M)}te.exports=function(l,n){l._fullLayout.scattermode==="group"&&s(l,n);var t=n.xaxis,u=n.yaxis,h=t._id+u._id,m=l._fullLayout._scatterStackOpts[h];if(m){var y=l.calcdata,d,T,x,M,c,p,v,b,w,_,D,B,U,L,O;for(var R in m){_=m[R];var Z=_.traceIndices;if(Z.length){for(D=_.stackgaps==="interpolate",B=_.groupnorm,_.orientation==="v"?(U="x",L="y"):(U="y",L="x"),O=new Array(Z.length),d=0;d<O.length;d++)O[d]=!1;p=y[Z[0]];var $=new Array(p.length);for(d=0;d<p.length;d++)$[d]=p[d][U];for(d=1;d<Z.length;d++){for(c=y[Z[d]],T=x=0;T<c.length;T++){for(v=c[T][U];v>$[x]&&x<$.length;x++)i(c,T,$[x],d,O,D,U),T++;if(v!==$[x]){for(M=0;M<d;M++)i(y[Z[M]],x,v,M,O,D,U);$.splice(x,0,v)}x++}for(;x<$.length;x++)i(c,T,$[x],d,O,D,U),T++}var ie=$.length;for(T=0;T<p.length;T++){for(b=p[T][L]=p[T].s,d=1;d<Z.length;d++)c=y[Z[d]],c[0].trace._rawLength=c[0].trace._length,c[0].trace._length=ie,b+=c[T].s,c[T][L]=b;if(B)for(w=(B==="fraction"?b:b/100)||1,d=0;d<Z.length;d++){var N=y[Z[d]][T];N[L]/=w,N.sNorm=N.s/w}}for(d=0;d<Z.length;d++){c=y[Z[d]];var F=c[0].trace,G=o.calcMarkerSize(F,F._rawLength),W=Array.isArray(G);if(G&&O[d]||W){var X=G;for(G=new Array(ie),T=0;T<ie;T++)G[T]=c[T].gap?0:W?X[c[T].i]:X}var J=new Array(ie),ne=new Array(ie);for(T=0;T<ie;T++)J[T]=c[T].x,ne[T]=c[T].y;o.calcAxisExpansion(l,F,t,u,J,ne,G),c[0].t.orientation=_.orientation}}}}};function i(f,l,n,t,u,h,m){u[t]=!0;var y={i:null,gap:!0,s:0};if(y[m]=n,f.splice(l,0,y),l&&n===f[l-1][m]){var d=f[l-1];y.s=d.s,y.i=d.i,y.gap=d.gap}else h&&(y.s=r(f,l,n,m));l||(f[0].t=f[1].t,f[0].trace=f[1].trace,delete f[1].t,delete f[1].trace)}function r(f,l,n,t){var u=f[l-1],h=f[l+1];return h?u?u.s+(h.s-u.s)*(n-u[t])/(h[t]-u[t]):h.s:u.s}},462:function(te,I,e){var o=e(1828),g=e(6125),s=e(2196);te.exports=function(r,f){var l,n,t;function u(T){return o.coerce(n._input,n,s,T)}if(f.scattermode==="group")for(t=0;t<r.length;t++)n=r[t],n.type==="scatter"&&(l=n._input,g(l,n,f,u));for(t=0;t<r.length;t++){var h=r[t];if(h.type==="scatter"){var m=h.fill;if(!(m==="none"||m==="toself")&&(h.opacity=void 0,m==="tonexty"||m==="tonextx"))for(var y=t-1;y>=0;y--){var d=r[y];if(d.type==="scatter"&&d.xaxis===h.xaxis&&d.yaxis===h.yaxis){d.opacity=void 0;break}}}}}},7438:function(te,I,e){var o=e(1828),g=e(3972),s=e(2196),i=e(7581),r=e(4098),f=e(7513),l=e(3927),n=e(565),t=e(9508),u=e(1058),h=e(4039),m=e(2410),y=e(8908),d=e(1828).coercePattern;te.exports=function(x,M,c,p){function v(O,R){return o.coerce(x,M,s,O,R)}var b=f(x,M,p,v);if(b||(M.visible=!1),!!M.visible){l(x,M,p,v),v("xhoverformat"),v("yhoverformat");var w=n(x,M,p,v);p.scattermode==="group"&&M.orientation===void 0&&v("orientation","v");var _=!w&&b<i.PTS_LINESONLY?"lines+markers":"lines";v("text"),v("hovertext"),v("mode",_),r.hasLines(M)&&(u(x,M,c,p,v,{backoff:!0}),h(x,M,v),v("connectgaps"),v("line.simplify")),r.hasMarkers(M)&&t(x,M,c,p,v,{gradient:!0}),r.hasText(M)&&(v("texttemplate"),m(x,M,p,v));var D=[];(r.hasMarkers(M)||r.hasText(M))&&(v("cliponaxis"),v("marker.maxdisplayed"),D.push("points")),v("fill",w?w.fillDflt:"none"),M.fill!=="none"&&(y(x,M,c,v),r.hasLines(M)||h(x,M,v),d(v,"fillpattern",M.fillcolor,!1));var B=(M.line||{}).color,U=(M.marker||{}).color;(M.fill==="tonext"||M.fill==="toself")&&D.push("fills"),v("hoveron",D.join("+")||"points"),M.hoveron!=="fills"&&v("hovertemplate");var L=g.getComponentMethod("errorbars","supplyDefaults");L(x,M,B||U||c,{axis:"y"}),L(x,M,B||U||c,{axis:"x",inherit:"y"}),o.coerceSelectionMarkerOpacity(M,v)}}},8908:function(te,I,e){var o=e(7901),g=e(1828).isArrayOrTypedArray;te.exports=function(i,r,f,l){var n=!1;if(r.marker){var t=r.marker.color,u=(r.marker.line||{}).color;t&&!g(t)?n=t:u&&!g(u)&&(n=u)}l("fillcolor",o.addOpacity((r.line||{}).color||n||f,.5))}},8225:function(te,I,e){var o=e(9298);te.exports=function(s,i,r){var f={},l={_fullLayout:r},n=o.getFromTrace(l,i,"x"),t=o.getFromTrace(l,i,"y"),u=s.orig_x;u===void 0&&(u=s.x);var h=s.orig_y;return h===void 0&&(h=s.y),f.xLabel=o.tickText(n,n.c2l(u),!0).text,f.yLabel=o.tickText(t,t.c2l(h),!0).text,f}},4603:function(te,I,e){var o=e(7901),g=e(4098);te.exports=function(i,r){var f,l;if(i.mode==="lines")return f=i.line.color,f&&o.opacity(f)?f:i.fillcolor;if(i.mode==="none")return i.fill?i.fillcolor:"";var n=r.mcc||(i.marker||{}).color,t=r.mlcc||((i.marker||{}).line||{}).color;return l=n&&o.opacity(n)?n:t&&o.opacity(t)&&(r.mlw||((i.marker||{}).line||{}).width)?t:"",l?o.opacity(l)<.3?o.addOpacity(l,.3):l:(f=(i.line||{}).color,f&&o.opacity(f)&&g.hasLines(i)&&i.line.width?f:i.fillcolor)}},6125:function(te,I,e){var o=e(9082).getAxisGroup;te.exports=function(s,i,r,f){var l=i.orientation,n=i[{v:"x",h:"y"}[l]+"axis"],t=o(r,n)+l,u=r._alignmentOpts||{},h=f("alignmentgroup"),m=u[t];m||(m=u[t]={});var y=m[h];y?y.traces.push(i):y=m[h]={traces:[i],alignmentIndex:Object.keys(m).length,offsetGroups:{}};var d=f("offsetgroup"),T=y.offsetGroups,x=T[d];d&&(x||(x=T[d]={offsetIndex:Object.keys(T).length}),i._offsetIndex=x.offsetIndex)}},3720:function(te,I,e){var o=e(1828),g=e(211),s=e(3972),i=e(4603),r=e(7901),f=o.fillText;te.exports=function(n,t,u,h){var m=n.cd,y=m[0].trace,d=n.xa,T=n.ya,x=d.c2p(t),M=T.c2p(u),c=[x,M],p=y.hoveron||"",v=y.mode.indexOf("markers")!==-1?3:.5,b=!!y.xperiodalignment,w=!!y.yperiodalignment;if(p.indexOf("points")!==-1){var _=function(j){if(b){var ae=d.c2p(j.xStart),ue=d.c2p(j.xEnd);return x>=Math.min(ae,ue)&&x<=Math.max(ae,ue)?0:1/0}var he=Math.max(3,j.mrc||0),Ae=1-1/he,ke=Math.abs(d.c2p(j.x)-x);return ke<he?Ae*ke/he:ke-he+Ae},D=function(j){if(w){var ae=T.c2p(j.yStart),ue=T.c2p(j.yEnd);return M>=Math.min(ae,ue)&&M<=Math.max(ae,ue)?0:1/0}var he=Math.max(3,j.mrc||0),Ae=1-1/he,ke=Math.abs(T.c2p(j.y)-M);return ke<he?Ae*ke/he:ke-he+Ae},B=function(j){var ae=Math.max(v,j.mrc||0),ue=d.c2p(j.x)-x,he=T.c2p(j.y)-M;return Math.max(Math.sqrt(ue*ue+he*he)-ae,1-v/ae)},U=g.getDistanceFunction(h,_,D,B);if(g.getClosest(m,U,n),n.index!==!1){var L=m[n.index],O=d.c2p(L.x,!0),R=T.c2p(L.y,!0),Z=L.mrc||1;n.index=L.i;var $=m[0].t.orientation,ie=$&&(L.sNorm||L.s),N=$==="h"?ie:L.orig_x!==void 0?L.orig_x:L.x,F=$==="v"?ie:L.orig_y!==void 0?L.orig_y:L.y;return o.extendFlat(n,{color:i(y,L),x0:O-Z,x1:O+Z,xLabelVal:N,y0:R-Z,y1:R+Z,yLabelVal:F,spikeDistance:B(L),hovertemplate:y.hovertemplate}),f(L,y,n),s.getComponentMethod("errorbars","hoverInfo")(L,y,n),[n]}}if(p.indexOf("fills")!==-1&&y._polygons){var G=y._polygons,W=[],X=!1,J=1/0,ne=-1/0,fe=1/0,ye=-1/0,Me,le,ve,H,Y,S,E,z,C;for(Me=0;Me<G.length;Me++)ve=G[Me],ve.contains(c)&&(X=!X,W.push(ve),fe=Math.min(fe,ve.ymin),ye=Math.max(ye,ve.ymax));if(X){fe=Math.max(fe,0),ye=Math.min(ye,T._length);var K=(fe+ye)/2;for(Me=0;Me<W.length;Me++)for(H=W[Me].pts,le=1;le<H.length;le++)z=H[le-1][1],C=H[le][1],z>K!=C>=K&&(S=H[le-1][0],E=H[le][0],C-z&&(Y=S+(E-S)*(K-z)/(C-z),J=Math.min(J,Y),ne=Math.max(ne,Y)));J=Math.max(J,0),ne=Math.min(ne,d._length);var P=r.defaultLine;return r.opacity(y.fillcolor)?P=y.fillcolor:r.opacity((y.line||{}).color)&&(P=y.line.color),o.extendFlat(n,{distance:n.maxHoverDistance,x0:J,x1:ne,y0:K,y1:K,color:P,hovertemplate:!1}),delete n.index,y.text&&!Array.isArray(y.text)?n.text=String(y.text):n.text=y.name,[n]}}}},7368:function(te,I,e){var o=e(4098);te.exports={hasLines:o.hasLines,hasMarkers:o.hasMarkers,hasText:o.hasText,isBubble:o.isBubble,attributes:e(2196),layoutAttributes:e(1479),supplyDefaults:e(7438),crossTraceDefaults:e(462),supplyLayoutDefaults:e(9334),calc:e(7761).calc,crossTraceCalc:e(2626),arraysToCalcdata:e(5225),plot:e(7399),colorbar:e(4898),formatLabels:e(8225),style:e(6296).style,styleOnSelect:e(6296).styleOnSelect,hoverPoints:e(3720),selectPoints:e(8002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(3612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},1479:function(te){te.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},9334:function(te,I,e){var o=e(1828),g=e(1479);te.exports=function(s,i){function r(l,n){return o.coerce(s,i,g,l,n)}var f=i.barmode==="group";i.scattermode==="group"&&r("scattergap",f?i.bargap:.2)}},1058:function(te,I,e){var o=e(1828).isArrayOrTypedArray,g=e(2869).hasColorscale,s=e(1586);te.exports=function(r,f,l,n,t,u){u||(u={});var h=(r.marker||{}).color;if(t("line.color",l),g(r,"line"))s(r,f,n,t,{prefix:"line.",cLetter:"c"});else{var m=(o(h)?!1:h)||l;t("line.color",m)}t("line.width"),u.noDash||t("line.dash"),u.backoff&&t("line.backoff")}},4621:function(te,I,e){var o=e(1424),g=e(606),s=g.BADNUM,i=g.LOG_CLIP,r=i+.5,f=i-.5,l=e(1828),n=l.segmentsIntersect,t=l.constrain,u=e(7581);te.exports=function(m,y){var d=y.trace||{},T=y.xaxis,x=y.yaxis,M=T.type==="log",c=x.type==="log",p=T._length,v=x._length,b=y.backoff,w=d.marker,_=y.connectGaps,D=y.baseTolerance,B=y.shape,U=B==="linear",L=d.fill&&d.fill!=="none",O=[],R=u.minTolerance,Z=m.length,$=new Array(Z),ie=0,N,F,G,W,X,J,ne,fe,ye,Me,le,ve,H,Y,S,E;function z(ze){var _e=m[ze];if(!_e)return!1;var ct=y.linearized?T.l2p(_e.x):T.c2p(_e.x),ot=y.linearized?x.l2p(_e.y):x.c2p(_e.y);if(ct===s){if(M&&(ct=T.c2p(_e.x,!0)),ct===s)return!1;c&&ot===s&&(ct*=Math.abs(T._m*v*(T._m>0?r:f)/(x._m*p*(x._m>0?r:f)))),ct*=1e3}if(ot===s){if(c&&(ot=x.c2p(_e.y,!0)),ot===s)return!1;ot*=1e3}return[ct,ot]}function C(ze,_e,ct,ot){var $e=ct-ze,Ye=ot-_e,it=.5-ze,wt=.5-_e,Rt=$e*$e+Ye*Ye,Ht=$e*it+Ye*wt;if(Ht>0&&Ht<Rt){var Vt=it*Ye-wt*$e;if(Vt*Vt<Rt)return!0}}var K,P;function j(ze,_e){var ct=ze[0]/p,ot=ze[1]/v,$e=Math.max(0,-ct,ct-1,-ot,ot-1);return $e&&K!==void 0&&C(ct,ot,K,P)&&($e=0),$e&&_e&&C(ct,ot,_e[0]/p,_e[1]/v)&&($e=0),(1+u.toleranceGrowth*$e)*D}function ae(ze,_e){var ct=ze[0]-_e[0],ot=ze[1]-_e[1];return Math.sqrt(ct*ct+ot*ot)}var ue=u.maxScreensAway,he=-p*ue,Ae=p*(1+ue),ke=-v*ue,ce=v*(1+ue),me=[[he,ke,Ae,ke],[Ae,ke,Ae,ce],[Ae,ce,he,ce],[he,ce,he,ke]],pe,Ee,we,xe,Fe,Ke;function je(ze,_e){for(var ct=[],ot=0,$e=0;$e<4;$e++){var Ye=me[$e],it=n(ze[0],ze[1],_e[0],_e[1],Ye[0],Ye[1],Ye[2],Ye[3]);it&&(!ot||Math.abs(it.x-ct[0][0])>1||Math.abs(it.y-ct[0][1])>1)&&(it=[it.x,it.y],ot&&ae(it,ze)<ae(ct[0],ze)?ct.unshift(it):ct.push(it),ot++)}return ct}function Je(ze){if(ze[0]<he||ze[0]>Ae||ze[1]<ke||ze[1]>ce)return[t(ze[0],he,Ae),t(ze[1],ke,ce)]}function ht(ze,_e){if(ze[0]===_e[0]&&(ze[0]===he||ze[0]===Ae)||ze[1]===_e[1]&&(ze[1]===ke||ze[1]===ce))return!0}function Tt(ze,_e){var ct=[],ot=Je(ze),$e=Je(_e);return ot&&$e&&ht(ot,$e)||(ot&&ct.push(ot),$e&&ct.push($e)),ct}function gt(ze,_e,ct){return function(ot,$e){var Ye=Je(ot),it=Je($e),wt=[];if(Ye&&it&&ht(Ye,it))return wt;Ye&&wt.push(Ye),it&&wt.push(it);var Rt=2*l.constrain((ot[ze]+$e[ze])/2,_e,ct)-((Ye||ot)[ze]+(it||$e)[ze]);if(Rt){var Ht;Ye&&it?Ht=Rt>0==Ye[ze]>it[ze]?Ye:it:Ht=Ye||it,Ht[ze]+=Rt}return wt}}var tt;B==="linear"||B==="spline"?tt=je:B==="hv"||B==="vh"?tt=Tt:B==="hvh"?tt=gt(0,he,Ae):B==="vhv"&&(tt=gt(1,ke,ce));function Ct(ze,_e){var ct=_e[0]-ze[0],ot=(_e[1]-ze[1])/ct,$e=(ze[1]*_e[0]-_e[1]*ze[0])/ct;return $e>0?[ot>0?he:Ae,ce]:[ot>0?Ae:he,ke]}function rt(ze){var _e=ze[0],ct=ze[1],ot=_e===$[ie-1][0],$e=ct===$[ie-1][1];if(!(ot&&$e))if(ie>1){var Ye=_e===$[ie-2][0],it=ct===$[ie-2][1];ot&&(_e===he||_e===Ae)&&Ye?it?ie--:$[ie-1]=ze:$e&&(ct===ke||ct===ce)&&it?Ye?ie--:$[ie-1]=ze:$[ie++]=ze}else $[ie++]=ze}function Mt(ze){$[ie-1][0]!==ze[0]&&$[ie-1][1]!==ze[1]&&rt([we,xe]),rt(ze),Fe=null,we=xe=0}var Dt=l.isArrayOrTypedArray(w);function kt(ze){if(ze&&b&&(ze.i=N,ze.d=m,ze.trace=d,ze.marker=Dt?w[ze.i]:w,ze.backoff=b),K=ze[0]/p,P=ze[1]/v,pe=ze[0]<he?he:ze[0]>Ae?Ae:0,Ee=ze[1]<ke?ke:ze[1]>ce?ce:0,pe||Ee){if(!ie)$[ie++]=[pe||ze[0],Ee||ze[1]];else if(Fe){var _e=tt(Fe,ze);_e.length>1&&(Mt(_e[0]),$[ie++]=_e[1])}else Ke=tt($[ie-1],ze)[0],$[ie++]=Ke;var ct=$[ie-1];pe&&Ee&&(ct[0]!==pe||ct[1]!==Ee)?(Fe&&(we!==pe&&xe!==Ee?rt(we&&xe?Ct(Fe,ze):[we||pe,xe||Ee]):we&&xe&&rt([we,xe])),rt([pe,Ee])):we-pe&&xe-Ee&&rt([pe||we,Ee||xe]),Fe=ze,we=pe,xe=Ee}else Fe&&Mt(tt(Fe,ze)[0]),$[ie++]=ze}for(N=0;N<Z;N++)if(F=z(N),!!F){for(ie=0,Fe=null,kt(F),N++;N<Z;N++){if(W=z(N),!W){if(_)continue;break}if(!U||!y.simplify){kt(W);continue}var At=z(N+1);if(Me=ae(W,F),!(!(L&&(ie===0||ie===Z-1))&&Me<j(W,At)*R)){for(fe=[(W[0]-F[0])/Me,(W[1]-F[1])/Me],X=F,le=Me,ve=Y=S=0,ne=!1,G=W,N++;N<m.length;N++){if(J=At,At=z(N+1),!J){if(_)continue;break}if(ye=[J[0]-F[0],J[1]-F[1]],E=ye[0]*fe[1]-ye[1]*fe[0],Y=Math.min(Y,E),S=Math.max(S,E),S-Y>j(J,At))break;G=J,H=ye[0]*fe[0]+ye[1]*fe[1],H>le?(le=H,W=J,ne=!1):H<ve&&(ve=H,X=J,ne=!0)}if(ne?(kt(W),G!==X&&kt(X)):(X!==F&&kt(X),G!==W&&kt(W)),kt(G),N>=m.length||!J)break;kt(J),F=J}}Fe&&rt([we||Fe[0],xe||Fe[1]]),O.push($.slice(0,ie))}var Le=B.slice(B.length-1);if(b&&Le!=="h"&&Le!=="v"){for(var Te=!1,Pe=-1,Ce=[],Oe=0;Oe<O.length;Oe++)for(var oe=0;oe<O[Oe].length-1;oe++){var be=O[Oe][oe],De=O[Oe][oe+1],Se=o.applyBackoff(De,be);(Se[0]!==De[0]||Se[1]!==De[1])&&(Te=!0),Ce[Pe+1]||(Pe++,Ce[Pe]=[be,[Se[0],Se[1]]])}return Te?Ce:O}return O}},4039:function(te){te.exports=function(e,o,g){var s=g("line.shape");s==="spline"&&g("line.smoothing")}},8687:function(te){var I={tonextx:1,tonexty:1,tonext:1};te.exports=function(o,g,s){var i,r,f,l,n,t={},u=!1,h=-1,m=0,y=-1;for(r=0;r<s.length;r++)i=s[r][0].trace,f=i.stackgroup||"",f?f in t?n=t[f]:(n=t[f]=m,m++):i.fill in I&&y>=0?n=y:(n=y=m,m++),n<h&&(u=!0),i._groupIndex=h=n;var d=s.slice();u&&d.sort(function(x,M){var c=x[0].trace,p=M[0].trace;return c._groupIndex-p._groupIndex||c.index-p.index});var T={};for(r=0;r<d.length;r++)i=d[r][0].trace,f=i.stackgroup||"",i.visible===!0?(i._nexttrace=null,i.fill in I&&(l=T[f],i._prevtrace=l||null,l&&(l._nexttrace=i)),i._ownfill=i.fill&&(i.fill.substr(0,6)==="tozero"||i.fill==="toself"||i.fill.substr(0,2)==="to"&&!i._prevtrace),T[f]=i):i._prevtrace=i._nexttrace=i._ownfill=null;return d}},9984:function(te,I,e){var o=e(2770);te.exports=function(s,i){i||(i=2);var r=s.marker,f=r.sizeref||1,l=r.sizemin||0,n=r.sizemode==="area"?function(t){return Math.sqrt(t/f)}:function(t){return t/f};return function(t){var u=n(t/i);return o(u)&&u>0?Math.max(u,l):0}}},4898:function(te){te.exports={container:"marker",min:"cmin",max:"cmax"}},9508:function(te,I,e){var o=e(7901),g=e(2869).hasColorscale,s=e(1586),i=e(4098);te.exports=function(f,l,n,t,u,h){var m=i.isBubble(f),y=(f.line||{}).color,d;if(h=h||{},y&&(n=y),u("marker.symbol"),u("marker.opacity",m?.7:1),u("marker.size"),h.noAngle||(u("marker.angle"),h.noAngleRef||u("marker.angleref"),h.noStandOff||u("marker.standoff")),u("marker.color",n),g(f,"marker")&&s(f,l,t,u,{prefix:"marker.",cLetter:"c"}),h.noSelect||(u("selected.marker.color"),u("unselected.marker.color"),u("selected.marker.size"),u("unselected.marker.size")),h.noLine||(y&&!Array.isArray(y)&&l.marker.color!==y?d=y:m?d=o.background:d=o.defaultLine,u("marker.line.color",d),g(f,"marker.line")&&s(f,l,t,u,{prefix:"marker.line.",cLetter:"c"}),u("marker.line.width",m?1:0)),m&&(u("marker.sizeref"),u("marker.sizemin"),u("marker.sizemode")),h.gradient){var T=u("marker.gradient.type");T!=="none"&&u("marker.gradient.color")}}},3927:function(te,I,e){var o=e(1828).dateTick0,g=e(606),s=g.ONEWEEK;function i(r,f){return r%s===0?o(f,1):o(f,0)}te.exports=function(f,l,n,t,u){if(u||(u={x:!0,y:!0}),u.x){var h=t("xperiod");h&&(t("xperiod0",i(h,l.xcalendar)),t("xperiodalignment"))}if(u.y){var m=t("yperiod");m&&(t("yperiod0",i(m,l.ycalendar)),t("yperiodalignment"))}}},7399:function(te,I,e){var o=e(9898),g=e(3972),s=e(1828),i=s.ensureSingle,r=s.identity,f=e(1424),l=e(4098),n=e(4621),t=e(8687),u=e(1082).tester;te.exports=function(T,x,M,c,p,v){var b,w,_=!p,D=!!p&&p.duration>0,B=t(T,x,M);if(b=c.selectAll("g.trace").data(B,function(L){return L[0].trace.uid}),b.enter().append("g").attr("class",function(L){return"trace scatter trace"+L[0].trace.uid}).style("stroke-miterlimit",2),b.order(),h(T,b,x),D){v&&(w=v());var U=o.transition().duration(p.duration).ease(p.easing).each("end",function(){w&&w()}).each("interrupt",function(){w&&w()});U.each(function(){c.selectAll("g.trace").each(function(L,O){m(T,O,x,L,B,this,p)})})}else b.each(function(L,O){m(T,O,x,L,B,this,p)});_&&b.exit().remove(),c.selectAll("path:not([d])").remove()};function h(d,T,x){T.each(function(M){var c=i(o.select(this),"g","fills");f.setClipUrl(c,x.layerClipId,d);var p=M[0].trace,v=[];p._ownfill&&v.push("_ownFill"),p._nexttrace&&v.push("_nextFill");var b=c.selectAll("g").data(v,r);b.enter().append("g"),b.exit().each(function(w){p[w]=null}).remove(),b.order().each(function(w){p[w]=i(o.select(this),"path","js-fill")})})}function m(d,T,x,M,c,p,v){var b=d._context.staticPlot,w;y(d,T,x,M,c);var _=!!v&&v.duration>0;function D(xe){return _?xe.transition():xe}var B=x.xaxis,U=x.yaxis,L=M[0].trace,O=L.line,R=o.select(p),Z=i(R,"g","errorbars"),$=i(R,"g","lines"),ie=i(R,"g","points"),N=i(R,"g","text");if(g.getComponentMethod("errorbars","plot")(d,Z,x,v),L.visible!==!0)return;D(R).style("opacity",L.opacity);var F,G,W=L.fill.charAt(L.fill.length-1);W!=="x"&&W!=="y"&&(W=""),M[0][x.isRangePlot?"nodeRangePlot3":"node3"]=R;var X="",J=[],ne=L._prevtrace;ne&&(X=ne._prevRevpath||"",G=ne._nextFill,J=ne._polygons);var fe,ye,Me="",le="",ve,H,Y,S,E,z,C,K=[],P=s.noop;if(F=L._ownFill,l.hasLines(L)||L.fill!=="none"){for(G&&G.datum(M),["hv","vh","hvh","vhv"].indexOf(O.shape)!==-1?(ve=f.steps(O.shape),H=f.steps(O.shape.split("").reverse().join(""))):O.shape==="spline"?ve=H=function(xe){var Fe=xe[xe.length-1];return xe.length>1&&xe[0][0]===Fe[0]&&xe[0][1]===Fe[1]?f.smoothclosed(xe.slice(1),O.smoothing):f.smoothopen(xe,O.smoothing)}:ve=H=function(xe){return"M"+xe.join("L")},Y=function(xe){return H(xe.reverse())},K=n(M,{xaxis:B,yaxis:U,trace:L,connectGaps:L.connectgaps,baseTolerance:Math.max(O.width||1,3)/4,shape:O.shape,backoff:O.backoff,simplify:O.simplify,fill:L.fill}),C=L._polygons=new Array(K.length),w=0;w<K.length;w++)L._polygons[w]=u(K[w]);K.length&&(S=K[0][0],E=K[K.length-1],z=E[E.length-1]),P=function(xe){return function(Fe){if(fe=ve(Fe),ye=Y(Fe),Me?W?(Me+="L"+fe.substr(1),le=ye+("L"+le.substr(1))):(Me+="Z"+fe,le=ye+"Z"+le):(Me=fe,le=ye),l.hasLines(L)){var Ke=o.select(this);if(Ke.datum(M),xe)D(Ke.style("opacity",0).attr("d",fe).call(f.lineGroupStyle)).style("opacity",1);else{var je=D(Ke);je.attr("d",fe),f.singleLineStyle(M,je)}}}}}var j=$.selectAll(".js-line").data(K);D(j.exit()).style("opacity",0).remove(),j.each(P(!1)),j.enter().append("path").classed("js-line",!0).style("vector-effect",b?"none":"non-scaling-stroke").call(f.lineGroupStyle).each(P(!0)),f.setClipUrl(j,x.layerClipId,d);function ae(xe){D(xe).attr("d","M0,0Z")}K.length?(F?(F.datum(M),S&&z&&(W?(W==="y"?S[1]=z[1]=U.c2p(0,!0):W==="x"&&(S[0]=z[0]=B.c2p(0,!0)),D(F).attr("d","M"+z+"L"+S+"L"+Me.substr(1)).call(f.singleFillStyle,d)):D(F).attr("d",Me+"Z").call(f.singleFillStyle,d))):G&&(L.fill.substr(0,6)==="tonext"&&Me&&X?(L.fill==="tonext"?D(G).attr("d",Me+"Z"+X+"Z").call(f.singleFillStyle,d):D(G).attr("d",Me+"L"+X.substr(1)+"Z").call(f.singleFillStyle,d),L._polygons=L._polygons.concat(J)):(ae(G),L._polygons=null)),L._prevRevpath=le,L._prevPolygons=C):(F?ae(F):G&&ae(G),L._polygons=L._prevRevpath=L._prevPolygons=null);function ue(xe){return xe.filter(function(Fe){return!Fe.gap&&Fe.vis})}function he(xe){return xe.filter(function(Fe){return Fe.vis})}function Ae(xe){return xe.filter(function(Fe){return!Fe.gap})}function ke(xe){return xe.id}function ce(xe){if(xe.ids)return ke}function me(){return!1}function pe(xe,Fe,Ke){var je,Je,ht,Tt=Ke[0].trace,gt=l.hasMarkers(Tt),tt=l.hasText(Tt),Ct=ce(Tt),rt=me,Mt=me;if(gt||tt){var Dt=r,kt=Tt.stackgroup,At=kt&&d._fullLayout._scatterStackOpts[B._id+U._id][kt].stackgaps==="infer zero";Tt.marker.maxdisplayed||Tt._needsCull?Dt=At?he:ue:kt&&!At&&(Dt=Ae),gt&&(rt=Dt),tt&&(Mt=Dt)}Je=xe.selectAll("path.point"),je=Je.data(rt,Ct);var Le=je.enter().append("path").classed("point",!0);_&&Le.call(f.pointStyle,Tt,d).call(f.translatePoints,B,U).style("opacity",0).transition().style("opacity",1),je.order();var Te;gt&&(Te=f.makePointStyleFns(Tt)),je.each(function(Pe){var Ce=o.select(this),Oe=D(Ce);ht=f.translatePoint(Pe,Oe,B,U),ht?(f.singlePointStyle(Pe,Oe,Tt,Te,d),x.layerClipId&&f.hideOutsideRangePoint(Pe,Oe,B,U,Tt.xcalendar,Tt.ycalendar),Tt.customdata&&Ce.classed("plotly-customdata",Pe.data!==null&&Pe.data!==void 0)):Oe.remove()}),_?je.exit().transition().style("opacity",0).remove():je.exit().remove(),Je=Fe.selectAll("g"),je=Je.data(Mt,Ct),je.enter().append("g").classed("textpoint",!0).append("text"),je.order(),je.each(function(Pe){var Ce=o.select(this),Oe=D(Ce.select("text"));ht=f.translatePoint(Pe,Oe,B,U),ht?x.layerClipId&&f.hideOutsideRangePoint(Pe,Ce,B,U,Tt.xcalendar,Tt.ycalendar):Ce.remove()}),je.selectAll("text").call(f.textPointStyle,Tt,d).each(function(Pe){var Ce=B.c2p(Pe.x),Oe=U.c2p(Pe.y);o.select(this).selectAll("tspan.line").each(function(){D(o.select(this)).attr({x:Ce,y:Oe})})}),je.exit().remove()}ie.datum(M),N.datum(M),pe(ie,N,M);var Ee=L.cliponaxis===!1,we=Ee?null:x.layerClipId;f.setClipUrl(ie,we,d),f.setClipUrl(N,we,d)}function y(d,T,x,M,c){var p=x.xaxis,v=x.yaxis,b=o.extent(s.simpleMap(p.range,p.r2c)),w=o.extent(s.simpleMap(v.range,v.r2c)),_=M[0].trace;if(l.hasMarkers(_)){var D=_.marker.maxdisplayed;if(D!==0){var B=M.filter(function(R){return R.x>=b[0]&&R.x<=b[1]&&R.y>=w[0]&&R.y<=w[1]}),U=Math.ceil(B.length/D),L=0;c.forEach(function(R,Z){var $=R[0].trace;l.hasMarkers($)&&$.marker.maxdisplayed>0&&Z<T&&L++});var O=Math.round(L*U/3+Math.floor(L/3)*U/7.1);M.forEach(function(R){delete R.vis}),B.forEach(function(R,Z){Math.round((Z+O)%U)===0&&(R.vis=!0)})}}}},8002:function(te,I,e){var o=e(4098);te.exports=function(s,i){var r=s.cd,f=s.xaxis,l=s.yaxis,n=[],t=r[0].trace,u,h,m,y,d=!o.hasMarkers(t)&&!o.hasText(t);if(d)return[];if(i===!1)for(u=0;u<r.length;u++)r[u].selected=0;else for(u=0;u<r.length;u++)h=r[u],m=f.c2p(h.x),y=l.c2p(h.y),h.i!==null&&i.contains([m,y],!1,u,s)?(n.push({pointNumber:h.i,x:f.c2d(h.x),y:l.c2d(h.y)}),h.selected=1):h.selected=0;return n}},565:function(te){var I=["orientation","groupnorm","stackgaps"];te.exports=function(o,g,s,i){var r=s._scatterStackOpts,f=i("stackgroup");if(f){var l=g.xaxis+g.yaxis,n=r[l];n||(n=r[l]={});var t=n[f],u=!1;t?t.traces.push(g):(t=n[f]={traceIndices:[],traces:[g]},u=!0);for(var h={orientation:g.x&&!g.y?"h":"v"},m=0;m<I.length;m++){var y=I[m],d=y+"Found";if(!t[d]){var T=o[y]!==void 0,x=y==="orientation";if((T||u)&&(t[y]=i(y,h[y]),x&&(t.fillDflt=t[y]==="h"?"tonextx":"tonexty"),T&&(t[d]=!0,!u&&(delete t.traces[0][y],x))))for(var M=0;M<t.traces.length-1;M++){var c=t.traces[M];c._input.fill!==c.fill&&(c.fill=t.fillDflt)}}}return t}}},6296:function(te,I,e){var o=e(9898),g=e(1424),s=e(3972);function i(n){var t=o.select(n).selectAll("g.trace.scatter");t.style("opacity",function(u){return u[0].trace.opacity}),t.selectAll("g.points").each(function(u){var h=o.select(this),m=u.trace||u[0].trace;r(h,m,n)}),t.selectAll("g.text").each(function(u){var h=o.select(this),m=u.trace||u[0].trace;f(h,m,n)}),t.selectAll("g.trace path.js-line").call(g.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(g.fillGroupStyle,n),s.getComponentMethod("errorbars","style")(t)}function r(n,t,u){g.pointStyle(n.selectAll("path.point"),t,u)}function f(n,t,u){g.textPointStyle(n.selectAll("text"),t,u)}function l(n,t,u){var h=t[0].trace;h.selectedpoints?(g.selectedPointStyle(u.selectAll("path.point"),h),g.selectedTextStyle(u.selectAll("text"),h)):(r(u,h,n),f(u,h,n))}te.exports={style:i,stylePoints:r,styleText:f,styleOnSelect:l}},4098:function(te,I,e){var o=e(1828);te.exports={hasLines:function(g){return g.visible&&g.mode&&g.mode.indexOf("lines")!==-1},hasMarkers:function(g){return g.visible&&(g.mode&&g.mode.indexOf("markers")!==-1||g.type==="splom")},hasText:function(g){return g.visible&&g.mode&&g.mode.indexOf("text")!==-1},isBubble:function(g){return o.isPlainObject(g.marker)&&o.isArrayOrTypedArray(g.marker.size)}}},2410:function(te,I,e){var o=e(1828);te.exports=function(g,s,i,r,f){f=f||{},r("textposition"),o.coerceFont(r,"textfont",f.font||i.font),f.noSelect||(r("selected.textfont.color"),r("unselected.textfont.color"))}},7513:function(te,I,e){var o=e(1828),g=e(3972);te.exports=function(i,r,f,l){var n=l("x"),t=l("y"),u,h=g.getComponentMethod("calendars","handleTraceDefaults");if(h(i,r,["x","y"],f),n){var m=o.minRowLength(n);t?u=Math.min(m,o.minRowLength(t)):(u=m,l("y0"),l("dy"))}else{if(!t)return 0;u=o.minRowLength(t),l("x0"),l("dx")}return r._length=u,u}},2887:function(te,I,e){var o=e(9298),g=e(1828),s=e(6281),i=e(9344).p,r=e(606).BADNUM;I.moduleType="transform",I.name="aggregate";var f=I.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},l=f.aggregations;I.supplyDefaults=function(y,d){var T={},x;function M(R,Z){return g.coerce(y,T,f,R,Z)}var c=M("enabled");if(!c)return T;var p=s.findArrayAttributes(d),v={};for(x=0;x<p.length;x++)v[p[x]]=1;var b=M("groups");if(!Array.isArray(b)){if(!v[b])return T.enabled=!1,T;v[b]=0}var w=y.aggregations||[],_=T.aggregations=new Array(w.length),D;function B(R,Z){return g.coerce(w[x],D,l,R,Z)}for(x=0;x<w.length;x++){D={_index:x};var U=B("target"),L=B("func"),O=B("enabled");O&&U&&(v[U]||L==="count"&&v[U]===void 0)?(L==="stddev"&&B("funcmode"),v[U]=0,_[x]=D):_[x]={enabled:!1,_index:x}}for(x=0;x<p.length;x++)v[p[x]]&&_.push({target:p[x],func:l.func.dflt,enabled:!0,_index:-1});return T},I.calcTransform=function(y,d,T){if(T.enabled){var x=T.groups,M=g.getTargetArray(d,{target:x});if(M){var c,p,v,b,w={},_={},D=[],B=i(d.transforms,T),U=M.length;for(d._length&&(U=Math.min(U,d._length)),c=0;c<U;c++)p=M[c],v=w[p],v===void 0?(w[p]=D.length,b=[c],D.push(b),_[w[p]]=B(c)):(D[v].push(c),_[w[p]]=(_[w[p]]||[]).concat(B(c)));T._indexToPoints=_;var L=T.aggregations;for(c=0;c<L.length;c++)n(y,d,D,L[c]);typeof x=="string"&&n(y,d,D,{target:x,func:"first",enabled:!0}),d._length=D.length}}};function n(y,d,T,x){if(x.enabled){for(var M=x.target,c=g.nestedProperty(d,M),p=c.get(),v=o.getDataConversions(y,d,M,p),b=t(x,v),w=new Array(T.length),_=0;_<T.length;_++)w[_]=b(p,T[_]);c.set(w),x.func==="count"&&g.pushUnique(d._arrayAttrs,M)}}function t(y,d){var T=y.func,x=d.d2c,M=d.c2d;switch(T){case"count":return u;case"first":return h;case"last":return m;case"sum":return function(c,p){for(var v=0,b=0;b<p.length;b++){var w=x(c[p[b]]);w!==r&&(v+=w)}return M(v)};case"avg":return function(c,p){for(var v=0,b=0,w=0;w<p.length;w++){var _=x(c[p[w]]);_!==r&&(v+=_,b++)}return b?M(v/b):r};case"min":return function(c,p){for(var v=1/0,b=0;b<p.length;b++){var w=x(c[p[b]]);w!==r&&(v=Math.min(v,w))}return v===1/0?r:M(v)};case"max":return function(c,p){for(var v=-1/0,b=0;b<p.length;b++){var w=x(c[p[b]]);w!==r&&(v=Math.max(v,w))}return v===-1/0?r:M(v)};case"range":return function(c,p){for(var v=1/0,b=-1/0,w=0;w<p.length;w++){var _=x(c[p[w]]);_!==r&&(v=Math.min(v,_),b=Math.max(b,_))}return b===-1/0||v===1/0?r:M(b-v)};case"change":return function(c,p){var v=x(c[p[0]]),b=x(c[p[p.length-1]]);return v===r||b===r?r:M(b-v)};case"median":return function(c,p){for(var v=[],b=0;b<p.length;b++){var w=x(c[p[b]]);w!==r&&v.push(w)}if(!v.length)return r;v.sort(g.sorterAsc);var _=(v.length-1)/2;return M((v[Math.floor(_)]+v[Math.ceil(_)])/2)};case"mode":return function(c,p){for(var v={},b=0,w=r,_=0;_<p.length;_++){var D=x(c[p[_]]);if(D!==r){var B=v[D]=(v[D]||0)+1;B>b&&(b=B,w=D)}}return b?M(w):r};case"rms":return function(c,p){for(var v=0,b=0,w=0;w<p.length;w++){var _=x(c[p[w]]);_!==r&&(v+=_*_,b++)}return b?M(Math.sqrt(v/b)):r};case"stddev":return function(c,p){var v=0,b=0,w=1,_=r,D;for(D=0;D<p.length&&_===r;D++)_=x(c[p[D]]);if(_===r)return r;for(;D<p.length;D++){var B=x(c[p[D]]);if(B!==r){var U=B-_;v+=U,b+=U*U,w++}}var L=y.funcmode==="sample"?w-1:w;return L?Math.sqrt((b-v*v/w)/L):0}}}function u(y,d){return d.length}function h(y,d){return y[d[0]]}function m(y,d){return y[d[d.length-1]]}},4382:function(te,I,e){var o=e(1828),g=e(3972),s=e(9298),i=e(9344).p,r=e(4808),f=r.COMPARISON_OPS,l=r.INTERVAL_OPS,n=r.SET_OPS;I.moduleType="transform",I.name="filter",I.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(f).concat(l).concat(n),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},I.supplyDefaults=function(u){var h={};function m(x,M){return o.coerce(u,h,I.attributes,x,M)}var y=m("enabled");if(y){var d=m("target");if(o.isArrayOrTypedArray(d)&&d.length===0)return h.enabled=!1,h;m("preservegaps"),m("operation"),m("value");var T=g.getComponentMethod("calendars","handleDefaults");T(u,h,"valuecalendar",null),T(u,h,"targetcalendar",null)}return h},I.calcTransform=function(u,h,m){if(!m.enabled)return;var y=o.getTargetArray(h,m);if(!y)return;var d=m.target,T=y.length;h._length&&(T=Math.min(T,h._length));var x=m.targetcalendar,M=h._arrayAttrs,c=m.preservegaps;if(typeof d=="string"){var p=o.nestedProperty(h,d+"calendar").get();p&&(x=p)}var v=s.getDataToCoordFunc(u,h,d,y),b=t(m,v,x),w={},_={},D=0;function B($,ie){for(var N=0;N<M.length;N++){var F=o.nestedProperty(h,M[N]);$(F,ie)}}var U,L;c?(U=function($){w[$.astr]=o.extendDeep([],$.get()),$.set(new Array(T))},L=function($,ie){var N=w[$.astr][ie];$.get()[ie]=N}):(U=function($){w[$.astr]=o.extendDeep([],$.get()),$.set([])},L=function($,ie){var N=w[$.astr][ie];$.get().push(N)}),B(U);for(var O=i(h.transforms,m),R=0;R<T;R++){var Z=b(y[R]);Z?(B(L,R),_[D++]=O(R)):c&&D++}m._indexToPoints=_,h._length=D};function t(u,h,m){var y=u.operation,d=u.value,T=Array.isArray(d);function x(v){return v.indexOf(y)!==-1}var M=function(v){return h(v,0,u.valuecalendar)},c=function(v){return h(v,0,m)},p;switch(x(f)?p=M(T?d[0]:d):x(l)?p=T?[M(d[0]),M(d[1])]:[M(d),M(d)]:x(n)&&(p=T?d.map(M):[M(d)]),y){case"=":return function(v){return c(v)===p};case"!=":return function(v){return c(v)!==p};case"<":return function(v){return c(v)<p};case"<=":return function(v){return c(v)<=p};case">":return function(v){return c(v)>p};case">=":return function(v){return c(v)>=p};case"[]":return function(v){var b=c(v);return b>=p[0]&&b<=p[1]};case"()":return function(v){var b=c(v);return b>p[0]&&b<p[1]};case"[)":return function(v){var b=c(v);return b>=p[0]&&b<p[1]};case"(]":return function(v){var b=c(v);return b>p[0]&&b<=p[1]};case"][":return function(v){var b=c(v);return b<=p[0]||b>=p[1]};case")(":return function(v){var b=c(v);return b<p[0]||b>p[1]};case"](":return function(v){var b=c(v);return b<=p[0]||b>p[1]};case")[":return function(v){var b=c(v);return b<p[0]||b>=p[1]};case"{}":return function(v){return p.indexOf(c(v))!==-1};case"}{":return function(v){return p.indexOf(c(v))===-1}}}},3102:function(te,I,e){var o=e(1828),g=e(6281),s=e(4875),i=e(9344).p;I.moduleType="transform",I.name="groupby",I.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},I.supplyDefaults=function(f,l,n){var t,u={};function h(M,c){return o.coerce(f,u,I.attributes,M,c)}var m=h("enabled");if(!m)return u;h("groups"),h("nameformat",n._dataLength>1?"%{group} (%{trace})":"%{group}");var y=f.styles,d=u.styles=[];if(y)for(t=0;t<y.length;t++){var T=d[t]={};o.coerce(y[t],d[t],I.attributes.styles,"target");var x=o.coerce(y[t],d[t],I.attributes.styles,"value");o.isPlainObject(x)?T.value=o.extendDeep({},x):x&&delete T.value}return u},I.transform=function(f,l){var n,t,u,h=[];for(t=0;t<f.length;t++)for(n=r(f[t],l),u=0;u<n.length;u++)h.push(n[u]);return h};function r(f,l){var n,t,u,h,m,y,d,T,x,M,c=l.transform,p=l.transformIndex,v=f.transforms[p].groups,b=i(f.transforms,c);if(!o.isArrayOrTypedArray(v)||v.length===0)return[f];var w=o.filterUnique(v),_=new Array(w.length),D=v.length,B=g.findArrayAttributes(f),U=c.styles||[],L={};for(n=0;n<U.length;n++)L[U[n].target]=U[n].value;c.styles&&(M=o.keyedContainer(c,"styles","target","value.name"));var O={},R={};for(n=0;n<w.length;n++){y=w[n],O[y]=n,R[y]=0,d=_[n]=o.extendDeepNoArrays({},f),d._group=y,d.transforms[p]._indexToPoints={};var Z=null;for(M&&(Z=M.get(y)),Z||Z===""?d.name=Z:d.name=o.templateString(c.nameformat,{trace:f.name,group:y}),T=d.transforms,d.transforms=[],t=0;t<T.length;t++)d.transforms[t]=o.extendDeepNoArrays({},T[t]);for(t=0;t<B.length;t++)o.nestedProperty(d,B[t]).set([])}for(u=0;u<B.length;u++){for(h=B[u],t=0,x=[];t<w.length;t++)x[t]=o.nestedProperty(_[t],h).get();for(m=o.nestedProperty(f,h).get(),t=0;t<D;t++)x[O[v[t]]].push(m[t])}for(t=0;t<D;t++){d=_[O[v[t]]];var $=d.transforms[p]._indexToPoints;$[R[v[t]]]=b(t),R[v[t]]++}for(n=0;n<w.length;n++)y=w[n],d=_[n],s.clearExpandedTraceDefaultColors(d),d=o.extendDeepNoArrays(d,L[y]||{});return _}},9344:function(te,I){I.p=function(e,o){for(var g,s,i=0;i<e.length&&(g=e[i],g!==o);i++)!g._indexToPoints||g.enabled===!1||(s=g._indexToPoints);var r=s?function(f){return s[f]}:function(f){return[f]};return r}},2275:function(te,I,e){var o=e(1828),g=e(9298),s=e(9344).p,i=e(606).BADNUM;I.moduleType="transform",I.name="sort",I.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},I.supplyDefaults=function(l){var n={};function t(h,m){return o.coerce(l,n,I.attributes,h,m)}var u=t("enabled");return u&&(t("target"),t("order")),n},I.calcTransform=function(l,n,t){if(t.enabled){var u=o.getTargetArray(n,t);if(u){var h=t.target,m=u.length;n._length&&(m=Math.min(m,n._length));var y=n._arrayAttrs,d=g.getDataToCoordFunc(l,n,h,u),T=r(t,u,d,m),x=s(n.transforms,t),M={},c,p;for(c=0;c<y.length;c++){var v=o.nestedProperty(n,y[c]),b=v.get(),w=new Array(m);for(p=0;p<m;p++)w[p]=b[T[p]];v.set(w)}for(p=0;p<m;p++)M[p]=x(T[p]);t._indexToPoints=M,n._length=m}}};function r(l,n,t,u){var h=new Array(u),m=new Array(u),y;for(y=0;y<u;y++)h[y]={v:n[y],i:y};for(h.sort(f(l,t)),y=0;y<u;y++)m[y]=h[y].i;return m}function f(l,n){switch(l.order){case"ascending":return function(t,u){var h=n(t.v),m=n(u.v);return h===i?1:m===i?-1:h-m};case"descending":return function(t,u){var h=n(t.v),m=n(u.v);return h===i?1:m===i?-1:m-h}}}},1506:function(te,I){I.version="2.27.1"},5791:function(te){te.exports=g,te.exports.isMobile=g,te.exports.default=g;var I=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,o=/android|ipad|playbook|silk/i;function g(s){s||(s={});var i=s.ua;if(!i&&typeof navigator<"u"&&(i=navigator.userAgent),i&&i.headers&&typeof i.headers["user-agent"]=="string"&&(i=i.headers["user-agent"]),typeof i!="string")return!1;var r=I.test(i)&&!e.test(i)||!!s.tablet&&o.test(i);return!r&&s.tablet&&s.featureDetect&&navigator&&navigator.maxTouchPoints>1&&i.indexOf("Macintosh")!==-1&&i.indexOf("Safari")!==-1&&(r=!0),r}},9898:function(te,I,e){var o,g;(function(){var s={version:"3.8.0"},i=[].slice,r=function(a){return i.call(a)},f=self.document;function l(a){return a&&(a.ownerDocument||a.document||a).documentElement}function n(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}if(f)try{r(f.documentElement.childNodes)[0].nodeType}catch{r=function(A){for(var k=A.length,V=new Array(k);k--;)V[k]=A[k];return V}}if(Date.now||(Date.now=function(){return+new Date}),f)try{f.createElement("DIV").style.setProperty("opacity",0,"")}catch{var t=this.Element.prototype,u=t.setAttribute,h=t.setAttributeNS,m=this.CSSStyleDeclaration.prototype,y=m.setProperty;t.setAttribute=function(A,k){u.call(this,A,k+"")},t.setAttributeNS=function(A,k,V){h.call(this,A,k,V+"")},m.setProperty=function(A,k,V){y.call(this,A,k+"",V)}}s.ascending=d;function d(a,A){return a<A?-1:a>A?1:a>=A?0:NaN}s.descending=function(a,A){return A<a?-1:A>a?1:A>=a?0:NaN},s.min=function(a,A){var k=-1,V=a.length,Q,ee;if(arguments.length===1){for(;++k<V;)if((ee=a[k])!=null&&ee>=ee){Q=ee;break}for(;++k<V;)(ee=a[k])!=null&&Q>ee&&(Q=ee)}else{for(;++k<V;)if((ee=A.call(a,a[k],k))!=null&&ee>=ee){Q=ee;break}for(;++k<V;)(ee=A.call(a,a[k],k))!=null&&Q>ee&&(Q=ee)}return Q},s.max=function(a,A){var k=-1,V=a.length,Q,ee;if(arguments.length===1){for(;++k<V;)if((ee=a[k])!=null&&ee>=ee){Q=ee;break}for(;++k<V;)(ee=a[k])!=null&&ee>Q&&(Q=ee)}else{for(;++k<V;)if((ee=A.call(a,a[k],k))!=null&&ee>=ee){Q=ee;break}for(;++k<V;)(ee=A.call(a,a[k],k))!=null&&ee>Q&&(Q=ee)}return Q},s.extent=function(a,A){var k=-1,V=a.length,Q,ee,de;if(arguments.length===1){for(;++k<V;)if((ee=a[k])!=null&&ee>=ee){Q=de=ee;break}for(;++k<V;)(ee=a[k])!=null&&(Q>ee&&(Q=ee),de<ee&&(de=ee))}else{for(;++k<V;)if((ee=A.call(a,a[k],k))!=null&&ee>=ee){Q=de=ee;break}for(;++k<V;)(ee=A.call(a,a[k],k))!=null&&(Q>ee&&(Q=ee),de<ee&&(de=ee))}return[Q,de]};function T(a){return a===null?NaN:+a}function x(a){return!isNaN(a)}s.sum=function(a,A){var k=0,V=a.length,Q,ee=-1;if(arguments.length===1)for(;++ee<V;)x(Q=+a[ee])&&(k+=Q);else for(;++ee<V;)x(Q=+A.call(a,a[ee],ee))&&(k+=Q);return k},s.mean=function(a,A){var k=0,V=a.length,Q,ee=-1,de=V;if(arguments.length===1)for(;++ee<V;)x(Q=T(a[ee]))?k+=Q:--de;else for(;++ee<V;)x(Q=T(A.call(a,a[ee],ee)))?k+=Q:--de;if(de)return k/de},s.quantile=function(a,A){var k=(a.length-1)*A+1,V=Math.floor(k),Q=+a[V-1],ee=k-V;return ee?Q+ee*(a[V]-Q):Q},s.median=function(a,A){var k=[],V=a.length,Q,ee=-1;if(arguments.length===1)for(;++ee<V;)x(Q=T(a[ee]))&&k.push(Q);else for(;++ee<V;)x(Q=T(A.call(a,a[ee],ee)))&&k.push(Q);if(k.length)return s.quantile(k.sort(d),.5)},s.variance=function(a,A){var k=a.length,V=0,Q,ee,de=0,se=-1,ge=0;if(arguments.length===1)for(;++se<k;)x(Q=T(a[se]))&&(ee=Q-V,V+=ee/++ge,de+=ee*(Q-V));else for(;++se<k;)x(Q=T(A.call(a,a[se],se)))&&(ee=Q-V,V+=ee/++ge,de+=ee*(Q-V));if(ge>1)return de/(ge-1)},s.deviation=function(){var a=s.variance.apply(this,arguments);return a&&Math.sqrt(a)};function M(a){return{left:function(A,k,V,Q){for(arguments.length<3&&(V=0),arguments.length<4&&(Q=A.length);V<Q;){var ee=V+Q>>>1;a(A[ee],k)<0?V=ee+1:Q=ee}return V},right:function(A,k,V,Q){for(arguments.length<3&&(V=0),arguments.length<4&&(Q=A.length);V<Q;){var ee=V+Q>>>1;a(A[ee],k)>0?Q=ee:V=ee+1}return V}}}var c=M(d);s.bisectLeft=c.left,s.bisect=s.bisectRight=c.right,s.bisector=function(a){return M(a.length===1?function(A,k){return d(a(A),k)}:a)},s.shuffle=function(a,A,k){(V=arguments.length)<3&&(k=a.length,V<2&&(A=0));for(var V=k-A,Q,ee;V;)ee=Math.random()*V--|0,Q=a[V+A],a[V+A]=a[ee+A],a[ee+A]=Q;return a},s.permute=function(a,A){for(var k=A.length,V=new Array(k);k--;)V[k]=a[A[k]];return V},s.pairs=function(a){for(var A=0,k=a.length-1,V=a[0],Q=new Array(k<0?0:k);A<k;)Q[A]=[V,V=a[++A]];return Q},s.transpose=function(a){if(!(ee=a.length))return[];for(var A=-1,k=s.min(a,p),V=new Array(k);++A<k;)for(var Q=-1,ee,de=V[A]=new Array(ee);++Q<ee;)de[Q]=a[Q][A];return V};function p(a){return a.length}s.zip=function(){return s.transpose(arguments)},s.keys=function(a){var A=[];for(var k in a)A.push(k);return A},s.values=function(a){var A=[];for(var k in a)A.push(a[k]);return A},s.entries=function(a){var A=[];for(var k in a)A.push({key:k,value:a[k]});return A},s.merge=function(a){for(var A=a.length,k,V=-1,Q=0,ee,de;++V<A;)Q+=a[V].length;for(ee=new Array(Q);--A>=0;)for(de=a[A],k=de.length;--k>=0;)ee[--Q]=de[k];return ee};var v=Math.abs;s.range=function(a,A,k){if(arguments.length<3&&(k=1,arguments.length<2&&(A=a,a=0)),(A-a)/k===1/0)throw new Error("infinite range");var V=[],Q=b(v(k)),ee=-1,de;if(a*=Q,A*=Q,k*=Q,k<0)for(;(de=a+k*++ee)>A;)V.push(de/Q);else for(;(de=a+k*++ee)<A;)V.push(de/Q);return V};function b(a){for(var A=1;a*A%1;)A*=10;return A}function w(a,A){for(var k in A)Object.defineProperty(a.prototype,k,{value:A[k],enumerable:!1})}s.map=function(a,A){var k=new _;if(a instanceof _)a.forEach(function(se,ge){k.set(se,ge)});else if(Array.isArray(a)){var V=-1,Q=a.length,ee;if(arguments.length===1)for(;++V<Q;)k.set(V,a[V]);else for(;++V<Q;)k.set(A.call(a,ee=a[V],V),ee)}else for(var de in a)k.set(de,a[de]);return k};function _(){this._=Object.create(null)}var D="__proto__",B="\0";w(_,{has:O,get:function(a){return this._[U(a)]},set:function(a,A){return this._[U(a)]=A},remove:R,keys:Z,values:function(){var a=[];for(var A in this._)a.push(this._[A]);return a},entries:function(){var a=[];for(var A in this._)a.push({key:L(A),value:this._[A]});return a},size:$,empty:ie,forEach:function(a){for(var A in this._)a.call(this,L(A),this._[A])}});function U(a){return(a+="")===D||a[0]===B?B+a:a}function L(a){return(a+="")[0]===B?a.slice(1):a}function O(a){return U(a)in this._}function R(a){return(a=U(a))in this._&&delete this._[a]}function Z(){var a=[];for(var A in this._)a.push(L(A));return a}function $(){var a=0;for(var A in this._)++a;return a}function ie(){for(var a in this._)return!1;return!0}s.nest=function(){var a={},A=[],k=[],V,Q;function ee(se,ge,Re){if(Re>=A.length)return Q?Q.call(a,ge):V?ge.sort(V):ge;for(var Ne=-1,We=ge.length,Ze=A[Re++],vt,mt,Qe,et=new _,lt;++Ne<We;)(lt=et.get(vt=Ze(mt=ge[Ne])))?lt.push(mt):et.set(vt,[mt]);return se?(mt=se(),Qe=function(yt,bt){mt.set(yt,ee(se,bt,Re))}):(mt={},Qe=function(yt,bt){mt[yt]=ee(se,bt,Re)}),et.forEach(Qe),mt}function de(se,ge){if(ge>=A.length)return se;var Re=[],Ne=k[ge++];return se.forEach(function(We,Ze){Re.push({key:We,values:de(Ze,ge)})}),Ne?Re.sort(function(We,Ze){return Ne(We.key,Ze.key)}):Re}return a.map=function(se,ge){return ee(ge,se,0)},a.entries=function(se){return de(ee(s.map,se,0),0)},a.key=function(se){return A.push(se),a},a.sortKeys=function(se){return k[A.length-1]=se,a},a.sortValues=function(se){return V=se,a},a.rollup=function(se){return Q=se,a},a},s.set=function(a){var A=new N;if(a)for(var k=0,V=a.length;k<V;++k)A.add(a[k]);return A};function N(){this._=Object.create(null)}w(N,{has:O,add:function(a){return this._[U(a+="")]=!0,a},remove:R,values:Z,size:$,empty:ie,forEach:function(a){for(var A in this._)a.call(this,L(A))}}),s.behavior={};function F(a){return a}s.rebind=function(a,A){for(var k=1,V=arguments.length,Q;++k<V;)a[Q=arguments[k]]=G(a,A,A[Q]);return a};function G(a,A,k){return function(){var V=k.apply(A,arguments);return V===A?a:V}}function W(a,A){if(A in a)return A;A=A.charAt(0).toUpperCase()+A.slice(1);for(var k=0,V=X.length;k<V;++k){var Q=X[k]+A;if(Q in a)return Q}}var X=["webkit","ms","moz","Moz","o","O"];function J(){}s.dispatch=function(){for(var a=new ne,A=-1,k=arguments.length;++A<k;)a[arguments[A]]=fe(a);return a};function ne(){}ne.prototype.on=function(a,A){var k=a.indexOf("."),V="";if(k>=0&&(V=a.slice(k+1),a=a.slice(0,k)),a)return arguments.length<2?this[a].on(V):this[a].on(V,A);if(arguments.length===2){if(A==null)for(a in this)this.hasOwnProperty(a)&&this[a].on(V,null);return this}};function fe(a){var A=[],k=new _;function V(){for(var Q=A,ee=-1,de=Q.length,se;++ee<de;)(se=Q[ee].on)&&se.apply(this,arguments);return a}return V.on=function(Q,ee){var de=k.get(Q),se;return arguments.length<2?de&&de.on:(de&&(de.on=null,A=A.slice(0,se=A.indexOf(de)).concat(A.slice(se+1)),k.remove(Q)),ee&&A.push(k.set(Q,{on:ee})),a)},V}s.event=null;function ye(){s.event.preventDefault()}function Me(){for(var a=s.event,A;A=a.sourceEvent;)a=A;return a}function le(a){for(var A=new ne,k=0,V=arguments.length;++k<V;)A[arguments[k]]=fe(A);return A.of=function(Q,ee){return function(de){try{var se=de.sourceEvent=s.event;de.target=a,s.event=de,A[de.type].apply(Q,ee)}finally{s.event=se}}},A}s.requote=function(a){return a.replace(ve,"\\$&")};var ve=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,H={}.__proto__?function(a,A){a.__proto__=A}:function(a,A){for(var k in A)a[k]=A[k]};function Y(a){return H(a,C),a}var S=function(a,A){return A.querySelector(a)},E=function(a,A){return A.querySelectorAll(a)},z=function(a,A){var k=a.matches||a[W(a,"matchesSelector")];return z=function(V,Q){return k.call(V,Q)},z(a,A)};typeof Sizzle=="function"&&(S=function(a,A){return Sizzle(a,A)[0]||null},E=Sizzle,z=Sizzle.matchesSelector),s.selection=function(){return s.select(f.documentElement)};var C=s.selection.prototype=[];C.select=function(a){var A=[],k,V,Q,ee;a=K(a);for(var de=-1,se=this.length;++de<se;){A.push(k=[]),k.parentNode=(Q=this[de]).parentNode;for(var ge=-1,Re=Q.length;++ge<Re;)(ee=Q[ge])?(k.push(V=a.call(ee,ee.__data__,ge,de)),V&&"__data__"in ee&&(V.__data__=ee.__data__)):k.push(null)}return Y(A)};function K(a){return typeof a=="function"?a:function(){return S(a,this)}}C.selectAll=function(a){var A=[],k,V;a=P(a);for(var Q=-1,ee=this.length;++Q<ee;)for(var de=this[Q],se=-1,ge=de.length;++se<ge;)(V=de[se])&&(A.push(k=r(a.call(V,V.__data__,se,Q))),k.parentNode=V);return Y(A)};function P(a){return typeof a=="function"?a:function(){return E(a,this)}}var j="http://www.w3.org/1999/xhtml",ae={svg:"http://www.w3.org/2000/svg",xhtml:j,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};s.ns={prefix:ae,qualify:function(a){var A=a.indexOf(":"),k=a;return A>=0&&(k=a.slice(0,A))!=="xmlns"&&(a=a.slice(A+1)),ae.hasOwnProperty(k)?{space:ae[k],local:a}:a}},C.attr=function(a,A){if(arguments.length<2){if(typeof a=="string"){var k=this.node();return a=s.ns.qualify(a),a.local?k.getAttributeNS(a.space,a.local):k.getAttribute(a)}for(A in a)this.each(ue(A,a[A]));return this}return this.each(ue(a,A))};function ue(a,A){a=s.ns.qualify(a);function k(){this.removeAttribute(a)}function V(){this.removeAttributeNS(a.space,a.local)}function Q(){this.setAttribute(a,A)}function ee(){this.setAttributeNS(a.space,a.local,A)}function de(){var ge=A.apply(this,arguments);ge==null?this.removeAttribute(a):this.setAttribute(a,ge)}function se(){var ge=A.apply(this,arguments);ge==null?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,ge)}return A==null?a.local?V:k:typeof A=="function"?a.local?se:de:a.local?ee:Q}function he(a){return a.trim().replace(/\s+/g," ")}C.classed=function(a,A){if(arguments.length<2){if(typeof a=="string"){var k=this.node(),V=(a=ke(a)).length,Q=-1;if(A=k.classList){for(;++Q<V;)if(!A.contains(a[Q]))return!1}else for(A=k.getAttribute("class");++Q<V;)if(!Ae(a[Q]).test(A))return!1;return!0}for(A in a)this.each(ce(A,a[A]));return this}return this.each(ce(a,A))};function Ae(a){return new RegExp("(?:^|\\s+)"+s.requote(a)+"(?:\\s+|$)","g")}function ke(a){return(a+"").trim().split(/^|\s+/)}function ce(a,A){a=ke(a).map(me);var k=a.length;function V(){for(var ee=-1;++ee<k;)a[ee](this,A)}function Q(){for(var ee=-1,de=A.apply(this,arguments);++ee<k;)a[ee](this,de)}return typeof A=="function"?Q:V}function me(a){var A=Ae(a);return function(k,V){if(Q=k.classList)return V?Q.add(a):Q.remove(a);var Q=k.getAttribute("class")||"";V?(A.lastIndex=0,A.test(Q)||k.setAttribute("class",he(Q+" "+a))):k.setAttribute("class",he(Q.replace(A," ")))}}C.style=function(a,A,k){var V=arguments.length;if(V<3){if(typeof a!="string"){V<2&&(A="");for(k in a)this.each(pe(k,a[k],A));return this}if(V<2){var Q=this.node();return n(Q).getComputedStyle(Q,null).getPropertyValue(a)}k=""}return this.each(pe(a,A,k))};function pe(a,A,k){function V(){this.style.removeProperty(a)}function Q(){this.style.setProperty(a,A,k)}function ee(){var de=A.apply(this,arguments);de==null?this.style.removeProperty(a):this.style.setProperty(a,de,k)}return A==null?V:typeof A=="function"?ee:Q}C.property=function(a,A){if(arguments.length<2){if(typeof a=="string")return this.node()[a];for(A in a)this.each(Ee(A,a[A]));return this}return this.each(Ee(a,A))};function Ee(a,A){function k(){delete this[a]}function V(){this[a]=A}function Q(){var ee=A.apply(this,arguments);ee==null?delete this[a]:this[a]=ee}return A==null?k:typeof A=="function"?Q:V}C.text=function(a){return arguments.length?this.each(typeof a=="function"?function(){var A=a.apply(this,arguments);this.textContent=A??""}:a==null?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent},C.html=function(a){return arguments.length?this.each(typeof a=="function"?function(){var A=a.apply(this,arguments);this.innerHTML=A??""}:a==null?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML},C.append=function(a){return a=we(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})};function we(a){function A(){var V=this.ownerDocument,Q=this.namespaceURI;return Q===j&&V.documentElement.namespaceURI===j?V.createElement(a):V.createElementNS(Q,a)}function k(){return this.ownerDocument.createElementNS(a.space,a.local)}return typeof a=="function"?a:(a=s.ns.qualify(a)).local?k:A}C.insert=function(a,A){return a=we(a),A=K(A),this.select(function(){return this.insertBefore(a.apply(this,arguments),A.apply(this,arguments)||null)})},C.remove=function(){return this.each(xe)};function xe(){var a=this.parentNode;a&&a.removeChild(this)}C.data=function(a,A){var k=-1,V=this.length,Q,ee;if(!arguments.length){for(a=new Array(V=(Q=this[0]).length);++k<V;)(ee=Q[k])&&(a[k]=ee.__data__);return a}function de(Ne,We){var Ze,vt=Ne.length,mt=We.length,Qe=Math.min(vt,mt),et=new Array(mt),lt=new Array(mt),yt=new Array(vt),bt,ft;if(A){var zt=new _,Xt=new Array(vt),jt;for(Ze=-1;++Ze<vt;)(bt=Ne[Ze])&&(zt.has(jt=A.call(bt,bt.__data__,Ze))?yt[Ze]=bt:zt.set(jt,bt),Xt[Ze]=jt);for(Ze=-1;++Ze<mt;)(bt=zt.get(jt=A.call(We,ft=We[Ze],Ze)))?bt!==!0&&(et[Ze]=bt,bt.__data__=ft):lt[Ze]=Fe(ft),zt.set(jt,!0);for(Ze=-1;++Ze<vt;)Ze in Xt&&zt.get(Xt[Ze])!==!0&&(yt[Ze]=Ne[Ze])}else{for(Ze=-1;++Ze<Qe;)bt=Ne[Ze],ft=We[Ze],bt?(bt.__data__=ft,et[Ze]=bt):lt[Ze]=Fe(ft);for(;Ze<mt;++Ze)lt[Ze]=Fe(We[Ze]);for(;Ze<vt;++Ze)yt[Ze]=Ne[Ze]}lt.update=et,lt.parentNode=et.parentNode=yt.parentNode=Ne.parentNode,se.push(lt),ge.push(et),Re.push(yt)}var se=ht([]),ge=Y([]),Re=Y([]);if(typeof a=="function")for(;++k<V;)de(Q=this[k],a.call(Q,Q.parentNode.__data__,k));else for(;++k<V;)de(Q=this[k],a);return ge.enter=function(){return se},ge.exit=function(){return Re},ge};function Fe(a){return{__data__:a}}C.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")},C.filter=function(a){var A=[],k,V,Q;typeof a!="function"&&(a=Ke(a));for(var ee=0,de=this.length;ee<de;ee++){A.push(k=[]),k.parentNode=(V=this[ee]).parentNode;for(var se=0,ge=V.length;se<ge;se++)(Q=V[se])&&a.call(Q,Q.__data__,se,ee)&&k.push(Q)}return Y(A)};function Ke(a){return function(){return z(this,a)}}C.order=function(){for(var a=-1,A=this.length;++a<A;)for(var k=this[a],V=k.length-1,Q=k[V],ee;--V>=0;)(ee=k[V])&&(Q&&Q!==ee.nextSibling&&Q.parentNode.insertBefore(ee,Q),Q=ee);return this},C.sort=function(a){a=je.apply(this,arguments);for(var A=-1,k=this.length;++A<k;)this[A].sort(a);return this.order()};function je(a){return arguments.length||(a=d),function(A,k){return A&&k?a(A.__data__,k.__data__):!A-!k}}C.each=function(a){return Je(this,function(A,k,V){a.call(A,A.__data__,k,V)})};function Je(a,A){for(var k=0,V=a.length;k<V;k++)for(var Q=a[k],ee=0,de=Q.length,se;ee<de;ee++)(se=Q[ee])&&A(se,ee,k);return a}C.call=function(a){var A=r(arguments);return a.apply(A[0]=this,A),this},C.empty=function(){return!this.node()},C.node=function(){for(var a=0,A=this.length;a<A;a++)for(var k=this[a],V=0,Q=k.length;V<Q;V++){var ee=k[V];if(ee)return ee}return null},C.size=function(){var a=0;return Je(this,function(){++a}),a};function ht(a){return H(a,Tt),a}var Tt=[];s.selection.enter=ht,s.selection.enter.prototype=Tt,Tt.append=C.append,Tt.empty=C.empty,Tt.node=C.node,Tt.call=C.call,Tt.size=C.size,Tt.select=function(a){for(var A=[],k,V,Q,ee,de,se=-1,ge=this.length;++se<ge;){Q=(ee=this[se]).update,A.push(k=[]),k.parentNode=ee.parentNode;for(var Re=-1,Ne=ee.length;++Re<Ne;)(de=ee[Re])?(k.push(Q[Re]=V=a.call(ee.parentNode,de.__data__,Re,se)),V.__data__=de.__data__):k.push(null)}return Y(A)},Tt.insert=function(a,A){return arguments.length<2&&(A=gt(this)),C.insert.call(this,a,A)};function gt(a){var A,k;return function(V,Q,ee){var de=a[ee].update,se=de.length,ge;for(ee!=k&&(k=ee,A=0),Q>=A&&(A=Q+1);!(ge=de[A])&&++A<se;);return ge}}s.select=function(a){var A;return typeof a=="string"?(A=[S(a,f)],A.parentNode=f.documentElement):(A=[a],A.parentNode=l(a)),Y([A])},s.selectAll=function(a){var A;return typeof a=="string"?(A=r(E(a,f)),A.parentNode=f.documentElement):(A=r(a),A.parentNode=null),Y([A])},C.on=function(a,A,k){var V=arguments.length;if(V<3){if(typeof a!="string"){V<2&&(A=!1);for(k in a)this.each(tt(k,a[k],A));return this}if(V<2)return(V=this.node()["__on"+a])&&V._;k=!1}return this.each(tt(a,A,k))};function tt(a,A,k){var V="__on"+a,Q=a.indexOf("."),ee=rt;Q>0&&(a=a.slice(0,Q));var de=Ct.get(a);de&&(a=de,ee=Mt);function se(){var Ne=this[V];Ne&&(this.removeEventListener(a,Ne,Ne.$),delete this[V])}function ge(){var Ne=ee(A,r(arguments));se.call(this),this.addEventListener(a,this[V]=Ne,Ne.$=k),Ne._=A}function Re(){var Ne=new RegExp("^__on([^.]+)"+s.requote(a)+"$"),We;for(var Ze in this)if(We=Ze.match(Ne)){var vt=this[Ze];this.removeEventListener(We[1],vt,vt.$),delete this[Ze]}}return Q?A?ge:se:A?J:Re}var Ct=s.map({mouseenter:"mouseover",mouseleave:"mouseout"});f&&Ct.forEach(function(a){"on"+a in f&&Ct.remove(a)});function rt(a,A){return function(k){var V=s.event;s.event=k,A[0]=this.__data__;try{a.apply(this,A)}finally{s.event=V}}}function Mt(a,A){var k=rt(a,A);return function(V){var Q=this,ee=V.relatedTarget;(!ee||ee!==Q&&!(ee.compareDocumentPosition(Q)&8))&&k.call(Q,V)}}var Dt,kt=0;function At(a){var A=".dragsuppress-"+ ++kt,k="click"+A,V=s.select(n(a)).on("touchmove"+A,ye).on("dragstart"+A,ye).on("selectstart"+A,ye);if(Dt==null&&(Dt="onselectstart"in a?!1:W(a.style,"userSelect")),Dt){var Q=l(a).style,ee=Q[Dt];Q[Dt]="none"}return function(de){if(V.on(A,null),Dt&&(Q[Dt]=ee),de){var se=function(){V.on(k,null)};V.on(k,function(){ye(),se()},!0),setTimeout(se,0)}}}s.mouse=function(a){return Te(a,Me())};var Le=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Te(a,A){A.changedTouches&&(A=A.changedTouches[0]);var k=a.ownerSVGElement||a;if(k.createSVGPoint){var V=k.createSVGPoint();if(Le<0){var Q=n(a);if(Q.scrollX||Q.scrollY){k=s.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ee=k[0][0].getScreenCTM();Le=!(ee.f||ee.e),k.remove()}}return Le?(V.x=A.pageX,V.y=A.pageY):(V.x=A.clientX,V.y=A.clientY),V=V.matrixTransform(a.getScreenCTM().inverse()),[V.x,V.y]}var de=a.getBoundingClientRect();return[A.clientX-de.left-a.clientLeft,A.clientY-de.top-a.clientTop]}s.touch=function(a,A,k){if(arguments.length<3&&(k=A,A=Me().changedTouches),A){for(var V=0,Q=A.length,ee;V<Q;++V)if((ee=A[V]).identifier===k)return Te(a,ee)}},s.behavior.drag=function(){var a=le(Q,"drag","dragstart","dragend"),A=null,k=ee(J,s.mouse,n,"mousemove","mouseup"),V=ee(Pe,s.touch,F,"touchmove","touchend");function Q(){this.on("mousedown.drag",k).on("touchstart.drag",V)}function ee(de,se,ge,Re,Ne){return function(){var We=this,Ze=s.event.target.correspondingElement||s.event.target,vt=We.parentNode,mt=a.of(We,arguments),Qe=0,et=de(),lt=".drag"+(et==null?"":"-"+et),yt,bt=s.select(ge(Ze)).on(Re+lt,Xt).on(Ne+lt,jt),ft=At(Ze),zt=se(vt,et);A?(yt=A.apply(We,arguments),yt=[yt.x-zt[0],yt.y-zt[1]]):yt=[0,0],mt({type:"dragstart"});function Xt(){var Kt=se(vt,et),qt,er;Kt&&(qt=Kt[0]-zt[0],er=Kt[1]-zt[1],Qe|=qt|er,zt=Kt,mt({type:"drag",x:Kt[0]+yt[0],y:Kt[1]+yt[1],dx:qt,dy:er}))}function jt(){se(vt,et)&&(bt.on(Re+lt,null).on(Ne+lt,null),ft(Qe),mt({type:"dragend"}))}}}return Q.origin=function(de){return arguments.length?(A=de,Q):A},s.rebind(Q,a,"on")};function Pe(){return s.event.changedTouches[0].identifier}s.touches=function(a,A){return arguments.length<2&&(A=Me().touches),A?r(A).map(function(k){var V=Te(a,k);return V.identifier=k.identifier,V}):[]};var Ce=1e-6,Oe=Ce*Ce,oe=Math.PI,be=2*oe,De=be-Ce,Se=oe/2,ze=oe/180,_e=180/oe;function ct(a,A,k){return(A[0]-a[0])*(k[1]-a[1])-(A[1]-a[1])*(k[0]-a[0])}function ot(a){return a>1?Se:a<-1?-Se:Math.asin(a)}function $e(a){return((a=Math.exp(a))-1/a)/2}function Ye(a){return((a=Math.exp(a))+1/a)/2}function it(a){return((a=Math.exp(2*a))-1)/(a+1)}var wt=Math.SQRT2,Rt=2,Ht=4;s.interpolateZoom=function(a,A){var k=a[0],V=a[1],Q=a[2],ee=A[0],de=A[1],se=A[2],ge=ee-k,Re=de-V,Ne=ge*ge+Re*Re,We,Ze;if(Ne<Oe)Ze=Math.log(se/Q)/wt,We=function(yt){return[k+yt*ge,V+yt*Re,Q*Math.exp(wt*yt*Ze)]};else{var vt=Math.sqrt(Ne),mt=(se*se-Q*Q+Ht*Ne)/(2*Q*Rt*vt),Qe=(se*se-Q*Q-Ht*Ne)/(2*se*Rt*vt),et=Math.log(Math.sqrt(mt*mt+1)-mt),lt=Math.log(Math.sqrt(Qe*Qe+1)-Qe);Ze=(lt-et)/wt,We=function(yt){var bt=yt*Ze,ft=Ye(et),zt=Q/(Rt*vt)*(ft*it(wt*bt+et)-$e(et));return[k+zt*ge,V+zt*Re,Q*ft/Ye(wt*bt+et)]}}return We.duration=Ze*1e3,We},s.behavior.zoom=function(){var a={x:0,y:0,k:1},A,k,V,Q=[960,500],ee=Vt,de=250,se=0,ge="mousedown.zoom",Re="mousemove.zoom",Ne="mouseup.zoom",We,Ze="touchstart.zoom",vt,mt=le(bt,"zoomstart","zoom","zoomend"),Qe,et,lt,yt;St||(St="onwheel"in f?(Ut=function(){return-s.event.deltaY*(s.event.deltaMode?120:1)},"wheel"):"onmousewheel"in f?(Ut=function(){return s.event.wheelDelta},"mousewheel"):(Ut=function(){return-s.event.detail},"MozMousePixelScroll"));function bt(Zt){Zt.on(ge,fr).on(St+".zoom",Er).on("dblclick.zoom",Ar).on(Ze,xr)}bt.event=function(Zt){Zt.each(function(){var cr=mt.of(this,arguments),mr=a;Pa?s.select(this).transition().each("start.zoom",function(){a=this.__chart__||{x:0,y:0,k:1},er(cr)}).tween("zoom:zoom",function(){var br=Q[0],Pr=Q[1],Ur=k?k[0]:br/2,Wr=k?k[1]:Pr/2,Jr=s.interpolateZoom([(Ur-a.x)/a.k,(Wr-a.y)/a.k,br/a.k],[(Ur-mr.x)/mr.k,(Wr-mr.y)/mr.k,br/mr.k]);return function(Qr){var Kr=Jr(Qr),jr=br/Kr[2];this.__chart__=a={x:Ur-Kr[0]*jr,y:Wr-Kr[1]*jr,k:jr},ur(cr)}}).each("interrupt.zoom",function(){tr(cr)}).each("end.zoom",function(){tr(cr)}):(this.__chart__=a,er(cr),ur(cr),tr(cr))})},bt.translate=function(Zt){return arguments.length?(a={x:+Zt[0],y:+Zt[1],k:a.k},qt(),bt):[a.x,a.y]},bt.scale=function(Zt){return arguments.length?(a={x:a.x,y:a.y,k:null},Xt(+Zt),qt(),bt):a.k},bt.scaleExtent=function(Zt){return arguments.length?(ee=Zt==null?Vt:[+Zt[0],+Zt[1]],bt):ee},bt.center=function(Zt){return arguments.length?(V=Zt&&[+Zt[0],+Zt[1]],bt):V},bt.size=function(Zt){return arguments.length?(Q=Zt&&[+Zt[0],+Zt[1]],bt):Q},bt.duration=function(Zt){return arguments.length?(de=+Zt,bt):de},bt.x=function(Zt){return arguments.length?(et=Zt,Qe=Zt.copy(),a={x:0,y:0,k:1},bt):et},bt.y=function(Zt){return arguments.length?(yt=Zt,lt=Zt.copy(),a={x:0,y:0,k:1},bt):yt};function ft(Zt){return[(Zt[0]-a.x)/a.k,(Zt[1]-a.y)/a.k]}function zt(Zt){return[Zt[0]*a.k+a.x,Zt[1]*a.k+a.y]}function Xt(Zt){a.k=Math.max(ee[0],Math.min(ee[1],Zt))}function jt(Zt,cr){cr=zt(cr),a.x+=Zt[0]-cr[0],a.y+=Zt[1]-cr[1]}function Kt(Zt,cr,mr,br){Zt.__chart__={x:a.x,y:a.y,k:a.k},Xt(Math.pow(2,br)),jt(k=cr,mr),Zt=s.select(Zt),de>0&&(Zt=Zt.transition().duration(de)),Zt.call(bt.event)}function qt(){et&&et.domain(Qe.range().map(function(Zt){return(Zt-a.x)/a.k}).map(Qe.invert)),yt&&yt.domain(lt.range().map(function(Zt){return(Zt-a.y)/a.k}).map(lt.invert))}function er(Zt){se++||Zt({type:"zoomstart"})}function ur(Zt){qt(),Zt({type:"zoom",scale:a.k,translate:[a.x,a.y]})}function tr(Zt){--se||(Zt({type:"zoomend"}),k=null)}function fr(){var Zt=this,cr=mt.of(Zt,arguments),mr=0,br=s.select(n(Zt)).on(Re,Wr).on(Ne,Jr),Pr=ft(s.mouse(Zt)),Ur=At(Zt);tn.call(Zt),er(cr);function Wr(){mr=1,jt(s.mouse(Zt),Pr),ur(cr)}function Jr(){br.on(Re,null).on(Ne,null),Ur(mr),tr(cr)}}function xr(){var Zt=this,cr=mt.of(Zt,arguments),mr={},br=0,Pr,Ur=".zoom-"+s.event.changedTouches[0].identifier,Wr="touchmove"+Ur,Jr="touchend"+Ur,Qr=[],Kr=s.select(Zt),jr=At(Zt);qr(),er(cr),Kr.on(ge,null).on(Ze,qr);function Xr(){var ua=s.touches(Zt);return Pr=a.k,ua.forEach(function(Zr){Zr.identifier in mr&&(mr[Zr.identifier]=ft(Zr))}),ua}function qr(){var ua=s.event.target;s.select(ua).on(Wr,Ra).on(Jr,go),Qr.push(ua);for(var Zr=s.event.changedTouches,ia=0,ha=Zr.length;ia<ha;++ia)mr[Zr[ia].identifier]=null;var la=Xr(),za=Date.now();if(la.length===1){if(za-vt<500){var Ea=la[0];Kt(Zt,Ea,mr[Ea.identifier],Math.floor(Math.log(a.k)/Math.LN2)+1),ye()}vt=za}else if(la.length>1){var Ea=la[0],Sa=la[1],nn=Ea[0]-Sa[0],ki=Ea[1]-Sa[1];br=nn*nn+ki*ki}}function Ra(){var ua=s.touches(Zt),Zr,ia,ha,la;tn.call(Zt);for(var za=0,Ea=ua.length;za<Ea;++za,la=null)if(ha=ua[za],la=mr[ha.identifier]){if(ia)break;Zr=ha,ia=la}if(la){var Sa=(Sa=ha[0]-Zr[0])*Sa+(Sa=ha[1]-Zr[1])*Sa,nn=br&&Math.sqrt(Sa/br);Zr=[(Zr[0]+ha[0])/2,(Zr[1]+ha[1])/2],ia=[(ia[0]+la[0])/2,(ia[1]+la[1])/2],Xt(nn*Pr)}vt=null,jt(Zr,ia),ur(cr)}function go(){if(s.event.touches.length){for(var ua=s.event.changedTouches,Zr=0,ia=ua.length;Zr<ia;++Zr)delete mr[ua[Zr].identifier];for(var ha in mr)return void Xr()}s.selectAll(Qr).on(Ur,null),Kr.on(ge,fr).on(Ze,xr),jr(),tr(cr)}}function Er(){var Zt=mt.of(this,arguments);We?clearTimeout(We):(tn.call(this),A=ft(k=V||s.mouse(this)),er(Zt)),We=setTimeout(function(){We=null,tr(Zt)},50),ye(),Xt(Math.pow(2,Ut()*.002)*a.k),jt(k,A),ur(Zt)}function Ar(){var Zt=s.mouse(this),cr=Math.log(a.k)/Math.LN2;Kt(this,Zt,ft(Zt),s.event.shiftKey?Math.ceil(cr)-1:Math.floor(cr)+1)}return s.rebind(bt,mt,"on")};var Vt=[0,1/0],Ut,St;s.color=Gt;function Gt(){}Gt.prototype.toString=function(){return this.rgb()+""},s.hsl=Ot;function Ot(a,A,k){return this instanceof Ot?(this.h=+a,this.s=+A,void(this.l=+k)):arguments.length<2?a instanceof Ot?new Ot(a.h,a.s,a.l):st(""+a,nt,Ot):new Ot(a,A,k)}var It=Ot.prototype=new Gt;It.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),new Ot(this.h,this.s,this.l/a)},It.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new Ot(this.h,this.s,a*this.l)},It.rgb=function(){return Qt(this.h,this.s,this.l)};function Qt(a,A,k){var V,Q;a=isNaN(a)?0:(a%=360)<0?a+360:a,A=isNaN(A)||A<0?0:A>1?1:A,k=k<0?0:k>1?1:k,Q=k<=.5?k*(1+A):k+A-k*A,V=2*k-Q;function ee(se){return se>360?se-=360:se<0&&(se+=360),se<60?V+(Q-V)*se/60:se<180?Q:se<240?V+(Q-V)*(240-se)/60:V}function de(se){return Math.round(ee(se)*255)}return new Xe(de(a+120),de(a),de(a-120))}s.hcl=Bt;function Bt(a,A,k){return this instanceof Bt?(this.h=+a,this.c=+A,void(this.l=+k)):arguments.length<2?a instanceof Bt?new Bt(a.h,a.c,a.l):a instanceof Nt?He(a.l,a.a,a.b):He((a=pt((a=s.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new Bt(a,A,k)}var xt=Bt.prototype=new Gt;xt.brighter=function(a){return new Bt(this.h,this.c,Math.min(100,this.l+Jt*(arguments.length?a:1)))},xt.darker=function(a){return new Bt(this.h,this.c,Math.max(0,this.l-Jt*(arguments.length?a:1)))},xt.rgb=function(){return _t(this.h,this.c,this.l).rgb()};function _t(a,A,k){return isNaN(a)&&(a=0),isNaN(A)&&(A=0),new Nt(k,Math.cos(a*=ze)*A,Math.sin(a)*A)}s.lab=Nt;function Nt(a,A,k){return this instanceof Nt?(this.l=+a,this.a=+A,void(this.b=+k)):arguments.length<2?a instanceof Nt?new Nt(a.l,a.a,a.b):a instanceof Bt?_t(a.h,a.c,a.l):pt((a=Xe(a)).r,a.g,a.b):new Nt(a,A,k)}var Jt=18,rr=.95047,lr=1,Yt=1.08883,re=Nt.prototype=new Gt;re.brighter=function(a){return new Nt(Math.min(100,this.l+Jt*(arguments.length?a:1)),this.a,this.b)},re.darker=function(a){return new Nt(Math.max(0,this.l-Jt*(arguments.length?a:1)),this.a,this.b)},re.rgb=function(){return q(this.l,this.a,this.b)};function q(a,A,k){var V=(a+16)/116,Q=V+A/500,ee=V-k/200;return Q=Ie(Q)*rr,V=Ie(V)*lr,ee=Ie(ee)*Yt,new Xe(Ve(3.2404542*Q-1.5371385*V-.4985314*ee),Ve(-.969266*Q+1.8760108*V+.041556*ee),Ve(.0556434*Q-.2040259*V+1.0572252*ee))}function He(a,A,k){return a>0?new Bt(Math.atan2(k,A)*_e,Math.sqrt(A*A+k*k),a):new Bt(NaN,NaN,a)}function Ie(a){return a>.206893034?a*a*a:(a-.13793103448275862)/7.787037}function Ue(a){return a>.008856?Math.pow(a,.3333333333333333):7.787037*a+.13793103448275862}function Ve(a){return Math.round(255*(a<=.00304?12.92*a:1.055*Math.pow(a,.4166666666666667)-.055))}s.rgb=Xe;function Xe(a,A,k){return this instanceof Xe?(this.r=~~a,this.g=~~A,void(this.b=~~k)):arguments.length<2?a instanceof Xe?new Xe(a.r,a.g,a.b):st(""+a,Xe,Qt):new Xe(a,A,k)}function Ge(a){return new Xe(a>>16,a>>8&255,a&255)}function Be(a){return Ge(a)+""}var qe=Xe.prototype=new Gt;qe.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var A=this.r,k=this.g,V=this.b,Q=30;return!A&&!k&&!V?new Xe(Q,Q,Q):(A&&A<Q&&(A=Q),k&&k<Q&&(k=Q),V&&V<Q&&(V=Q),new Xe(Math.min(255,A/a),Math.min(255,k/a),Math.min(255,V/a)))},qe.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new Xe(a*this.r,a*this.g,a*this.b)},qe.hsl=function(){return nt(this.r,this.g,this.b)},qe.toString=function(){return"#"+at(this.r)+at(this.g)+at(this.b)};function at(a){return a<16?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function st(a,A,k){var V=0,Q=0,ee=0,de,se,ge;if(de=/([a-z]+)\((.*)\)/.exec(a=a.toLowerCase()),de)switch(se=de[2].split(","),de[1]){case"hsl":return k(parseFloat(se[0]),parseFloat(se[1])/100,parseFloat(se[2])/100);case"rgb":return A(ut(se[0]),ut(se[1]),ut(se[2]))}return(ge=Pt.get(a))?A(ge.r,ge.g,ge.b):(a!=null&&a.charAt(0)==="#"&&!isNaN(ge=parseInt(a.slice(1),16))&&(a.length===4?(V=(ge&3840)>>4,V=V>>4|V,Q=ge&240,Q=Q>>4|Q,ee=ge&15,ee=ee<<4|ee):a.length===7&&(V=(ge&16711680)>>16,Q=(ge&65280)>>8,ee=ge&255)),A(V,Q,ee))}function nt(a,A,k){var V=Math.min(a/=255,A/=255,k/=255),Q=Math.max(a,A,k),ee=Q-V,de,se,ge=(Q+V)/2;return ee?(se=ge<.5?ee/(Q+V):ee/(2-Q-V),a==Q?de=(A-k)/ee+(A<k?6:0):A==Q?de=(k-a)/ee+2:de=(a-A)/ee+4,de*=60):(de=NaN,se=ge>0&&ge<1?0:de),new Ot(de,se,ge)}function pt(a,A,k){a=dt(a),A=dt(A),k=dt(k);var V=Ue((.4124564*a+.3575761*A+.1804375*k)/rr),Q=Ue((.2126729*a+.7151522*A+.072175*k)/lr),ee=Ue((.0193339*a+.119192*A+.9503041*k)/Yt);return Nt(116*Q-16,500*(V-Q),200*(Q-ee))}function dt(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function ut(a){var A=parseFloat(a);return a.charAt(a.length-1)==="%"?Math.round(A*2.55):A}var Pt=s.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Pt.forEach(function(a,A){Pt.set(a,Ge(A))});function Lt(a){return typeof a=="function"?a:function(){return a}}s.functor=Lt,s.xhr=$t(F);function $t(a){return function(A,k,V){return arguments.length===2&&typeof k=="function"&&(V=k,k=null),Et(A,k,a,V)}}function Et(a,A,k,V){var Q={},ee=s.dispatch("beforesend","progress","load","error"),de={},se=new XMLHttpRequest,ge=null;self.XDomainRequest&&!("withCredentials"in se)&&/^(http(s)?:)?\/\//.test(a)&&(se=new XDomainRequest),"onload"in se?se.onload=se.onerror=Re:se.onreadystatechange=function(){se.readyState>3&&Re()};function Re(){var Ne=se.status,We;if(!Ne&&Ft(se)||Ne>=200&&Ne<300||Ne===304){try{We=k.call(Q,se)}catch(Ze){ee.error.call(Q,Ze);return}ee.load.call(Q,We)}else ee.error.call(Q,se)}return se.onprogress=function(Ne){var We=s.event;s.event=Ne;try{ee.progress.call(Q,se)}finally{s.event=We}},Q.header=function(Ne,We){return Ne=(Ne+"").toLowerCase(),arguments.length<2?de[Ne]:(We==null?delete de[Ne]:de[Ne]=We+"",Q)},Q.mimeType=function(Ne){return arguments.length?(A=Ne==null?null:Ne+"",Q):A},Q.responseType=function(Ne){return arguments.length?(ge=Ne,Q):ge},Q.response=function(Ne){return k=Ne,Q},["get","post"].forEach(function(Ne){Q[Ne]=function(){return Q.send.apply(Q,[Ne].concat(r(arguments)))}}),Q.send=function(Ne,We,Ze){if(arguments.length===2&&typeof We=="function"&&(Ze=We,We=null),se.open(Ne,a,!0),A!=null&&!("accept"in de)&&(de.accept=A+",*/*"),se.setRequestHeader)for(var vt in de)se.setRequestHeader(vt,de[vt]);return A!=null&&se.overrideMimeType&&se.overrideMimeType(A),ge!=null&&(se.responseType=ge),Ze!=null&&Q.on("error",Ze).on("load",function(mt){Ze(null,mt)}),ee.beforesend.call(Q,se),se.send(We??null),Q},Q.abort=function(){return se.abort(),Q},s.rebind(Q,ee,"on"),V==null?Q:Q.get(ar(V))}function ar(a){return a.length===1?function(A,k){a(A==null?k:null)}:a}function Ft(a){var A=a.responseType;return A&&A!=="text"?a.response:a.responseText}s.dsv=function(a,A){var k=new RegExp('["'+a+`
]`),V=a.charCodeAt(0);function Q(Re,Ne,We){arguments.length<3&&(We=Ne,Ne=null);var Ze=Et(Re,A,Ne==null?ee:de(Ne),We);return Ze.row=function(vt){return arguments.length?Ze.response((Ne=vt)==null?ee:de(vt)):Ne},Ze}function ee(Re){return Q.parse(Re.responseText)}function de(Re){return function(Ne){return Q.parse(Ne.responseText,Re)}}Q.parse=function(Re,Ne){var We;return Q.parseRows(Re,function(Ze,vt){if(We)return We(Ze,vt-1);var mt=function(Qe){for(var et={},lt=Ze.length,yt=0;yt<lt;++yt)et[Ze[yt]]=Qe[yt];return et};We=Ne?function(Qe,et){return Ne(mt(Qe),et)}:mt})},Q.parseRows=function(Re,Ne){var We={},Ze={},vt=[],mt=Re.length,Qe=0,et=0,lt,yt;function bt(){if(Qe>=mt)return Ze;if(yt)return yt=!1,We;var zt=Qe;if(Re.charCodeAt(zt)===34){for(var Xt=zt;Xt++<mt;)if(Re.charCodeAt(Xt)===34){if(Re.charCodeAt(Xt+1)!==34)break;++Xt}Qe=Xt+2;var jt=Re.charCodeAt(Xt+1);return jt===13?(yt=!0,Re.charCodeAt(Xt+2)===10&&++Qe):jt===10&&(yt=!0),Re.slice(zt+1,Xt).replace(/""/g,'"')}for(;Qe<mt;){var jt=Re.charCodeAt(Qe++),Kt=1;if(jt===10)yt=!0;else if(jt===13)yt=!0,Re.charCodeAt(Qe)===10&&(++Qe,++Kt);else if(jt!==V)continue;return Re.slice(zt,Qe-Kt)}return Re.slice(zt)}for(;(lt=bt())!==Ze;){for(var ft=[];lt!==We&&lt!==Ze;)ft.push(lt),lt=bt();Ne&&(ft=Ne(ft,et++))==null||vt.push(ft)}return vt},Q.format=function(Re){if(Array.isArray(Re[0]))return Q.formatRows(Re);var Ne=new N,We=[];return Re.forEach(function(Ze){for(var vt in Ze)Ne.has(vt)||We.push(Ne.add(vt))}),[We.map(ge).join(a)].concat(Re.map(function(Ze){return We.map(function(vt){return ge(Ze[vt])}).join(a)})).join(`
`)},Q.formatRows=function(Re){return Re.map(se).join(`
`)};function se(Re){return Re.map(ge).join(a)}function ge(Re){return k.test(Re)?'"'+Re.replace(/\"/g,'""')+'"':Re}return Q},s.csv=s.dsv(",","text/csv"),s.tsv=s.dsv("	","text/tab-separated-values");var Wt,nr,ir,or,Mr=this[W(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};s.timer=function(){sr.apply(this,arguments)};function sr(a,A,k){var V=arguments.length;V<2&&(A=0),V<3&&(k=Date.now());var Q=k+A,ee={c:a,t:Q,n:null};return nr?nr.n=ee:Wt=ee,nr=ee,ir||(or=clearTimeout(or),ir=1,Mr(dr)),ee}function dr(){var a=Tr(),A=vr()-a;A>24?(isFinite(A)&&(clearTimeout(or),or=setTimeout(dr,A)),ir=0):(ir=1,Mr(dr))}s.timer.flush=function(){Tr(),vr()};function Tr(){for(var a=Date.now(),A=Wt;A;)a>=A.t&&A.c(a-A.t)&&(A.c=null),A=A.n;return a}function vr(){for(var a,A=Wt,k=1/0;A;)A.c?(A.t<k&&(k=A.t),A=(a=A).n):A=a?a.n=A.n:Wt=A.n;return nr=a,k}s.round=function(a,A){return A?Math.round(a*(A=Math.pow(10,A)))/A:Math.round(a)},s.geom={};function yr(a){return a[0]}function hr(a){return a[1]}s.geom.hull=function(a){var A=yr,k=hr;if(arguments.length)return V(a);function V(Q){if(Q.length<3)return[];var ee=Lt(A),de=Lt(k),se,ge=Q.length,Re=[],Ne=[];for(se=0;se<ge;se++)Re.push([+ee.call(this,Q[se],se),+de.call(this,Q[se],se),se]);for(Re.sort(Sr),se=0;se<ge;se++)Ne.push([Re[se][0],-Re[se][1]]);var We=gr(Re),Ze=gr(Ne),vt=Ze[0]===We[0],mt=Ze[Ze.length-1]===We[We.length-1],Qe=[];for(se=We.length-1;se>=0;--se)Qe.push(Q[Re[We[se]][2]]);for(se=+vt;se<Ze.length-mt;++se)Qe.push(Q[Re[Ze[se]][2]]);return Qe}return V.x=function(Q){return arguments.length?(A=Q,V):A},V.y=function(Q){return arguments.length?(k=Q,V):k},V};function gr(a){for(var A=a.length,k=[0,1],V=2,Q=2;Q<A;Q++){for(;V>1&&ct(a[k[V-2]],a[k[V-1]],a[Q])<=0;)--V;k[V++]=Q}return k.slice(0,V)}function Sr(a,A){return a[0]-A[0]||a[1]-A[1]}s.geom.polygon=function(a){return H(a,Dr),a};var Dr=s.geom.polygon.prototype=[];Dr.area=function(){for(var a=-1,A=this.length,k,V=this[A-1],Q=0;++a<A;)k=V,V=this[a],Q+=k[1]*V[0]-k[0]*V[1];return Q*.5},Dr.centroid=function(a){var A=-1,k=this.length,V=0,Q=0,ee,de=this[k-1],se;for(arguments.length||(a=-1/(6*this.area()));++A<k;)ee=de,de=this[A],se=ee[0]*de[1]-de[0]*ee[1],V+=(ee[0]+de[0])*se,Q+=(ee[1]+de[1])*se;return[V*a,Q*a]},Dr.clip=function(a){for(var A,k=Nr(a),V=-1,Q=this.length-Nr(this),ee,de,se=this[Q-1],ge,Re,Ne;++V<Q;){for(A=a.slice(),a.length=0,ge=this[V],Re=A[(de=A.length-k)-1],ee=-1;++ee<de;)Ne=A[ee],kr(Ne,se,ge)?(kr(Re,se,ge)||a.push(wr(Re,Ne,se,ge)),a.push(Ne)):kr(Re,se,ge)&&a.push(wr(Re,Ne,se,ge)),Re=Ne;k&&a.push(a[0]),se=ge}return a};function kr(a,A,k){return(k[0]-A[0])*(a[1]-A[1])<(k[1]-A[1])*(a[0]-A[0])}function wr(a,A,k,V){var Q=a[0],ee=k[0],de=A[0]-Q,se=V[0]-ee,ge=a[1],Re=k[1],Ne=A[1]-ge,We=V[1]-Re,Ze=(se*(ge-Re)-We*(Q-ee))/(We*de-se*Ne);return[Q+Ze*de,ge+Ze*Ne]}function Nr(a){var A=a[0],k=a[a.length-1];return!(A[0]-k[0]||A[1]-k[1])}var Lr,pr,Rr,Fr=[],Hr,Gr,$r=[];function oa(){Da(this),this.edge=this.site=this.circle=null}function Cr(a){var A=Fr.pop()||new oa;return A.site=a,A}function zr(a){ra(a),Rr.remove(a),Fr.push(a),Da(a)}function ca(a){var A=a.circle,k=A.x,V=A.cy,Q={x:k,y:V},ee=a.P,de=a.N,se=[a];zr(a);for(var ge=ee;ge.circle&&v(k-ge.circle.x)<Ce&&v(V-ge.circle.cy)<Ce;)ee=ge.P,se.unshift(ge),zr(ge),ge=ee;se.unshift(ge),ra(ge);for(var Re=de;Re.circle&&v(k-Re.circle.x)<Ce&&v(V-Re.circle.cy)<Ce;)de=Re.N,se.push(Re),zr(Re),Re=de;se.push(Re),ra(Re);var Ne=se.length,We;for(We=1;We<Ne;++We)Re=se[We],ge=se[We-1],va(Re.edge,ge.site,Re.site,Q);ge=se[0],Re=se[Ne-1],Re.edge=Ma(ge.site,Re.site,null,Q),ta(ge),ta(Re)}function ea(a){for(var A=a.x,k=a.y,V,Q,ee,de,se=Rr._;se;)if(ee=Ta(se,k)-A,ee>Ce)se=se.L;else if(de=A-ya(se,k),de>Ce){if(!se.R){V=se;break}se=se.R}else{ee>-Ce?(V=se.P,Q=se):de>-Ce?(V=se,Q=se.N):V=Q=se;break}var ge=Cr(a);if(Rr.insert(V,ge),!(!V&&!Q)){if(V===Q){ra(V),Q=Cr(V.site),Rr.insert(ge,Q),ge.edge=Q.edge=Ma(V.site,ge.site),ta(V),ta(Q);return}if(!Q){ge.edge=Ma(V.site,ge.site);return}ra(V),ra(Q);var Re=V.site,Ne=Re.x,We=Re.y,Ze=a.x-Ne,vt=a.y-We,mt=Q.site,Qe=mt.x-Ne,et=mt.y-We,lt=2*(Ze*et-vt*Qe),yt=Ze*Ze+vt*vt,bt=Qe*Qe+et*et,ft={x:(et*yt-vt*bt)/lt+Ne,y:(Ze*bt-Qe*yt)/lt+We};va(Q.edge,Re,mt,ft),ge.edge=Ma(Re,a,null,ft),Q.edge=Ma(a,mt,null,ft),ta(V),ta(Q)}}function Ta(a,A){var k=a.site,V=k.x,Q=k.y,ee=Q-A;if(!ee)return V;var de=a.P;if(!de)return-1/0;k=de.site;var se=k.x,ge=k.y,Re=ge-A;if(!Re)return se;var Ne=se-V,We=1/ee-1/Re,Ze=Ne/Re;return We?(-Ze+Math.sqrt(Ze*Ze-2*We*(Ne*Ne/(-2*Re)-ge+Re/2+Q-ee/2)))/We+V:(V+se)/2}function ya(a,A){var k=a.N;if(k)return Ta(k,A);var V=a.site;return V.y===A?V.x:1/0}function Va(a){this.site=a,this.edges=[]}Va.prototype.prepare=function(){for(var a=this.edges,A=a.length,k;A--;)k=a[A].edge,(!k.b||!k.a)&&a.splice(A,1);return a.sort(Or),a.length};function _a(a){for(var A=a[0][0],k=a[1][0],V=a[0][1],Q=a[1][1],ee,de,se,ge,Re=pr,Ne=Re.length,We,Ze,vt,mt,Qe,et;Ne--;)if(We=Re[Ne],!(!We||!We.prepare()))for(vt=We.edges,mt=vt.length,Ze=0;Ze<mt;)et=vt[Ze].end(),se=et.x,ge=et.y,Qe=vt[++Ze%mt].start(),ee=Qe.x,de=Qe.y,(v(se-ee)>Ce||v(ge-de)>Ce)&&(vt.splice(Ze,0,new Ca(Oa(We.site,et,v(se-A)<Ce&&Q-ge>Ce?{x:A,y:v(ee-A)<Ce?de:Q}:v(ge-Q)<Ce&&k-se>Ce?{x:v(de-Q)<Ce?ee:k,y:Q}:v(se-k)<Ce&&ge-V>Ce?{x:k,y:v(ee-k)<Ce?de:V}:v(ge-V)<Ce&&se-A>Ce?{x:v(de-V)<Ce?ee:A,y:V}:null),We.site,null)),++mt)}function Or(a,A){return A.angle-a.angle}function sa(){Da(this),this.x=this.y=this.arc=this.site=this.cy=null}function ta(a){var A=a.P,k=a.N;if(!(!A||!k)){var V=A.site,Q=a.site,ee=k.site;if(V!==ee){var de=Q.x,se=Q.y,ge=V.x-de,Re=V.y-se,Ne=ee.x-de,et=ee.y-se,We=2*(ge*et-Re*Ne);if(!(We>=-Oe)){var Ze=ge*ge+Re*Re,vt=Ne*Ne+et*et,mt=(et*Ze-Re*vt)/We,Qe=(ge*vt-Ne*Ze)/We,et=Qe+se,lt=$r.pop()||new sa;lt.arc=a,lt.site=Q,lt.x=mt+de,lt.y=et+Math.sqrt(mt*mt+Qe*Qe),lt.cy=et,a.circle=lt;for(var yt=null,bt=Gr._;bt;)if(lt.y<bt.y||lt.y===bt.y&&lt.x<=bt.x)if(bt.L)bt=bt.L;else{yt=bt.P;break}else if(bt.R)bt=bt.R;else{yt=bt;break}Gr.insert(yt,lt),yt||(Hr=lt)}}}}function ra(a){var A=a.circle;A&&(A.P||(Hr=A.N),Gr.remove(A),$r.push(A),Da(A),a.circle=null)}function Br(a,A,k,V){return function(Q){var ee=Q.a,de=Q.b,se=ee.x,ge=ee.y,Re=de.x,Ne=de.y,We=0,Ze=1,vt=Re-se,mt=Ne-ge,Qe;if(Qe=a-se,!(!vt&&Qe>0)){if(Qe/=vt,vt<0){if(Qe<We)return;Qe<Ze&&(Ze=Qe)}else if(vt>0){if(Qe>Ze)return;Qe>We&&(We=Qe)}if(Qe=k-se,!(!vt&&Qe<0)){if(Qe/=vt,vt<0){if(Qe>Ze)return;Qe>We&&(We=Qe)}else if(vt>0){if(Qe<We)return;Qe<Ze&&(Ze=Qe)}if(Qe=A-ge,!(!mt&&Qe>0)){if(Qe/=mt,mt<0){if(Qe<We)return;Qe<Ze&&(Ze=Qe)}else if(mt>0){if(Qe>Ze)return;Qe>We&&(We=Qe)}if(Qe=V-ge,!(!mt&&Qe<0)){if(Qe/=mt,mt<0){if(Qe>Ze)return;Qe>We&&(We=Qe)}else if(mt>0){if(Qe<We)return;Qe<Ze&&(Ze=Qe)}return We>0&&(Q.a={x:se+We*vt,y:ge+We*mt}),Ze<1&&(Q.b={x:se+Ze*vt,y:ge+Ze*mt}),Q}}}}}}function Vr(a){for(var A=Lr,k=Br(a[0][0],a[0][1],a[1][0],a[1][1]),V=A.length,Q;V--;)Q=A[V],(!pa(Q,a)||!k(Q)||v(Q.a.x-Q.b.x)<Ce&&v(Q.a.y-Q.b.y)<Ce)&&(Q.a=Q.b=null,A.splice(V,1))}function pa(a,A){var k=a.b;if(k)return!0;var V=a.a,Q=A[0][0],ee=A[1][0],de=A[0][1],se=A[1][1],ge=a.l,Re=a.r,Ne=ge.x,We=ge.y,Ze=Re.x,vt=Re.y,mt=(Ne+Ze)/2,Qe=(We+vt)/2,et,lt;if(vt===We){if(mt<Q||mt>=ee)return;if(Ne>Ze){if(!V)V={x:mt,y:de};else if(V.y>=se)return;k={x:mt,y:se}}else{if(!V)V={x:mt,y:se};else if(V.y<de)return;k={x:mt,y:de}}}else if(et=(Ne-Ze)/(vt-We),lt=Qe-et*mt,et<-1||et>1)if(Ne>Ze){if(!V)V={x:(de-lt)/et,y:de};else if(V.y>=se)return;k={x:(se-lt)/et,y:se}}else{if(!V)V={x:(se-lt)/et,y:se};else if(V.y<de)return;k={x:(de-lt)/et,y:de}}else if(We<vt){if(!V)V={x:Q,y:et*Q+lt};else if(V.x>=ee)return;k={x:ee,y:et*ee+lt}}else{if(!V)V={x:ee,y:et*ee+lt};else if(V.x<Q)return;k={x:Q,y:et*Q+lt}}return a.a=V,a.b=k,!0}function Ha(a,A){this.l=a,this.r=A,this.a=this.b=null}function Ma(a,A,k,V){var Q=new Ha(a,A);return Lr.push(Q),k&&va(Q,a,A,k),V&&va(Q,A,a,V),pr[a.i].edges.push(new Ca(Q,a,A)),pr[A.i].edges.push(new Ca(Q,A,a)),Q}function Oa(a,A,k){var V=new Ha(a,null);return V.a=A,V.b=k,Lr.push(V),V}function va(a,A,k,V){!a.a&&!a.b?(a.a=V,a.l=A,a.r=k):a.l===k?a.b=V:a.a=V}function Ca(a,A,k){var V=a.a,Q=a.b;this.edge=a,this.site=A,this.angle=k?Math.atan2(k.y-A.y,k.x-A.x):a.l===A?Math.atan2(Q.x-V.x,V.y-Q.y):Math.atan2(V.x-Q.x,Q.y-V.y)}Ca.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Na(){this._=null}function Da(a){a.U=a.C=a.L=a.R=a.P=a.N=null}Na.prototype={insert:function(a,A){var k,V,Q;if(a){if(A.P=a,A.N=a.N,a.N&&(a.N.P=A),a.N=A,a.R){for(a=a.R;a.L;)a=a.L;a.L=A}else a.R=A;k=a}else this._?(a=Dn(this._),A.P=null,A.N=a,a.P=a.L=A,k=a):(A.P=A.N=null,this._=A,k=null);for(A.L=A.R=null,A.U=k,A.C=!0,a=A;k&&k.C;)V=k.U,k===V.L?(Q=V.R,Q&&Q.C?(k.C=Q.C=!1,V.C=!0,a=V):(a===k.R&&(Aa(this,k),a=k,k=a.U),k.C=!1,V.C=!0,wa(this,V))):(Q=V.L,Q&&Q.C?(k.C=Q.C=!1,V.C=!0,a=V):(a===k.L&&(wa(this,k),a=k,k=a.U),k.C=!1,V.C=!0,Aa(this,V))),k=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P),a.P&&(a.P.N=a.N),a.N=a.P=null;var A=a.U,k,V=a.L,Q=a.R,ee,de;if(V?Q?ee=Dn(Q):ee=V:ee=Q,A?A.L===a?A.L=ee:A.R=ee:this._=ee,V&&Q?(de=ee.C,ee.C=a.C,ee.L=V,V.U=ee,ee!==Q?(A=ee.U,ee.U=a.U,a=ee.R,A.L=a,ee.R=Q,Q.U=ee):(ee.U=A,A=ee,a=ee.R)):(de=a.C,a=ee),a&&(a.U=A),!de){if(a&&a.C){a.C=!1;return}do{if(a===this._)break;if(a===A.L){if(k=A.R,k.C&&(k.C=!1,A.C=!0,Aa(this,A),k=A.R),k.L&&k.L.C||k.R&&k.R.C){(!k.R||!k.R.C)&&(k.L.C=!1,k.C=!0,wa(this,k),k=A.R),k.C=A.C,A.C=k.R.C=!1,Aa(this,A),a=this._;break}}else if(k=A.L,k.C&&(k.C=!1,A.C=!0,wa(this,A),k=A.L),k.L&&k.L.C||k.R&&k.R.C){(!k.L||!k.L.C)&&(k.R.C=!1,k.C=!0,Aa(this,k),k=A.L),k.C=A.C,A.C=k.L.C=!1,wa(this,A),a=this._;break}k.C=!0,a=A,A=A.U}while(!a.C);a&&(a.C=!1)}}};function Aa(a,A){var k=A,V=A.R,Q=k.U;Q?Q.L===k?Q.L=V:Q.R=V:a._=V,V.U=Q,k.U=V,k.R=V.L,k.R&&(k.R.U=k),V.L=k}function wa(a,A){var k=A,V=A.L,Q=k.U;Q?Q.L===k?Q.L=V:Q.R=V:a._=V,V.U=Q,k.U=V,k.L=V.R,k.L&&(k.L.U=k),V.R=k}function Dn(a){for(;a.L;)a=a.L;return a}function ln(a,A){var k=a.sort(Ei).pop(),V,Q,ee;for(Lr=[],pr=new Array(a.length),Rr=new Na,Gr=new Na;;)if(ee=Hr,k&&(!ee||k.y<ee.y||k.y===ee.y&&k.x<ee.x))(k.x!==V||k.y!==Q)&&(pr[k.i]=new Va(k),ea(k),V=k.x,Q=k.y),k=a.pop();else if(ee)ca(ee.arc);else break;A&&(Vr(A),_a(A));var de={cells:pr,edges:Lr};return Rr=Gr=Lr=pr=null,de}function Ei(a,A){return A.y-a.y||A.x-a.x}s.geom.voronoi=function(a){var A=yr,k=hr,V=A,Q=k,ee=Wa;if(a)return de(a);function de(ge){var Re=new Array(ge.length),Ne=ee[0][0],We=ee[0][1],Ze=ee[1][0],vt=ee[1][1];return ln(se(ge),ee).cells.forEach(function(mt,Qe){var et=mt.edges,lt=mt.site,yt=Re[Qe]=et.length?et.map(function(bt){var ft=bt.start();return[ft.x,ft.y]}):lt.x>=Ne&&lt.x<=Ze&&lt.y>=We&&lt.y<=vt?[[Ne,vt],[Ze,vt],[Ze,We],[Ne,We]]:[];yt.point=ge[Qe]}),Re}function se(ge){return ge.map(function(Re,Ne){return{x:Math.round(V(Re,Ne)/Ce)*Ce,y:Math.round(Q(Re,Ne)/Ce)*Ce,i:Ne}})}return de.links=function(ge){return ln(se(ge)).edges.filter(function(Re){return Re.l&&Re.r}).map(function(Re){return{source:ge[Re.l.i],target:ge[Re.r.i]}})},de.triangles=function(ge){var Re=[];return ln(se(ge)).cells.forEach(function(Ne,We){for(var Ze=Ne.site,vt=Ne.edges.sort(Or),mt=-1,Qe=vt.length,et,lt=vt[Qe-1].edge,yt=lt.l===Ze?lt.r:lt.l;++mt<Qe;)et=yt,lt=vt[mt].edge,yt=lt.l===Ze?lt.r:lt.l,We<et.i&&We<yt.i&&Ni(Ze,et,yt)<0&&Re.push([ge[We],ge[et.i],ge[yt.i]])}),Re},de.x=function(ge){return arguments.length?(V=Lt(A=ge),de):A},de.y=function(ge){return arguments.length?(Q=Lt(k=ge),de):k},de.clipExtent=function(ge){return arguments.length?(ee=ge??Wa,de):ee===Wa?null:ee},de.size=function(ge){return arguments.length?de.clipExtent(ge&&[[0,0],ge]):ee===Wa?null:ee&&ee[1]},de};var Wa=[[-1e6,-1e6],[1e6,1e6]];function Ni(a,A,k){return(a.x-k.x)*(A.y-a.y)-(a.x-A.x)*(k.y-a.y)}s.geom.delaunay=function(a){return s.geom.voronoi().triangles(a)},s.geom.quadtree=function(a,A,k,V,Q){var ee=yr,de=hr,se;if(se=arguments.length)return ee=Fi,de=zi,se===3&&(Q=k,V=A,k=A=0),ge(a);function ge(Re){var Ne,We=Lt(ee),Ze=Lt(de),vt,mt,Qe,et,lt,yt,bt,ft;if(A!=null)lt=A,yt=k,bt=V,ft=Q;else if(bt=ft=-(lt=yt=1/0),vt=[],mt=[],et=Re.length,se)for(Qe=0;Qe<et;++Qe)Ne=Re[Qe],Ne.x<lt&&(lt=Ne.x),Ne.y<yt&&(yt=Ne.y),Ne.x>bt&&(bt=Ne.x),Ne.y>ft&&(ft=Ne.y),vt.push(Ne.x),mt.push(Ne.y);else for(Qe=0;Qe<et;++Qe){var zt=+We(Ne=Re[Qe],Qe),Xt=+Ze(Ne,Qe);zt<lt&&(lt=zt),Xt<yt&&(yt=Xt),zt>bt&&(bt=zt),Xt>ft&&(ft=Xt),vt.push(zt),mt.push(Xt)}var jt=bt-lt,Kt=ft-yt;jt>Kt?ft=yt+jt:bt=lt+Kt;function qt(tr,fr,xr,Er,Ar,Zt,cr,mr){if(!(isNaN(xr)||isNaN(Er)))if(tr.leaf){var br=tr.x,Pr=tr.y;if(br!=null)if(v(br-xr)+v(Pr-Er)<.01)er(tr,fr,xr,Er,Ar,Zt,cr,mr);else{var Ur=tr.point;tr.x=tr.y=tr.point=null,er(tr,Ur,br,Pr,Ar,Zt,cr,mr),er(tr,fr,xr,Er,Ar,Zt,cr,mr)}else tr.x=xr,tr.y=Er,tr.point=fr}else er(tr,fr,xr,Er,Ar,Zt,cr,mr)}function er(tr,fr,xr,Er,Ar,Zt,cr,mr){var br=(Ar+cr)*.5,Pr=(Zt+mr)*.5,Ur=xr>=br,Wr=Er>=Pr,Jr=Wr<<1|Ur;tr.leaf=!1,tr=tr.nodes[Jr]||(tr.nodes[Jr]=kn()),Ur?Ar=br:cr=br,Wr?Zt=Pr:mr=Pr,qt(tr,fr,xr,Er,Ar,Zt,cr,mr)}var ur=kn();if(ur.add=function(tr){qt(ur,tr,+We(tr,++Qe),+Ze(tr,Qe),lt,yt,bt,ft)},ur.visit=function(tr){Ba(tr,ur,lt,yt,bt,ft)},ur.find=function(tr){return Ii(ur,tr[0],tr[1],lt,yt,bt,ft)},Qe=-1,A==null){for(;++Qe<et;)qt(ur,Re[Qe],vt[Qe],mt[Qe],lt,yt,bt,ft);--Qe}else Re.forEach(ur.add);return vt=mt=Re=Ne=null,ur}return ge.x=function(Re){return arguments.length?(ee=Re,ge):ee},ge.y=function(Re){return arguments.length?(de=Re,ge):de},ge.extent=function(Re){return arguments.length?(Re==null?A=k=V=Q=null:(A=+Re[0][0],k=+Re[0][1],V=+Re[1][0],Q=+Re[1][1]),ge):A==null?null:[[A,k],[V,Q]]},ge.size=function(Re){return arguments.length?(Re==null?A=k=V=Q=null:(A=k=0,V=+Re[0],Q=+Re[1]),ge):A==null?null:[V-A,Q-k]},ge};function Fi(a){return a.x}function zi(a){return a.y}function kn(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Ba(a,A,k,V,Q,ee){if(!a(A,k,V,Q,ee)){var de=(k+Q)*.5,se=(V+ee)*.5,ge=A.nodes;ge[0]&&Ba(a,ge[0],k,V,de,se),ge[1]&&Ba(a,ge[1],de,V,Q,se),ge[2]&&Ba(a,ge[2],k,se,de,ee),ge[3]&&Ba(a,ge[3],de,se,Q,ee)}}function Ii(a,A,k,V,Q,ee,de){var se=1/0,ge;return function Re(Ne,We,Ze,vt,mt){if(!(We>ee||Ze>de||vt<V||mt<Q)){if(Qe=Ne.point){var Qe,et=A-Ne.x,lt=k-Ne.y,yt=et*et+lt*lt;if(yt<se){var bt=Math.sqrt(se=yt);V=A-bt,Q=k-bt,ee=A+bt,de=k+bt,ge=Qe}}for(var ft=Ne.nodes,zt=(We+vt)*.5,Xt=(Ze+mt)*.5,jt=A>=zt,Kt=k>=Xt,qt=Kt<<1|jt,er=qt+4;qt<er;++qt)if(Ne=ft[qt&3])switch(qt&3){case 0:Re(Ne,We,Ze,zt,Xt);break;case 1:Re(Ne,zt,Ze,vt,Xt);break;case 2:Re(Ne,We,Xt,zt,mt);break;case 3:Re(Ne,zt,Xt,vt,mt);break}}}(a,V,Q,ee,de),ge}s.interpolateRgb=on;function on(a,A){a=s.rgb(a),A=s.rgb(A);var k=a.r,V=a.g,Q=a.b,ee=A.r-k,de=A.g-V,se=A.b-Q;return function(ge){return"#"+at(Math.round(k+ee*ge))+at(Math.round(V+de*ge))+at(Math.round(Q+se*ge))}}s.interpolateObject=Pn;function Pn(a,A){var k={},V={},Q;for(Q in a)Q in A?k[Q]=ka(a[Q],A[Q]):V[Q]=a[Q];for(Q in A)Q in a||(V[Q]=A[Q]);return function(ee){for(Q in k)V[Q]=k[Q](ee);return V}}s.interpolateNumber=ga;function ga(a,A){return a=+a,A=+A,function(k){return a*(1-k)+A*k}}s.interpolateString=Rn;function Rn(a,A){var k=sn.lastIndex=fn.lastIndex=0,V,Q,ee,de=-1,se=[],ge=[];for(a=a+"",A=A+"";(V=sn.exec(a))&&(Q=fn.exec(A));)(ee=Q.index)>k&&(ee=A.slice(k,ee),se[de]?se[de]+=ee:se[++de]=ee),(V=V[0])===(Q=Q[0])?se[de]?se[de]+=Q:se[++de]=Q:(se[++de]=null,ge.push({i:de,x:ga(V,Q)})),k=fn.lastIndex;return k<A.length&&(ee=A.slice(k),se[de]?se[de]+=ee:se[++de]=ee),se.length<2?ge[0]?(A=ge[0].x,function(Re){return A(Re)+""}):function(){return A}:(A=ge.length,function(Re){for(var Ne=0,We;Ne<A;++Ne)se[(We=ge[Ne]).i]=We.x(Re);return se.join("")})}var sn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fn=new RegExp(sn.source,"g");s.interpolate=ka;function ka(a,A){for(var k=s.interpolators.length,V;--k>=0&&!(V=s.interpolators[k](a,A)););return V}s.interpolators=[function(a,A){var k=typeof A;return(k==="string"?Pt.has(A.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(A)?on:Rn:A instanceof Gt?on:Array.isArray(A)?Za:k==="object"&&isNaN(A)?Pn:ga)(a,A)}],s.interpolateArray=Za;function Za(a,A){var k=[],V=[],Q=a.length,ee=A.length,de=Math.min(a.length,A.length),se;for(se=0;se<de;++se)k.push(ka(a[se],A[se]));for(;se<Q;++se)V[se]=a[se];for(;se<ee;++se)V[se]=A[se];return function(ge){for(se=0;se<de;++se)V[se]=k[se](ge);return V}}var En=function(){return F},_i=s.map({linear:En,poly:Gi,quad:function(){return Bi},cubic:function(){return Yi},sin:function(){return Vi},exp:function(){return Wi},circle:function(){return Zi},elastic:Xi,back:Ji,bounce:function(){return Ki}}),Hi=s.map({in:F,out:Nn,"in-out":Fn,"out-in":function(a){return Fn(Nn(a))}});s.ease=function(a){var A=a.indexOf("-"),k=A>=0?a.slice(0,A):a,V=A>=0?a.slice(A+1):"in";return k=_i.get(k)||En,V=Hi.get(V)||F,Oi(V(k.apply(null,i.call(arguments,1))))};function Oi(a){return function(A){return A<=0?0:A>=1?1:a(A)}}function Nn(a){return function(A){return 1-a(1-A)}}function Fn(a){return function(A){return .5*(A<.5?a(2*A):2-a(2-2*A))}}function Bi(a){return a*a}function Yi(a){return a*a*a}function Ui(a){if(a<=0)return 0;if(a>=1)return 1;var A=a*a,k=A*a;return 4*(a<.5?k:3*(a-A)+k-.75)}function Gi(a){return function(A){return Math.pow(A,a)}}function Vi(a){return 1-Math.cos(a*Se)}function Wi(a){return Math.pow(2,10*(a-1))}function Zi(a){return 1-Math.sqrt(1-a*a)}function Xi(a,A){var k;return arguments.length<2&&(A=.45),arguments.length?k=A/be*Math.asin(1/a):(a=1,k=A/4),function(V){return 1+a*Math.pow(2,-10*V)*Math.sin((V-k)*be/A)}}function Ji(a){return a||(a=1.70158),function(A){return A*A*((a+1)*A-a)}}function Ki(a){return a<.36363636363636365?7.5625*a*a:a<.7272727272727273?7.5625*(a-=.5454545454545454)*a+.75:a<.9090909090909091?7.5625*(a-=.8181818181818182)*a+.9375:7.5625*(a-=.9545454545454546)*a+.984375}s.interpolateHcl=Qi;function Qi(a,A){a=s.hcl(a),A=s.hcl(A);var k=a.h,V=a.c,Q=a.l,ee=A.h-k,de=A.c-V,se=A.l-Q;return isNaN(de)&&(de=0,V=isNaN(V)?A.c:V),isNaN(ee)?(ee=0,k=isNaN(k)?A.h:k):ee>180?ee-=360:ee<-180&&(ee+=360),function(ge){return _t(k+ee*ge,V+de*ge,Q+se*ge)+""}}s.interpolateHsl=$i;function $i(a,A){a=s.hsl(a),A=s.hsl(A);var k=a.h,V=a.s,Q=a.l,ee=A.h-k,de=A.s-V,se=A.l-Q;return isNaN(de)&&(de=0,V=isNaN(V)?A.s:V),isNaN(ee)?(ee=0,k=isNaN(k)?A.h:k):ee>180?ee-=360:ee<-180&&(ee+=360),function(ge){return Qt(k+ee*ge,V+de*ge,Q+se*ge)+""}}s.interpolateLab=ji;function ji(a,A){a=s.lab(a),A=s.lab(A);var k=a.l,V=a.a,Q=a.b,ee=A.l-k,de=A.a-V,se=A.b-Q;return function(ge){return q(k+ee*ge,V+de*ge,Q+se*ge)+""}}s.interpolateRound=zn;function zn(a,A){return A-=a,function(k){return Math.round(a+A*k)}}s.transform=function(a){var A=f.createElementNS(s.ns.prefix.svg,"g");return(s.transform=function(k){if(k!=null){A.setAttribute("transform",k);var V=A.transform.baseVal.consolidate()}return new In(V?V.matrix:el)})(a)};function In(a){var A=[a.a,a.b],k=[a.c,a.d],V=Hn(A),Q=_n(A,k),ee=Hn(qi(k,A,-Q))||0;A[0]*k[1]<k[0]*A[1]&&(A[0]*=-1,A[1]*=-1,V*=-1,Q*=-1),this.rotate=(V?Math.atan2(A[1],A[0]):Math.atan2(-k[0],k[1]))*_e,this.translate=[a.e,a.f],this.scale=[V,ee],this.skew=ee?Math.atan2(Q,ee)*_e:0}In.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function _n(a,A){return a[0]*A[0]+a[1]*A[1]}function Hn(a){var A=Math.sqrt(_n(a,a));return A&&(a[0]/=A,a[1]/=A),A}function qi(a,A,k){return a[0]+=k*A[0],a[1]+=k*A[1],a}var el={a:1,b:0,c:0,d:1,e:0,f:0};s.interpolateTransform=On;function Fa(a){return a.length?a.pop()+",":""}function tl(a,A,k,V){if(a[0]!==A[0]||a[1]!==A[1]){var Q=k.push("translate(",null,",",null,")");V.push({i:Q-4,x:ga(a[0],A[0])},{i:Q-2,x:ga(a[1],A[1])})}else(A[0]||A[1])&&k.push("translate("+A+")")}function rl(a,A,k,V){a!==A?(a-A>180?A+=360:A-a>180&&(a+=360),V.push({i:k.push(Fa(k)+"rotate(",null,")")-2,x:ga(a,A)})):A&&k.push(Fa(k)+"rotate("+A+")")}function al(a,A,k,V){a!==A?V.push({i:k.push(Fa(k)+"skewX(",null,")")-2,x:ga(a,A)}):A&&k.push(Fa(k)+"skewX("+A+")")}function nl(a,A,k,V){if(a[0]!==A[0]||a[1]!==A[1]){var Q=k.push(Fa(k)+"scale(",null,",",null,")");V.push({i:Q-4,x:ga(a[0],A[0])},{i:Q-2,x:ga(a[1],A[1])})}else(A[0]!==1||A[1]!==1)&&k.push(Fa(k)+"scale("+A+")")}function On(a,A){var k=[],V=[];return a=s.transform(a),A=s.transform(A),tl(a.translate,A.translate,k,V),rl(a.rotate,A.rotate,k,V),al(a.skew,A.skew,k,V),nl(a.scale,A.scale,k,V),a=A=null,function(Q){for(var ee=-1,de=V.length,se;++ee<de;)k[(se=V[ee]).i]=se.x(Q);return k.join("")}}function il(a,A){return A=(A-=a=+a)||1/A,function(k){return(k-a)/A}}function ll(a,A){return A=(A-=a=+a)||1/A,function(k){return Math.max(0,Math.min(1,(k-a)/A))}}s.layout={},s.layout.bundle=function(){return function(a){for(var A=[],k=-1,V=a.length;++k<V;)A.push(ol(a[k]));return A}};function ol(a){for(var A=a.source,k=a.target,V=sl(A,k),Q=[A];A!==V;)A=A.parent,Q.push(A);for(var ee=Q.length;k!==V;)Q.splice(ee,0,k),k=k.parent;return Q}function Bn(a){for(var A=[],k=a.parent;k!=null;)A.push(a),a=k,k=k.parent;return A.push(a),A}function sl(a,A){if(a===A)return a;for(var k=Bn(a),V=Bn(A),Q=k.pop(),ee=V.pop(),de=null;Q===ee;)de=Q,Q=k.pop(),ee=V.pop();return de}s.layout.chord=function(){var a={},A,k,V,Q,ee=0,de,se,ge;function Re(){var We={},Ze=[],vt=s.range(Q),mt=[],Qe,et,lt,yt,bt;for(A=[],k=[],Qe=0,yt=-1;++yt<Q;){for(et=0,bt=-1;++bt<Q;)et+=V[yt][bt];Ze.push(et),mt.push(s.range(Q)),Qe+=et}for(de&&vt.sort(function(ur,tr){return de(Ze[ur],Ze[tr])}),se&&mt.forEach(function(ur,tr){ur.sort(function(fr,xr){return se(V[tr][fr],V[tr][xr])})}),Qe=(be-ee*Q)/Qe,et=0,yt=-1;++yt<Q;){for(lt=et,bt=-1;++bt<Q;){var ft=vt[yt],zt=mt[ft][bt],Xt=V[ft][zt],jt=et,Kt=et+=Xt*Qe;We[ft+"-"+zt]={index:ft,subindex:zt,startAngle:jt,endAngle:Kt,value:Xt}}k[ft]={index:ft,startAngle:lt,endAngle:et,value:Ze[ft]},et+=ee}for(yt=-1;++yt<Q;)for(bt=yt-1;++bt<Q;){var qt=We[yt+"-"+bt],er=We[bt+"-"+yt];(qt.value||er.value)&&A.push(qt.value<er.value?{source:er,target:qt}:{source:qt,target:er})}ge&&Ne()}function Ne(){A.sort(function(We,Ze){return ge((We.source.value+We.target.value)/2,(Ze.source.value+Ze.target.value)/2)})}return a.matrix=function(We){return arguments.length?(Q=(V=We)&&V.length,A=k=null,a):V},a.padding=function(We){return arguments.length?(ee=We,A=k=null,a):ee},a.sortGroups=function(We){return arguments.length?(de=We,A=k=null,a):de},a.sortSubgroups=function(We){return arguments.length?(se=We,A=null,a):se},a.sortChords=function(We){return arguments.length?(ge=We,A&&Ne(),a):ge},a.chords=function(){return A||Re(),A},a.groups=function(){return k||Re(),k},a},s.layout.force=function(){var a={},A=s.dispatch("start","tick","end"),k,V=[1,1],Q,ee,de=.9,se=dl,ge=hl,Re=-30,Ne=ml,We=.1,Ze=.64,vt=[],mt=[],Qe,et,lt;function yt(ft){return function(zt,Xt,jt,Kt){if(zt.point!==ft){var qt=zt.cx-ft.x,er=zt.cy-ft.y,ur=Kt-Xt,tr=qt*qt+er*er;if(ur*ur/Ze<tr){if(tr<Ne){var fr=zt.charge/tr;ft.px-=qt*fr,ft.py-=er*fr}return!0}if(zt.point&&tr&&tr<Ne){var fr=zt.pointCharge/tr;ft.px-=qt*fr,ft.py-=er*fr}}return!zt.charge}}a.tick=function(){if((ee*=.99)<.005)return k=null,A.end({type:"end",alpha:ee=0}),!0;var ft=vt.length,zt=mt.length,Xt,jt,Kt,qt,er,ur,tr,fr,xr;for(jt=0;jt<zt;++jt)Kt=mt[jt],qt=Kt.source,er=Kt.target,fr=er.x-qt.x,xr=er.y-qt.y,(ur=fr*fr+xr*xr)&&(ur=ee*et[jt]*((ur=Math.sqrt(ur))-Qe[jt])/ur,fr*=ur,xr*=ur,er.x-=fr*(tr=qt.weight+er.weight?qt.weight/(qt.weight+er.weight):.5),er.y-=xr*tr,qt.x+=fr*(tr=1-tr),qt.y+=xr*tr);if((tr=ee*We)&&(fr=V[0]/2,xr=V[1]/2,jt=-1,tr))for(;++jt<ft;)Kt=vt[jt],Kt.x+=(fr-Kt.x)*tr,Kt.y+=(xr-Kt.y)*tr;if(Re)for(Yn(Xt=s.geom.quadtree(vt),ee,lt),jt=-1;++jt<ft;)(Kt=vt[jt]).fixed||Xt.visit(yt(Kt));for(jt=-1;++jt<ft;)Kt=vt[jt],Kt.fixed?(Kt.x=Kt.px,Kt.y=Kt.py):(Kt.x-=(Kt.px-(Kt.px=Kt.x))*de,Kt.y-=(Kt.py-(Kt.py=Kt.y))*de);A.tick({type:"tick",alpha:ee})},a.nodes=function(ft){return arguments.length?(vt=ft,a):vt},a.links=function(ft){return arguments.length?(mt=ft,a):mt},a.size=function(ft){return arguments.length?(V=ft,a):V},a.linkDistance=function(ft){return arguments.length?(se=typeof ft=="function"?ft:+ft,a):se},a.distance=a.linkDistance,a.linkStrength=function(ft){return arguments.length?(ge=typeof ft=="function"?ft:+ft,a):ge},a.friction=function(ft){return arguments.length?(de=+ft,a):de},a.charge=function(ft){return arguments.length?(Re=typeof ft=="function"?ft:+ft,a):Re},a.chargeDistance=function(ft){return arguments.length?(Ne=ft*ft,a):Math.sqrt(Ne)},a.gravity=function(ft){return arguments.length?(We=+ft,a):We},a.theta=function(ft){return arguments.length?(Ze=ft*ft,a):Math.sqrt(Ze)},a.alpha=function(ft){return arguments.length?(ft=+ft,ee?ft>0?ee=ft:(k.c=null,k.t=NaN,k=null,A.end({type:"end",alpha:ee=0})):ft>0&&(A.start({type:"start",alpha:ee=ft}),k=sr(a.tick)),a):ee},a.start=function(){var ft,zt=vt.length,Xt=mt.length,jt=V[0],Kt=V[1],qt,er;for(ft=0;ft<zt;++ft)(er=vt[ft]).index=ft,er.weight=0;for(ft=0;ft<Xt;++ft)er=mt[ft],typeof er.source=="number"&&(er.source=vt[er.source]),typeof er.target=="number"&&(er.target=vt[er.target]),++er.source.weight,++er.target.weight;for(ft=0;ft<zt;++ft)er=vt[ft],isNaN(er.x)&&(er.x=ur("x",jt)),isNaN(er.y)&&(er.y=ur("y",Kt)),isNaN(er.px)&&(er.px=er.x),isNaN(er.py)&&(er.py=er.y);if(Qe=[],typeof se=="function")for(ft=0;ft<Xt;++ft)Qe[ft]=+se.call(this,mt[ft],ft);else for(ft=0;ft<Xt;++ft)Qe[ft]=se;if(et=[],typeof ge=="function")for(ft=0;ft<Xt;++ft)et[ft]=+ge.call(this,mt[ft],ft);else for(ft=0;ft<Xt;++ft)et[ft]=ge;if(lt=[],typeof Re=="function")for(ft=0;ft<zt;++ft)lt[ft]=+Re.call(this,vt[ft],ft);else for(ft=0;ft<zt;++ft)lt[ft]=Re;function ur(tr,fr){if(!qt){for(qt=new Array(zt),Ar=0;Ar<zt;++Ar)qt[Ar]=[];for(Ar=0;Ar<Xt;++Ar){var xr=mt[Ar];qt[xr.source.index].push(xr.target),qt[xr.target.index].push(xr.source)}}for(var Er=qt[ft],Ar=-1,Zt=Er.length,cr;++Ar<Zt;)if(!isNaN(cr=Er[Ar][tr]))return cr;return Math.random()*fr}return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){if(Q||(Q=s.behavior.drag().origin(F).on("dragstart.force",fl).on("drag.force",bt).on("dragend.force",ul)),!arguments.length)return Q;this.on("mouseover.force",cl).on("mouseout.force",vl).call(Q)};function bt(ft){ft.px=s.event.x,ft.py=s.event.y,a.resume()}return s.rebind(a,A,"on")};function fl(a){a.fixed|=2}function ul(a){a.fixed&=-7}function cl(a){a.fixed|=4,a.px=a.x,a.py=a.y}function vl(a){a.fixed&=-5}function Yn(a,A,k){var V=0,Q=0;if(a.charge=0,!a.leaf)for(var ee=a.nodes,de=ee.length,se=-1,ge;++se<de;)ge=ee[se],ge!=null&&(Yn(ge,A,k),a.charge+=ge.charge,V+=ge.charge*ge.cx,Q+=ge.charge*ge.cy);if(a.point){a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5);var Re=A*k[a.point.index];a.charge+=a.pointCharge=Re,V+=Re*a.point.x,Q+=Re*a.point.y}a.cx=V/a.charge,a.cy=Q/a.charge}var dl=20,hl=1,ml=1/0;s.layout.hierarchy=function(){var a=gl,A=yl,k=pl;function V(Q){var ee=[Q],de=[],se;for(Q.depth=0;(se=ee.pop())!=null;)if(de.push(se),(Re=A.call(V,se,se.depth))&&(ge=Re.length)){for(var ge,Re,Ne;--ge>=0;)ee.push(Ne=Re[ge]),Ne.parent=se,Ne.depth=se.depth+1;k&&(se.value=0),se.children=Re}else k&&(se.value=+k.call(V,se,se.depth)||0),delete se.children;return da(Q,function(We){var Ze,vt;a&&(Ze=We.children)&&Ze.sort(a),k&&(vt=We.parent)&&(vt.value+=We.value)}),de}return V.sort=function(Q){return arguments.length?(a=Q,V):a},V.children=function(Q){return arguments.length?(A=Q,V):A},V.value=function(Q){return arguments.length?(k=Q,V):k},V.revalue=function(Q){return k&&(Ua(Q,function(ee){ee.children&&(ee.value=0)}),da(Q,function(ee){var de;ee.children||(ee.value=+k.call(V,ee,ee.depth)||0),(de=ee.parent)&&(de.value+=ee.value)})),Q},V};function Ya(a,A){return s.rebind(a,A,"sort","children","value"),a.nodes=a,a.links=xl,a}function Ua(a,A){for(var k=[a];(a=k.pop())!=null;)if(A(a),(Q=a.children)&&(V=Q.length))for(var V,Q;--V>=0;)k.push(Q[V])}function da(a,A){for(var k=[a],V=[];(a=k.pop())!=null;)if(V.push(a),(de=a.children)&&(ee=de.length))for(var Q=-1,ee,de;++Q<ee;)k.push(de[Q]);for(;(a=V.pop())!=null;)A(a)}function yl(a){return a.children}function pl(a){return a.value}function gl(a,A){return A.value-a.value}function xl(a){return s.merge(a.map(function(A){return(A.children||[]).map(function(k){return{source:A,target:k}})}))}s.layout.partition=function(){var a=s.layout.hierarchy(),A=[1,1];function k(ee,de,se,ge){var Re=ee.children;if(ee.x=de,ee.y=ee.depth*ge,ee.dx=se,ee.dy=ge,Re&&(We=Re.length)){var Ne=-1,We,Ze,vt;for(se=ee.value?se/ee.value:0;++Ne<We;)k(Ze=Re[Ne],de,vt=Ze.value*se,ge),de+=vt}}function V(ee){var de=ee.children,se=0;if(de&&(Re=de.length))for(var ge=-1,Re;++ge<Re;)se=Math.max(se,V(de[ge]));return 1+se}function Q(ee,de){var se=a.call(this,ee,de);return k(se[0],0,A[0],A[1]/V(se[0])),se}return Q.size=function(ee){return arguments.length?(A=ee,Q):A},Ya(Q,a)},s.layout.pie=function(){var a=Number,A=Un,k=0,V=be,Q=0;function ee(de){var se=de.length,ge=de.map(function(yt,bt){return+a.call(ee,yt,bt)}),Re=+(typeof k=="function"?k.apply(this,arguments):k),Ne=(typeof V=="function"?V.apply(this,arguments):V)-Re,We=Math.min(Math.abs(Ne)/se,+(typeof Q=="function"?Q.apply(this,arguments):Q)),Ze=We*(Ne<0?-1:1),vt=s.sum(ge),mt=vt?(Ne-se*Ze)/vt:0,Qe=s.range(se),et=[],lt;return A!=null&&Qe.sort(A===Un?function(yt,bt){return ge[bt]-ge[yt]}:function(yt,bt){return A(de[yt],de[bt])}),Qe.forEach(function(yt){et[yt]={data:de[yt],value:lt=ge[yt],startAngle:Re,endAngle:Re+=lt*mt+Ze,padAngle:We}}),et}return ee.value=function(de){return arguments.length?(a=de,ee):a},ee.sort=function(de){return arguments.length?(A=de,ee):A},ee.startAngle=function(de){return arguments.length?(k=de,ee):k},ee.endAngle=function(de){return arguments.length?(V=de,ee):V},ee.padAngle=function(de){return arguments.length?(Q=de,ee):Q},ee};var Un={};s.layout.stack=function(){var a=F,A=un,k=cn,V=Ml,Q=bl,ee=Tl;function de(se,ge){if(!(mt=se.length))return se;var Re=se.map(function(yt,bt){return a.call(de,yt,bt)}),Ne=Re.map(function(yt){return yt.map(function(bt,ft){return[Q.call(de,bt,ft),ee.call(de,bt,ft)]})}),We=A.call(de,Ne,ge);Re=s.permute(Re,We),Ne=s.permute(Ne,We);var Ze=k.call(de,Ne,ge),vt=Re[0].length,mt,Qe,et,lt;for(et=0;et<vt;++et)for(V.call(de,Re[0][et],lt=Ze[et],Ne[0][et][1]),Qe=1;Qe<mt;++Qe)V.call(de,Re[Qe][et],lt+=Ne[Qe-1][et][1],Ne[Qe][et][1]);return se}return de.values=function(se){return arguments.length?(a=se,de):a},de.order=function(se){return arguments.length?(A=typeof se=="function"?se:Al.get(se)||un,de):A},de.offset=function(se){return arguments.length?(k=typeof se=="function"?se:wl.get(se)||cn,de):k},de.x=function(se){return arguments.length?(Q=se,de):Q},de.y=function(se){return arguments.length?(ee=se,de):ee},de.out=function(se){return arguments.length?(V=se,de):V},de};function bl(a){return a.x}function Tl(a){return a.y}function Ml(a,A,k){a.y0=A,a.y=k}var Al=s.map({"inside-out":function(a){var A=a.length,k,V,Q=a.map(Ll),ee=a.map(Sl),de=s.range(A).sort(function(We,Ze){return Q[We]-Q[Ze]}),se=0,ge=0,Re=[],Ne=[];for(k=0;k<A;++k)V=de[k],se<ge?(se+=ee[V],Re.push(V)):(ge+=ee[V],Ne.push(V));return Ne.reverse().concat(Re)},reverse:function(a){return s.range(a.length).reverse()},default:un}),wl=s.map({silhouette:function(a){var A=a.length,k=a[0].length,V=[],Q=0,ee,de,se,ge=[];for(de=0;de<k;++de){for(ee=0,se=0;ee<A;ee++)se+=a[ee][de][1];se>Q&&(Q=se),V.push(se)}for(de=0;de<k;++de)ge[de]=(Q-V[de])/2;return ge},wiggle:function(a){var A=a.length,k=a[0],V=k.length,Q,ee,de,se,ge,Re,Ne,We,Ze,vt=[];for(vt[0]=We=Ze=0,ee=1;ee<V;++ee){for(Q=0,se=0;Q<A;++Q)se+=a[Q][ee][1];for(Q=0,ge=0,Ne=k[ee][0]-k[ee-1][0];Q<A;++Q){for(de=0,Re=(a[Q][ee][1]-a[Q][ee-1][1])/(2*Ne);de<Q;++de)Re+=(a[de][ee][1]-a[de][ee-1][1])/Ne;ge+=Re*a[Q][ee][1]}vt[ee]=We-=se?ge/se*Ne:0,We<Ze&&(Ze=We)}for(ee=0;ee<V;++ee)vt[ee]-=Ze;return vt},expand:function(a){var A=a.length,k=a[0].length,V=1/A,Q,ee,de,se=[];for(ee=0;ee<k;++ee){for(Q=0,de=0;Q<A;Q++)de+=a[Q][ee][1];if(de)for(Q=0;Q<A;Q++)a[Q][ee][1]/=de;else for(Q=0;Q<A;Q++)a[Q][ee][1]=V}for(ee=0;ee<k;++ee)se[ee]=0;return se},zero:cn});function un(a){return s.range(a.length)}function cn(a){for(var A=-1,k=a[0].length,V=[];++A<k;)V[A]=0;return V}function Ll(a){for(var A=1,k=0,V=a[0][1],Q,ee=a.length;A<ee;++A)(Q=a[A][1])>V&&(k=A,V=Q);return k}function Sl(a){return a.reduce(Cl,0)}function Cl(a,A){return a+A[1]}s.layout.histogram=function(){var a=!0,A=Number,k=kl,V=Dl;function Q(ee,Ze){for(var se=[],ge=ee.map(A,this),Re=k.call(this,ge,Ze),Ne=V.call(this,Re,ge,Ze),We,Ze=-1,vt=ge.length,mt=Ne.length-1,Qe=a?1:1/vt,et;++Ze<mt;)We=se[Ze]=[],We.dx=Ne[Ze+1]-(We.x=Ne[Ze]),We.y=0;if(mt>0)for(Ze=-1;++Ze<vt;)et=ge[Ze],et>=Re[0]&&et<=Re[1]&&(We=se[s.bisect(Ne,et,1,mt)-1],We.y+=Qe,We.push(ee[Ze]));return se}return Q.value=function(ee){return arguments.length?(A=ee,Q):A},Q.range=function(ee){return arguments.length?(k=Lt(ee),Q):k},Q.bins=function(ee){return arguments.length?(V=typeof ee=="number"?function(de){return Gn(de,ee)}:Lt(ee),Q):V},Q.frequency=function(ee){return arguments.length?(a=!!ee,Q):a},Q};function Dl(a,A){return Gn(a,Math.ceil(Math.log(A.length)/Math.LN2+1))}function Gn(a,A){for(var k=-1,V=+a[0],Q=(a[1]-V)/A,ee=[];++k<=A;)ee[k]=Q*k+V;return ee}function kl(a){return[s.min(a),s.max(a)]}s.layout.pack=function(){var a=s.layout.hierarchy().sort(Pl),A=0,k=[1,1],V;function Q(ee,de){var se=a.call(this,ee,de),ge=se[0],Re=k[0],Ne=k[1],We=V==null?Math.sqrt:typeof V=="function"?V:function(){return V};if(ge.x=ge.y=0,da(ge,function(vt){vt.r=+We(vt.value)}),da(ge,Zn),A){var Ze=A*(V?1:Math.max(2*ge.r/Re,2*ge.r/Ne))/2;da(ge,function(vt){vt.r+=Ze}),da(ge,Zn),da(ge,function(vt){vt.r-=Ze})}return Xn(ge,Re/2,Ne/2,V?1:1/Math.max(2*ge.r/Re,2*ge.r/Ne)),se}return Q.size=function(ee){return arguments.length?(k=ee,Q):k},Q.radius=function(ee){return arguments.length?(V=ee==null||typeof ee=="function"?ee:+ee,Q):V},Q.padding=function(ee){return arguments.length?(A=+ee,Q):A},Ya(Q,a)};function Pl(a,A){return a.value-A.value}function vn(a,A){var k=a._pack_next;a._pack_next=A,A._pack_prev=a,A._pack_next=k,k._pack_prev=A}function Vn(a,A){a._pack_next=A,A._pack_prev=a}function Wn(a,A){var k=A.x-a.x,V=A.y-a.y,Q=a.r+A.r;return .999*Q*Q>k*k+V*V}function Zn(a){if(!(A=a.children)||!(Ze=A.length))return;var A,k=1/0,V=-1/0,Q=1/0,ee=-1/0,de,se,ge,Re,Ne,We,Ze;function vt(ft){k=Math.min(ft.x-ft.r,k),V=Math.max(ft.x+ft.r,V),Q=Math.min(ft.y-ft.r,Q),ee=Math.max(ft.y+ft.r,ee)}if(A.forEach(Rl),de=A[0],de.x=-de.r,de.y=0,vt(de),Ze>1&&(se=A[1],se.x=se.r,se.y=0,vt(se),Ze>2))for(ge=A[2],Jn(de,se,ge),vt(ge),vn(de,ge),de._pack_prev=ge,vn(ge,se),se=de._pack_next,Re=3;Re<Ze;Re++){Jn(de,se,ge=A[Re]);var mt=0,Qe=1,et=1;for(Ne=se._pack_next;Ne!==se;Ne=Ne._pack_next,Qe++)if(Wn(Ne,ge)){mt=1;break}if(mt==1)for(We=de._pack_prev;We!==Ne._pack_prev&&!Wn(We,ge);We=We._pack_prev,et++);mt?(Qe<et||Qe==et&&se.r<de.r?Vn(de,se=Ne):Vn(de=We,se),Re--):(vn(de,ge),se=ge,vt(ge))}var lt=(k+V)/2,yt=(Q+ee)/2,bt=0;for(Re=0;Re<Ze;Re++)ge=A[Re],ge.x-=lt,ge.y-=yt,bt=Math.max(bt,ge.r+Math.sqrt(ge.x*ge.x+ge.y*ge.y));a.r=bt,A.forEach(El)}function Rl(a){a._pack_next=a._pack_prev=a}function El(a){delete a._pack_next,delete a._pack_prev}function Xn(a,A,k,V){var Q=a.children;if(a.x=A+=V*a.x,a.y=k+=V*a.y,a.r*=V,Q)for(var ee=-1,de=Q.length;++ee<de;)Xn(Q[ee],A,k,V)}function Jn(a,A,k){var V=a.r+k.r,Q=A.x-a.x,ee=A.y-a.y;if(V&&(Q||ee)){var de=A.r+k.r,se=Q*Q+ee*ee;de*=de,V*=V;var ge=.5+(V-de)/(2*se),Re=Math.sqrt(Math.max(0,2*de*(V+se)-(V-=se)*V-de*de))/(2*se);k.x=a.x+ge*Q+Re*ee,k.y=a.y+ge*ee-Re*Q}else k.x=a.x+V,k.y=a.y}s.layout.tree=function(){var a=s.layout.hierarchy().sort(null).value(null),A=Kn,k=[1,1],V=null;function Q(Ne,We){var Ze=a.call(this,Ne,We),vt=Ze[0],mt=ee(vt);if(da(mt,de),mt.parent.m=-mt.z,Ua(mt,se),V)Ua(vt,Re);else{var Qe=vt,et=vt,lt=vt;Ua(vt,function(zt){zt.x<Qe.x&&(Qe=zt),zt.x>et.x&&(et=zt),zt.depth>lt.depth&&(lt=zt)});var yt=A(Qe,et)/2-Qe.x,bt=k[0]/(et.x+A(et,Qe)/2+yt),ft=k[1]/(lt.depth||1);Ua(vt,function(zt){zt.x=(zt.x+yt)*bt,zt.y=zt.depth*ft})}return Ze}function ee(Ne){for(var We={A:null,children:[Ne]},Ze=[We],vt;(vt=Ze.pop())!=null;)for(var mt=vt.children,Qe,et=0,lt=mt.length;et<lt;++et)Ze.push((mt[et]=Qe={_:mt[et],parent:vt,children:(Qe=mt[et].children)&&Qe.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:et}).a=Qe);return We.children[0]}function de(Ne){var We=Ne.children,Ze=Ne.parent.children,vt=Ne.i?Ze[Ne.i-1]:null;if(We.length){Fl(Ne);var mt=(We[0].z+We[We.length-1].z)/2;vt?(Ne.z=vt.z+A(Ne._,vt._),Ne.m=Ne.z-mt):Ne.z=mt}else vt&&(Ne.z=vt.z+A(Ne._,vt._));Ne.parent.A=ge(Ne,vt,Ne.parent.A||Ze[0])}function se(Ne){Ne._.x=Ne.z+Ne.parent.m,Ne.m+=Ne.parent.m}function ge(Ne,We,Ze){if(We){for(var vt=Ne,mt=Ne,Qe=We,et=vt.parent.children[0],lt=vt.m,yt=mt.m,bt=Qe.m,ft=et.m,zt;Qe=hn(Qe),vt=dn(vt),Qe&&vt;)et=dn(et),mt=hn(mt),mt.a=Ne,zt=Qe.z+bt-vt.z-lt+A(Qe._,vt._),zt>0&&(Nl(zl(Qe,Ne,Ze),Ne,zt),lt+=zt,yt+=zt),bt+=Qe.m,lt+=vt.m,ft+=et.m,yt+=mt.m;Qe&&!hn(mt)&&(mt.t=Qe,mt.m+=bt-yt),vt&&!dn(et)&&(et.t=vt,et.m+=lt-ft,Ze=Ne)}return Ze}function Re(Ne){Ne.x*=k[0],Ne.y=Ne.depth*k[1]}return Q.separation=function(Ne){return arguments.length?(A=Ne,Q):A},Q.size=function(Ne){return arguments.length?(V=(k=Ne)==null?Re:null,Q):V?null:k},Q.nodeSize=function(Ne){return arguments.length?(V=(k=Ne)==null?null:Re,Q):V?k:null},Ya(Q,a)};function Kn(a,A){return a.parent==A.parent?1:2}function dn(a){var A=a.children;return A.length?A[0]:a.t}function hn(a){var A=a.children,k;return(k=A.length)?A[k-1]:a.t}function Nl(a,A,k){var V=k/(A.i-a.i);A.c-=V,A.s+=k,a.c+=V,A.z+=k,A.m+=k}function Fl(a){for(var A=0,k=0,V=a.children,Q=V.length,ee;--Q>=0;)ee=V[Q],ee.z+=A,ee.m+=A,A+=ee.s+(k+=ee.c)}function zl(a,A,k){return a.a.parent===A.parent?a.a:k}s.layout.cluster=function(){var a=s.layout.hierarchy().sort(null).value(null),A=Kn,k=[1,1],V=!1;function Q(ee,de){var se=a.call(this,ee,de),ge=se[0],Re,Ne=0;da(ge,function(Qe){var et=Qe.children;et&&et.length?(Qe.x=_l(et),Qe.y=Il(et)):(Qe.x=Re?Ne+=A(Qe,Re):0,Qe.y=0,Re=Qe)});var We=Qn(ge),Ze=$n(ge),vt=We.x-A(We,Ze)/2,mt=Ze.x+A(Ze,We)/2;return da(ge,V?function(Qe){Qe.x=(Qe.x-ge.x)*k[0],Qe.y=(ge.y-Qe.y)*k[1]}:function(Qe){Qe.x=(Qe.x-vt)/(mt-vt)*k[0],Qe.y=(1-(ge.y?Qe.y/ge.y:1))*k[1]}),se}return Q.separation=function(ee){return arguments.length?(A=ee,Q):A},Q.size=function(ee){return arguments.length?(V=(k=ee)==null,Q):V?null:k},Q.nodeSize=function(ee){return arguments.length?(V=(k=ee)!=null,Q):V?k:null},Ya(Q,a)};function Il(a){return 1+s.max(a,function(A){return A.y})}function _l(a){return a.reduce(function(A,k){return A+k.x},0)/a.length}function Qn(a){var A=a.children;return A&&A.length?Qn(A[0]):a}function $n(a){var A=a.children,k;return A&&(k=A.length)?$n(A[k-1]):a}s.layout.treemap=function(){var a=s.layout.hierarchy(),A=Math.round,k=[1,1],V=null,Q=mn,ee=!1,de,se="squarify",ge=.5*(1+Math.sqrt(5));function Re(Qe,et){for(var lt=-1,yt=Qe.length,bt,ft;++lt<yt;)ft=(bt=Qe[lt]).value*(et<0?0:et),bt.area=isNaN(ft)||ft<=0?0:ft}function Ne(Qe){var et=Qe.children;if(et&&et.length){var lt=Q(Qe),yt=[],bt=et.slice(),ft,zt=1/0,Xt,jt=se==="slice"?lt.dx:se==="dice"?lt.dy:se==="slice-dice"?Qe.depth&1?lt.dy:lt.dx:Math.min(lt.dx,lt.dy),Kt;for(Re(bt,lt.dx*lt.dy/Qe.value),yt.area=0;(Kt=bt.length)>0;)yt.push(ft=bt[Kt-1]),yt.area+=ft.area,se!=="squarify"||(Xt=Ze(yt,jt))<=zt?(bt.pop(),zt=Xt):(yt.area-=yt.pop().area,vt(yt,jt,lt,!1),jt=Math.min(lt.dx,lt.dy),yt.length=yt.area=0,zt=1/0);yt.length&&(vt(yt,jt,lt,!0),yt.length=yt.area=0),et.forEach(Ne)}}function We(Qe){var et=Qe.children;if(et&&et.length){var lt=Q(Qe),yt=et.slice(),bt,ft=[];for(Re(yt,lt.dx*lt.dy/Qe.value),ft.area=0;bt=yt.pop();)ft.push(bt),ft.area+=bt.area,bt.z!=null&&(vt(ft,bt.z?lt.dx:lt.dy,lt,!yt.length),ft.length=ft.area=0);et.forEach(We)}}function Ze(Qe,et){for(var lt=Qe.area,yt,bt=0,ft=1/0,zt=-1,Xt=Qe.length;++zt<Xt;)(yt=Qe[zt].area)&&(yt<ft&&(ft=yt),yt>bt&&(bt=yt));return lt*=lt,et*=et,lt?Math.max(et*bt*ge/lt,lt/(et*ft*ge)):1/0}function vt(Qe,et,lt,yt){var bt=-1,ft=Qe.length,zt=lt.x,Xt=lt.y,jt=et?A(Qe.area/et):0,Kt;if(et==lt.dx){for((yt||jt>lt.dy)&&(jt=lt.dy);++bt<ft;)Kt=Qe[bt],Kt.x=zt,Kt.y=Xt,Kt.dy=jt,zt+=Kt.dx=Math.min(lt.x+lt.dx-zt,jt?A(Kt.area/jt):0);Kt.z=!0,Kt.dx+=lt.x+lt.dx-zt,lt.y+=jt,lt.dy-=jt}else{for((yt||jt>lt.dx)&&(jt=lt.dx);++bt<ft;)Kt=Qe[bt],Kt.x=zt,Kt.y=Xt,Kt.dx=jt,Xt+=Kt.dy=Math.min(lt.y+lt.dy-Xt,jt?A(Kt.area/jt):0);Kt.z=!1,Kt.dy+=lt.y+lt.dy-Xt,lt.x+=jt,lt.dx-=jt}}function mt(Qe){var et=de||a(Qe),lt=et[0];return lt.x=lt.y=0,lt.value?(lt.dx=k[0],lt.dy=k[1]):lt.dx=lt.dy=0,de&&a.revalue(lt),Re([lt],lt.dx*lt.dy/lt.value),(de?We:Ne)(lt),ee&&(de=et),et}return mt.size=function(Qe){return arguments.length?(k=Qe,mt):k},mt.padding=function(Qe){if(!arguments.length)return V;function et(bt){var ft=Qe.call(mt,bt,bt.depth);return ft==null?mn(bt):jn(bt,typeof ft=="number"?[ft,ft,ft,ft]:ft)}function lt(bt){return jn(bt,Qe)}var yt;return Q=(V=Qe)==null?mn:(yt=typeof Qe)=="function"?et:(yt==="number"&&(Qe=[Qe,Qe,Qe,Qe]),lt),mt},mt.round=function(Qe){return arguments.length?(A=Qe?Math.round:Number,mt):A!=Number},mt.sticky=function(Qe){return arguments.length?(ee=Qe,de=null,mt):ee},mt.ratio=function(Qe){return arguments.length?(ge=Qe,mt):ge},mt.mode=function(Qe){return arguments.length?(se=Qe+"",mt):se},Ya(mt,a)};function mn(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function jn(a,A){var k=a.x+A[3],V=a.y+A[0],Q=a.dx-A[1]-A[3],ee=a.dy-A[0]-A[2];return Q<0&&(k+=Q/2,Q=0),ee<0&&(V+=ee/2,ee=0),{x:k,y:V,dx:Q,dy:ee}}s.random={normal:function(a,A){var k=arguments.length;return k<2&&(A=1),k<1&&(a=0),function(){var V,Q,ee;do V=Math.random()*2-1,Q=Math.random()*2-1,ee=V*V+Q*Q;while(!ee||ee>1);return a+A*V*Math.sqrt(-2*Math.log(ee)/ee)}},logNormal:function(){var a=s.random.normal.apply(s,arguments);return function(){return Math.exp(a())}},bates:function(a){var A=s.random.irwinHall(a);return function(){return A()/a}},irwinHall:function(a){return function(){for(var A=0,k=0;k<a;k++)A+=Math.random();return A}}},s.scale={};function Xa(a){var A=a[0],k=a[a.length-1];return A<k?[A,k]:[k,A]}function Ja(a){return a.rangeExtent?a.rangeExtent():Xa(a.range())}function Hl(a,A,k,V){var Q=k(a[0],a[1]),ee=V(A[0],A[1]);return function(de){return ee(Q(de))}}function yn(a,A){var k=0,V=a.length-1,Q=a[k],ee=a[V],de;return ee<Q&&(de=k,k=V,V=de,de=Q,Q=ee,ee=de),a[k]=A.floor(Q),a[V]=A.ceil(ee),a}function qn(a){return a?{floor:function(A){return Math.floor(A/a)*a},ceil:function(A){return Math.ceil(A/a)*a}}:Ol}var Ol={floor:F,ceil:F};function Bl(a,A,k,V){var Q=[],ee=[],de=0,se=Math.min(a.length,A.length)-1;for(a[se]<a[0]&&(a=a.slice().reverse(),A=A.slice().reverse());++de<=se;)Q.push(k(a[de-1],a[de])),ee.push(V(A[de-1],A[de]));return function(ge){var Re=s.bisect(a,ge,1,se)-1;return ee[Re](Q[Re](ge))}}s.scale.linear=function(){return ei([0,1],[0,1],ka,!1)};function ei(a,A,k,V){var Q,ee;function de(){var ge=Math.min(a.length,A.length)>2?Bl:Hl,Re=V?ll:il;return Q=ge(a,A,Re,k),ee=ge(A,a,Re,ka),se}function se(ge){return Q(ge)}return se.invert=function(ge){return ee(ge)},se.domain=function(ge){return arguments.length?(a=ge.map(Number),de()):a},se.range=function(ge){return arguments.length?(A=ge,de()):A},se.rangeRound=function(ge){return se.range(ge).interpolate(zn)},se.clamp=function(ge){return arguments.length?(V=ge,de()):V},se.interpolate=function(ge){return arguments.length?(k=ge,de()):k},se.ticks=function(ge){return gn(a,ge)},se.tickFormat=function(ge,Re){return d3_scale_linearTickFormat(a,ge,Re)},se.nice=function(ge){return ri(a,ge),de()},se.copy=function(){return ei(a,A,k,V)},de()}function ti(a,A){return s.rebind(a,A,"range","rangeRound","interpolate","clamp")}function ri(a,A){return yn(a,qn(pn(a,A)[2])),yn(a,qn(pn(a,A)[2])),a}function pn(a,A){A==null&&(A=10);var k=Xa(a),V=k[1]-k[0],Q=Math.pow(10,Math.floor(Math.log(V/A)/Math.LN10)),ee=A/V*Q;return ee<=.15?Q*=10:ee<=.35?Q*=5:ee<=.75&&(Q*=2),k[0]=Math.ceil(k[0]/Q)*Q,k[1]=Math.floor(k[1]/Q)*Q+Q*.5,k[2]=Q,k}function gn(a,A){return s.range.apply(s,pn(a,A))}s.scale.log=function(){return ai(s.scale.linear().domain([0,1]),10,!0,[1,10])};function ai(a,A,k,V){function Q(se){return(k?Math.log(se<0?0:se):-Math.log(se>0?0:-se))/Math.log(A)}function ee(se){return k?Math.pow(A,se):-Math.pow(A,-se)}function de(se){return a(Q(se))}return de.invert=function(se){return ee(a.invert(se))},de.domain=function(se){return arguments.length?(k=se[0]>=0,a.domain((V=se.map(Number)).map(Q)),de):V},de.base=function(se){return arguments.length?(A=+se,a.domain(V.map(Q)),de):A},de.nice=function(){var se=yn(V.map(Q),k?Math:Yl);return a.domain(se),V=se.map(ee),de},de.ticks=function(){var se=Xa(V),ge=[],Re=se[0],Ne=se[1],We=Math.floor(Q(Re)),Ze=Math.ceil(Q(Ne)),vt=A%1?2:A;if(isFinite(Ze-We)){if(k){for(;We<Ze;We++)for(var mt=1;mt<vt;mt++)ge.push(ee(We)*mt);ge.push(ee(We))}else for(ge.push(ee(We));We++<Ze;)for(var mt=vt-1;mt>0;mt--)ge.push(ee(We)*mt);for(We=0;ge[We]<Re;We++);for(Ze=ge.length;ge[Ze-1]>Ne;Ze--);ge=ge.slice(We,Ze)}return ge},de.copy=function(){return ai(a.copy(),A,k,V)},ti(de,a)}var Yl={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};s.scale.pow=function(){return ni(s.scale.linear(),1,[0,1])};function ni(a,A,k){var V=Ka(A),Q=Ka(1/A);function ee(de){return a(V(de))}return ee.invert=function(de){return Q(a.invert(de))},ee.domain=function(de){return arguments.length?(a.domain((k=de.map(Number)).map(V)),ee):k},ee.ticks=function(de){return gn(k,de)},ee.tickFormat=function(de,se){return d3_scale_linearTickFormat(k,de,se)},ee.nice=function(de){return ee.domain(ri(k,de))},ee.exponent=function(de){return arguments.length?(V=Ka(A=de),Q=Ka(1/A),a.domain(k.map(V)),ee):A},ee.copy=function(){return ni(a.copy(),A,k)},ti(ee,a)}function Ka(a){return function(A){return A<0?-Math.pow(-A,a):Math.pow(A,a)}}s.scale.sqrt=function(){return s.scale.pow().exponent(.5)},s.scale.ordinal=function(){return ii([],{t:"range",a:[[]]})};function ii(a,A){var k,V,Q;function ee(se){return V[((k.get(se)||(A.t==="range"?k.set(se,a.push(se)):NaN))-1)%V.length]}function de(se,ge){return s.range(a.length).map(function(Re){return se+ge*Re})}return ee.domain=function(se){if(!arguments.length)return a;a=[],k=new _;for(var ge=-1,Re=se.length,Ne;++ge<Re;)k.has(Ne=se[ge])||k.set(Ne,a.push(Ne));return ee[A.t].apply(ee,A.a)},ee.range=function(se){return arguments.length?(V=se,Q=0,A={t:"range",a:arguments},ee):V},ee.rangePoints=function(se,ge){arguments.length<2&&(ge=0);var Re=se[0],Ne=se[1],We=a.length<2?(Re=(Re+Ne)/2,0):(Ne-Re)/(a.length-1+ge);return V=de(Re+We*ge/2,We),Q=0,A={t:"rangePoints",a:arguments},ee},ee.rangeRoundPoints=function(se,ge){arguments.length<2&&(ge=0);var Re=se[0],Ne=se[1],We=a.length<2?(Re=Ne=Math.round((Re+Ne)/2),0):(Ne-Re)/(a.length-1+ge)|0;return V=de(Re+Math.round(We*ge/2+(Ne-Re-(a.length-1+ge)*We)/2),We),Q=0,A={t:"rangeRoundPoints",a:arguments},ee},ee.rangeBands=function(se,ge,Re){arguments.length<2&&(ge=0),arguments.length<3&&(Re=ge);var Ne=se[1]<se[0],We=se[Ne-0],Ze=se[1-Ne],vt=(Ze-We)/(a.length-ge+2*Re);return V=de(We+vt*Re,vt),Ne&&V.reverse(),Q=vt*(1-ge),A={t:"rangeBands",a:arguments},ee},ee.rangeRoundBands=function(se,ge,Re){arguments.length<2&&(ge=0),arguments.length<3&&(Re=ge);var Ne=se[1]<se[0],We=se[Ne-0],Ze=se[1-Ne],vt=Math.floor((Ze-We)/(a.length-ge+2*Re));return V=de(We+Math.round((Ze-We-(a.length-ge)*vt)/2),vt),Ne&&V.reverse(),Q=Math.round(vt*(1-ge)),A={t:"rangeRoundBands",a:arguments},ee},ee.rangeBand=function(){return Q},ee.rangeExtent=function(){return Xa(A.a[0])},ee.copy=function(){return ii(a,A)},ee.domain(a)}s.scale.category10=function(){return s.scale.ordinal().range(Ul)},s.scale.category20=function(){return s.scale.ordinal().range(Gl)},s.scale.category20b=function(){return s.scale.ordinal().range(Vl)},s.scale.category20c=function(){return s.scale.ordinal().range(Wl)};var Ul=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Be),Gl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Be),Vl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Be),Wl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Be);s.scale.quantile=function(){return li([],[])};function li(a,A){var k;function V(){var ee=0,de=A.length;for(k=[];++ee<de;)k[ee-1]=s.quantile(a,ee/de);return Q}function Q(ee){if(!isNaN(ee=+ee))return A[s.bisect(k,ee)]}return Q.domain=function(ee){return arguments.length?(a=ee.map(T).filter(x).sort(d),V()):a},Q.range=function(ee){return arguments.length?(A=ee,V()):A},Q.quantiles=function(){return k},Q.invertExtent=function(ee){return ee=A.indexOf(ee),ee<0?[NaN,NaN]:[ee>0?k[ee-1]:a[0],ee<k.length?k[ee]:a[a.length-1]]},Q.copy=function(){return li(a,A)},V()}s.scale.quantize=function(){return oi(0,1,[0,1])};function oi(a,A,k){var V,Q;function ee(se){return k[Math.max(0,Math.min(Q,Math.floor(V*(se-a))))]}function de(){return V=k.length/(A-a),Q=k.length-1,ee}return ee.domain=function(se){return arguments.length?(a=+se[0],A=+se[se.length-1],de()):[a,A]},ee.range=function(se){return arguments.length?(k=se,de()):k},ee.invertExtent=function(se){return se=k.indexOf(se),se=se<0?NaN:se/V+a,[se,se+1/V]},ee.copy=function(){return oi(a,A,k)},de()}s.scale.threshold=function(){return si([.5],[0,1])};function si(a,A){function k(V){if(V<=V)return A[s.bisect(a,V)]}return k.domain=function(V){return arguments.length?(a=V,k):a},k.range=function(V){return arguments.length?(A=V,k):A},k.invertExtent=function(V){return V=A.indexOf(V),[a[V-1],a[V]]},k.copy=function(){return si(a,A)},k}s.scale.identity=function(){return fi([0,1])};function fi(a){function A(k){return+k}return A.invert=A,A.domain=A.range=function(k){return arguments.length?(a=k.map(A),A):a},A.ticks=function(k){return gn(a,k)},A.tickFormat=function(k,V){return d3_scale_linearTickFormat(a,k,V)},A.copy=function(){return fi(a)},A}s.svg={};function Zl(){return 0}s.svg.arc=function(){var a=Xl,A=Jl,k=Zl,V=Qa,Q=ui,ee=ci,de=Kl;function se(){var Re=Math.max(0,+a.apply(this,arguments)),Ne=Math.max(0,+A.apply(this,arguments)),We=Q.apply(this,arguments)-Se,Ze=ee.apply(this,arguments)-Se,vt=Math.abs(Ze-We),mt=We>Ze?0:1;if(Ne<Re&&(Qe=Ne,Ne=Re,Re=Qe),vt>=De)return ge(Ne,mt)+(Re?ge(Re,1-mt):"")+"Z";var Qe,et,lt,yt,bt=0,ft=0,zt,Xt,jt,Kt,qt,er,ur,tr,fr=[];if((yt=(+de.apply(this,arguments)||0)/2)&&(lt=V===Qa?Math.sqrt(Re*Re+Ne*Ne):+V.apply(this,arguments),mt||(ft*=-1),Ne&&(ft=ot(lt/Ne*Math.sin(yt))),Re&&(bt=ot(lt/Re*Math.sin(yt)))),Ne){zt=Ne*Math.cos(We+ft),Xt=Ne*Math.sin(We+ft),jt=Ne*Math.cos(Ze-ft),Kt=Ne*Math.sin(Ze-ft);var xr=Math.abs(Ze-We-2*ft)<=oe?0:1;if(ft&&$a(zt,Xt,jt,Kt)===mt^xr){var Er=(We+Ze)/2;zt=Ne*Math.cos(Er),Xt=Ne*Math.sin(Er),jt=Kt=null}}else zt=Xt=0;if(Re){qt=Re*Math.cos(Ze-bt),er=Re*Math.sin(Ze-bt),ur=Re*Math.cos(We+bt),tr=Re*Math.sin(We+bt);var Ar=Math.abs(We-Ze+2*bt)<=oe?0:1;if(bt&&$a(qt,er,ur,tr)===1-mt^Ar){var Zt=(We+Ze)/2;qt=Re*Math.cos(Zt),er=Re*Math.sin(Zt),ur=tr=null}}else qt=er=0;if(vt>Ce&&(Qe=Math.min(Math.abs(Ne-Re)/2,+k.apply(this,arguments)))>.001){et=Re<Ne^mt?0:1;var cr=Qe,mr=Qe;if(vt<oe){var br=ur==null?[qt,er]:jt==null?[zt,Xt]:wr([zt,Xt],[ur,tr],[jt,Kt],[qt,er]),Pr=zt-br[0],Ur=Xt-br[1],Wr=jt-br[0],Jr=Kt-br[1],Qr=1/Math.sin(Math.acos((Pr*Wr+Ur*Jr)/(Math.sqrt(Pr*Pr+Ur*Ur)*Math.sqrt(Wr*Wr+Jr*Jr)))/2),Kr=Math.sqrt(br[0]*br[0]+br[1]*br[1]);mr=Math.min(Qe,(Re-Kr)/(Qr-1)),cr=Math.min(Qe,(Ne-Kr)/(Qr+1))}if(jt!=null){var jr=ja(ur==null?[qt,er]:[ur,tr],[zt,Xt],Ne,cr,mt),Xr=ja([jt,Kt],[qt,er],Ne,cr,mt);Qe===cr?fr.push("M",jr[0],"A",cr,",",cr," 0 0,",et," ",jr[1],"A",Ne,",",Ne," 0 ",1-mt^$a(jr[1][0],jr[1][1],Xr[1][0],Xr[1][1]),",",mt," ",Xr[1],"A",cr,",",cr," 0 0,",et," ",Xr[0]):fr.push("M",jr[0],"A",cr,",",cr," 0 1,",et," ",Xr[0])}else fr.push("M",zt,",",Xt);if(ur!=null){var qr=ja([zt,Xt],[ur,tr],Re,-mr,mt),Ra=ja([qt,er],jt==null?[zt,Xt]:[jt,Kt],Re,-mr,mt);Qe===mr?fr.push("L",Ra[0],"A",mr,",",mr," 0 0,",et," ",Ra[1],"A",Re,",",Re," 0 ",mt^$a(Ra[1][0],Ra[1][1],qr[1][0],qr[1][1]),",",1-mt," ",qr[1],"A",mr,",",mr," 0 0,",et," ",qr[0]):fr.push("L",Ra[0],"A",mr,",",mr," 0 0,",et," ",qr[0])}else fr.push("L",qt,",",er)}else fr.push("M",zt,",",Xt),jt!=null&&fr.push("A",Ne,",",Ne," 0 ",xr,",",mt," ",jt,",",Kt),fr.push("L",qt,",",er),ur!=null&&fr.push("A",Re,",",Re," 0 ",Ar,",",1-mt," ",ur,",",tr);return fr.push("Z"),fr.join("")}function ge(Re,Ne){return"M0,"+Re+"A"+Re+","+Re+" 0 1,"+Ne+" 0,"+-Re+"A"+Re+","+Re+" 0 1,"+Ne+" 0,"+Re}return se.innerRadius=function(Re){return arguments.length?(a=Lt(Re),se):a},se.outerRadius=function(Re){return arguments.length?(A=Lt(Re),se):A},se.cornerRadius=function(Re){return arguments.length?(k=Lt(Re),se):k},se.padRadius=function(Re){return arguments.length?(V=Re==Qa?Qa:Lt(Re),se):V},se.startAngle=function(Re){return arguments.length?(Q=Lt(Re),se):Q},se.endAngle=function(Re){return arguments.length?(ee=Lt(Re),se):ee},se.padAngle=function(Re){return arguments.length?(de=Lt(Re),se):de},se.centroid=function(){var Re=(+a.apply(this,arguments)+ +A.apply(this,arguments))/2,Ne=(+Q.apply(this,arguments)+ +ee.apply(this,arguments))/2-Se;return[Math.cos(Ne)*Re,Math.sin(Ne)*Re]},se};var Qa="auto";function Xl(a){return a.innerRadius}function Jl(a){return a.outerRadius}function ui(a){return a.startAngle}function ci(a){return a.endAngle}function Kl(a){return a&&a.padAngle}function $a(a,A,k,V){return(a-k)*A-(A-V)*a>0?0:1}function ja(a,A,k,V,Q){var ee=a[0]-A[0],de=a[1]-A[1],se=(Q?V:-V)/Math.sqrt(ee*ee+de*de),ge=se*de,Re=-se*ee,Ne=a[0]+ge,We=a[1]+Re,Ze=A[0]+ge,vt=A[1]+Re,mt=(Ne+Ze)/2,Qe=(We+vt)/2,et=Ze-Ne,lt=vt-We,yt=et*et+lt*lt,bt=k-V,ft=Ne*vt-Ze*We,zt=(lt<0?-1:1)*Math.sqrt(Math.max(0,bt*bt*yt-ft*ft)),Xt=(ft*lt-et*zt)/yt,jt=(-ft*et-lt*zt)/yt,Kt=(ft*lt+et*zt)/yt,qt=(-ft*et+lt*zt)/yt,er=Xt-mt,ur=jt-Qe,tr=Kt-mt,fr=qt-Qe;return er*er+ur*ur>tr*tr+fr*fr&&(Xt=Kt,jt=qt),[[Xt-ge,jt-Re],[Xt*k/bt,jt*k/bt]]}function vi(){return!0}function di(a){var A=yr,k=hr,V=vi,Q=fa,ee=Q.key,de=.7;function se(ge){var Re=[],Ne=[],We=-1,Ze=ge.length,vt,mt=Lt(A),Qe=Lt(k);function et(){Re.push("M",Q(a(Ne),de))}for(;++We<Ze;)V.call(this,vt=ge[We],We)?Ne.push([+mt.call(this,vt,We),+Qe.call(this,vt,We)]):Ne.length&&(et(),Ne=[]);return Ne.length&&et(),Re.length?Re.join(""):null}return se.x=function(ge){return arguments.length?(A=ge,se):A},se.y=function(ge){return arguments.length?(k=ge,se):k},se.defined=function(ge){return arguments.length?(V=ge,se):V},se.interpolate=function(ge){return arguments.length?(typeof ge=="function"?ee=Q=ge:ee=(Q=xn.get(ge)||fa).key,se):ee},se.tension=function(ge){return arguments.length?(de=ge,se):de},se}s.svg.line=function(){return di(F)};var xn=s.map({linear:fa,"linear-closed":hi,step:Ql,"step-before":bn,"step-after":Tn,basis:mi,"basis-open":eo,"basis-closed":to,bundle:ro,cardinal:ql,"cardinal-open":$l,"cardinal-closed":jl,monotone:io});xn.forEach(function(a,A){A.key=a,A.closed=/-closed$/.test(a)});function fa(a){return a.length>1?a.join("L"):a+"Z"}function hi(a){return a.join("L")+"Z"}function Ql(a){for(var A=0,k=a.length,V=a[0],Q=[V[0],",",V[1]];++A<k;)Q.push("H",(V[0]+(V=a[A])[0])/2,"V",V[1]);return k>1&&Q.push("H",V[0]),Q.join("")}function bn(a){for(var A=0,k=a.length,V=a[0],Q=[V[0],",",V[1]];++A<k;)Q.push("V",(V=a[A])[1],"H",V[0]);return Q.join("")}function Tn(a){for(var A=0,k=a.length,V=a[0],Q=[V[0],",",V[1]];++A<k;)Q.push("H",(V=a[A])[0],"V",V[1]);return Q.join("")}function $l(a,A){return a.length<4?fa(a):a[1]+qa(a.slice(1,-1),Mn(a,A))}function jl(a,A){return a.length<3?hi(a):a[0]+qa((a.push(a[0]),a),Mn([a[a.length-2]].concat(a,[a[1]]),A))}function ql(a,A){return a.length<3?fa(a):a[0]+qa(a,Mn(a,A))}function qa(a,A){if(A.length<1||a.length!=A.length&&a.length!=A.length+2)return fa(a);var k=a.length!=A.length,V="",Q=a[0],ee=a[1],de=A[0],se=de,ge=1;if(k&&(V+="Q"+(ee[0]-de[0]*2/3)+","+(ee[1]-de[1]*2/3)+","+ee[0]+","+ee[1],Q=a[1],ge=2),A.length>1){se=A[1],ee=a[ge],ge++,V+="C"+(Q[0]+de[0])+","+(Q[1]+de[1])+","+(ee[0]-se[0])+","+(ee[1]-se[1])+","+ee[0]+","+ee[1];for(var Re=2;Re<A.length;Re++,ge++)ee=a[ge],se=A[Re],V+="S"+(ee[0]-se[0])+","+(ee[1]-se[1])+","+ee[0]+","+ee[1]}if(k){var Ne=a[ge];V+="Q"+(ee[0]+se[0]*2/3)+","+(ee[1]+se[1]*2/3)+","+Ne[0]+","+Ne[1]}return V}function Mn(a,A){for(var k=[],V=(1-A)/2,Q,ee=a[0],de=a[1],se=1,ge=a.length;++se<ge;)Q=ee,ee=de,de=a[se],k.push([V*(de[0]-Q[0]),V*(de[1]-Q[1])]);return k}function mi(a){if(a.length<3)return fa(a);var A=1,k=a.length,V=a[0],Q=V[0],ee=V[1],de=[Q,Q,Q,(V=a[1])[0]],se=[ee,ee,ee,V[1]],ge=[Q,",",ee,"L",na(La,de),",",na(La,se)];for(a.push(a[k-1]);++A<=k;)V=a[A],de.shift(),de.push(V[0]),se.shift(),se.push(V[1]),An(ge,de,se);return a.pop(),ge.push("L",V),ge.join("")}function eo(a){if(a.length<4)return fa(a);for(var A=[],k=-1,V=a.length,Q,ee=[0],de=[0];++k<3;)Q=a[k],ee.push(Q[0]),de.push(Q[1]);for(A.push(na(La,ee)+","+na(La,de)),--k;++k<V;)Q=a[k],ee.shift(),ee.push(Q[0]),de.shift(),de.push(Q[1]),An(A,ee,de);return A.join("")}function to(a){for(var A,k=-1,V=a.length,Q=V+4,ee,de=[],se=[];++k<4;)ee=a[k%V],de.push(ee[0]),se.push(ee[1]);for(A=[na(La,de),",",na(La,se)],--k;++k<Q;)ee=a[k%V],de.shift(),de.push(ee[0]),se.shift(),se.push(ee[1]),An(A,de,se);return A.join("")}function ro(a,A){var k=a.length-1;if(k)for(var V=a[0][0],Q=a[0][1],ee=a[k][0]-V,de=a[k][1]-Q,se=-1,ge,Re;++se<=k;)ge=a[se],Re=se/k,ge[0]=A*ge[0]+(1-A)*(V+Re*ee),ge[1]=A*ge[1]+(1-A)*(Q+Re*de);return mi(a)}function na(a,A){return a[0]*A[0]+a[1]*A[1]+a[2]*A[2]+a[3]*A[3]}var yi=[0,2/3,1/3,0],pi=[0,1/3,2/3,0],La=[0,1/6,2/3,1/6];function An(a,A,k){a.push("C",na(yi,A),",",na(yi,k),",",na(pi,A),",",na(pi,k),",",na(La,A),",",na(La,k))}function wn(a,A){return(A[1]-a[1])/(A[0]-a[0])}function ao(a){for(var A=0,k=a.length-1,V=[],Q=a[0],ee=a[1],de=V[0]=wn(Q,ee);++A<k;)V[A]=(de+(de=wn(Q=ee,ee=a[A+1])))/2;return V[A]=de,V}function no(a){for(var A=[],k,V,Q,ee,de=ao(a),se=-1,ge=a.length-1;++se<ge;)k=wn(a[se],a[se+1]),v(k)<Ce?de[se]=de[se+1]=0:(V=de[se]/k,Q=de[se+1]/k,ee=V*V+Q*Q,ee>9&&(ee=k*3/Math.sqrt(ee),de[se]=ee*V,de[se+1]=ee*Q));for(se=-1;++se<=ge;)ee=(a[Math.min(ge,se+1)][0]-a[Math.max(0,se-1)][0])/(6*(1+de[se]*de[se])),A.push([ee||0,de[se]*ee||0]);return A}function io(a){return a.length<3?fa(a):a[0]+qa(a,no(a))}s.svg.line.radial=function(){var a=di(gi);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a};function gi(a){for(var A,k=-1,V=a.length,Q,ee;++k<V;)A=a[k],Q=A[0],ee=A[1]-Se,A[0]=Q*Math.cos(ee),A[1]=Q*Math.sin(ee);return a}function xi(a){var A=yr,k=yr,V=0,Q=hr,ee=vi,de=fa,se=de.key,ge=de,Re="L",Ne=.7;function We(Ze){var vt=[],mt=[],Qe=[],et=-1,lt=Ze.length,yt,bt=Lt(A),ft=Lt(V),zt=A===k?function(){return jt}:Lt(k),Xt=V===Q?function(){return Kt}:Lt(Q),jt,Kt;function qt(){vt.push("M",de(a(Qe),Ne),Re,ge(a(mt.reverse()),Ne),"Z")}for(;++et<lt;)ee.call(this,yt=Ze[et],et)?(mt.push([jt=+bt.call(this,yt,et),Kt=+ft.call(this,yt,et)]),Qe.push([+zt.call(this,yt,et),+Xt.call(this,yt,et)])):mt.length&&(qt(),mt=[],Qe=[]);return mt.length&&qt(),vt.length?vt.join(""):null}return We.x=function(Ze){return arguments.length?(A=k=Ze,We):k},We.x0=function(Ze){return arguments.length?(A=Ze,We):A},We.x1=function(Ze){return arguments.length?(k=Ze,We):k},We.y=function(Ze){return arguments.length?(V=Q=Ze,We):Q},We.y0=function(Ze){return arguments.length?(V=Ze,We):V},We.y1=function(Ze){return arguments.length?(Q=Ze,We):Q},We.defined=function(Ze){return arguments.length?(ee=Ze,We):ee},We.interpolate=function(Ze){return arguments.length?(typeof Ze=="function"?se=de=Ze:se=(de=xn.get(Ze)||fa).key,ge=de.reverse||de,Re=de.closed?"M":"L",We):se},We.tension=function(Ze){return arguments.length?(Ne=Ze,We):Ne},We}bn.reverse=Tn,Tn.reverse=bn,s.svg.area=function(){return xi(F)},s.svg.area.radial=function(){var a=xi(gi);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a};function bi(a){return a.source}function Ti(a){return a.target}s.svg.chord=function(){var a=bi,A=Ti,k=lo,V=ui,Q=ci;function ee(Ne,We){var Ze=de(this,a,Ne,We),vt=de(this,A,Ne,We);return"M"+Ze.p0+ge(Ze.r,Ze.p1,Ze.a1-Ze.a0)+(se(Ze,vt)?Re(Ze.r,Ze.p1,Ze.r,Ze.p0):Re(Ze.r,Ze.p1,vt.r,vt.p0)+ge(vt.r,vt.p1,vt.a1-vt.a0)+Re(vt.r,vt.p1,Ze.r,Ze.p0))+"Z"}function de(Ne,We,Ze,vt){var mt=We.call(Ne,Ze,vt),Qe=k.call(Ne,mt,vt),et=V.call(Ne,mt,vt)-Se,lt=Q.call(Ne,mt,vt)-Se;return{r:Qe,a0:et,a1:lt,p0:[Qe*Math.cos(et),Qe*Math.sin(et)],p1:[Qe*Math.cos(lt),Qe*Math.sin(lt)]}}function se(Ne,We){return Ne.a0==We.a0&&Ne.a1==We.a1}function ge(Ne,We,Ze){return"A"+Ne+","+Ne+" 0 "+ +(Ze>oe)+",1 "+We}function Re(Ne,We,Ze,vt){return"Q 0,0 "+vt}return ee.radius=function(Ne){return arguments.length?(k=Lt(Ne),ee):k},ee.source=function(Ne){return arguments.length?(a=Lt(Ne),ee):a},ee.target=function(Ne){return arguments.length?(A=Lt(Ne),ee):A},ee.startAngle=function(Ne){return arguments.length?(V=Lt(Ne),ee):V},ee.endAngle=function(Ne){return arguments.length?(Q=Lt(Ne),ee):Q},ee};function lo(a){return a.radius}s.svg.diagonal=function(){var a=bi,A=Ti,k=Mi;function V(Q,ee){var de=a.call(this,Q,ee),se=A.call(this,Q,ee),ge=(de.y+se.y)/2,Re=[de,{x:de.x,y:ge},{x:se.x,y:ge},se];return Re=Re.map(k),"M"+Re[0]+"C"+Re[1]+" "+Re[2]+" "+Re[3]}return V.source=function(Q){return arguments.length?(a=Lt(Q),V):a},V.target=function(Q){return arguments.length?(A=Lt(Q),V):A},V.projection=function(Q){return arguments.length?(k=Q,V):k},V};function Mi(a){return[a.x,a.y]}s.svg.diagonal.radial=function(){var a=s.svg.diagonal(),A=Mi,k=a.projection;return a.projection=function(V){return arguments.length?k(oo(A=V)):A},a};function oo(a){return function(){var A=a.apply(this,arguments),k=A[0],V=A[1]-Se;return[k*Math.cos(V),k*Math.sin(V)]}}s.svg.symbol=function(){var a=fo,A=so;function k(V,Q){return(wi.get(a.call(this,V,Q))||Ai)(A.call(this,V,Q))}return k.type=function(V){return arguments.length?(a=Lt(V),k):a},k.size=function(V){return arguments.length?(A=Lt(V),k):A},k};function so(){return 64}function fo(){return"circle"}function Ai(a){var A=Math.sqrt(a/oe);return"M0,"+A+"A"+A+","+A+" 0 1,1 0,"+-A+"A"+A+","+A+" 0 1,1 0,"+A+"Z"}var wi=s.map({circle:Ai,cross:function(a){var A=Math.sqrt(a/5)/2;return"M"+-3*A+","+-A+"H"+-A+"V"+-3*A+"H"+A+"V"+-A+"H"+3*A+"V"+A+"H"+A+"V"+3*A+"H"+-A+"V"+A+"H"+-3*A+"Z"},diamond:function(a){var A=Math.sqrt(a/(2*Li)),k=A*Li;return"M0,"+-A+"L"+k+",0 0,"+A+" "+-k+",0Z"},square:function(a){var A=Math.sqrt(a)/2;return"M"+-A+","+-A+"L"+A+","+-A+" "+A+","+A+" "+-A+","+A+"Z"},"triangle-down":function(a){var A=Math.sqrt(a/en),k=A*en/2;return"M0,"+k+"L"+A+","+-k+" "+-A+","+-k+"Z"},"triangle-up":function(a){var A=Math.sqrt(a/en),k=A*en/2;return"M0,"+-k+"L"+A+","+k+" "+-A+","+k+"Z"}});s.svg.symbolTypes=wi.keys();var en=Math.sqrt(3),Li=Math.tan(30*ze);C.transition=function(a){for(var A=Pa||++Ci,k=Sn(a),V=[],Q,ee,de=rn||{time:Date.now(),ease:Ui,delay:0,duration:250},se=-1,ge=this.length;++se<ge;){V.push(Q=[]);for(var Re=this[se],Ne=-1,We=Re.length;++Ne<We;)(ee=Re[Ne])&&an(ee,Ne,k,A,de),Q.push(ee)}return Ga(V,k,A)},C.interrupt=function(a){return this.each(a==null?tn:Si(Sn(a)))};var tn=Si(Sn());function Si(a){return function(){var A,k,V;(A=this[a])&&(V=A[k=A.active])&&(V.timer.c=null,V.timer.t=NaN,--A.count?delete A[k]:delete this[a],A.active+=.5,V.event&&V.event.interrupt.call(this,this.__data__,V.index))}}function Ga(a,A,k){return H(a,Yr),a.namespace=A,a.id=k,a}var Yr=[],Ci=0,Pa,rn;Yr.call=C.call,Yr.empty=C.empty,Yr.node=C.node,Yr.size=C.size,s.transition=function(a,A){return a&&a.transition?Pa?a.transition(A):a:s.selection().transition(a)},s.transition.prototype=Yr,Yr.select=function(a){var A=this.id,k=this.namespace,V=[],Q,ee,de;a=K(a);for(var se=-1,ge=this.length;++se<ge;){V.push(Q=[]);for(var Re=this[se],Ne=-1,We=Re.length;++Ne<We;)(de=Re[Ne])&&(ee=a.call(de,de.__data__,Ne,se))?("__data__"in de&&(ee.__data__=de.__data__),an(ee,Ne,k,A,de[k][A]),Q.push(ee)):Q.push(null)}return Ga(V,k,A)},Yr.selectAll=function(a){var A=this.id,k=this.namespace,V=[],Q,ee,de,se,ge;a=P(a);for(var Re=-1,Ne=this.length;++Re<Ne;)for(var We=this[Re],Ze=-1,vt=We.length;++Ze<vt;)if(de=We[Ze]){ge=de[k][A],ee=a.call(de,de.__data__,Ze,Re),V.push(Q=[]);for(var mt=-1,Qe=ee.length;++mt<Qe;)(se=ee[mt])&&an(se,mt,k,A,ge),Q.push(se)}return Ga(V,k,A)},Yr.filter=function(a){var A=[],k,V,Q;typeof a!="function"&&(a=Ke(a));for(var ee=0,de=this.length;ee<de;ee++){A.push(k=[]);for(var V=this[ee],se=0,ge=V.length;se<ge;se++)(Q=V[se])&&a.call(Q,Q.__data__,se,ee)&&k.push(Q)}return Ga(A,this.namespace,this.id)},Yr.tween=function(a,A){var k=this.id,V=this.namespace;return arguments.length<2?this.node()[V][k].tween.get(a):Je(this,A==null?function(Q){Q[V][k].tween.remove(a)}:function(Q){Q[V][k].tween.set(a,A)})};function Ln(a,A,k,V){var Q=a.id,ee=a.namespace;return Je(a,typeof k=="function"?function(de,se,ge){de[ee][Q].tween.set(A,V(k.call(de,de.__data__,se,ge)))}:(k=V(k),function(de){de[ee][Q].tween.set(A,k)}))}Yr.attr=function(a,A){if(arguments.length<2){for(A in a)this.attr(A,a[A]);return this}var k=a=="transform"?On:ka,V=s.ns.qualify(a);function Q(){this.removeAttribute(V)}function ee(){this.removeAttributeNS(V.space,V.local)}function de(ge){return ge==null?Q:(ge+="",function(){var Re=this.getAttribute(V),Ne;return Re!==ge&&(Ne=k(Re,ge),function(We){this.setAttribute(V,Ne(We))})})}function se(ge){return ge==null?ee:(ge+="",function(){var Re=this.getAttributeNS(V.space,V.local),Ne;return Re!==ge&&(Ne=k(Re,ge),function(We){this.setAttributeNS(V.space,V.local,Ne(We))})})}return Ln(this,"attr."+a,A,V.local?se:de)},Yr.attrTween=function(a,A){var k=s.ns.qualify(a);function V(ee,de){var se=A.call(this,ee,de,this.getAttribute(k));return se&&function(ge){this.setAttribute(k,se(ge))}}function Q(ee,de){var se=A.call(this,ee,de,this.getAttributeNS(k.space,k.local));return se&&function(ge){this.setAttributeNS(k.space,k.local,se(ge))}}return this.tween("attr."+a,k.local?Q:V)},Yr.style=function(a,A,k){var V=arguments.length;if(V<3){if(typeof a!="string"){V<2&&(A="");for(k in a)this.style(k,a[k],A);return this}k=""}function Q(){this.style.removeProperty(a)}function ee(de){return de==null?Q:(de+="",function(){var se=n(this).getComputedStyle(this,null).getPropertyValue(a),ge;return se!==de&&(ge=ka(se,de),function(Re){this.style.setProperty(a,ge(Re),k)})})}return Ln(this,"style."+a,A,ee)},Yr.styleTween=function(a,A,k){arguments.length<3&&(k="");function V(Q,ee){var de=A.call(this,Q,ee,n(this).getComputedStyle(this,null).getPropertyValue(a));return de&&function(se){this.style.setProperty(a,de(se),k)}}return this.tween("style."+a,V)},Yr.text=function(a){return Ln(this,"text",a,uo)};function uo(a){return a==null&&(a=""),function(){this.textContent=a}}Yr.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var A;this[a].count<2&&(A=this.parentNode)&&A.removeChild(this)})},Yr.ease=function(a){var A=this.id,k=this.namespace;return arguments.length<1?this.node()[k][A].ease:(typeof a!="function"&&(a=s.ease.apply(s,arguments)),Je(this,function(V){V[k][A].ease=a}))},Yr.delay=function(a){var A=this.id,k=this.namespace;return arguments.length<1?this.node()[k][A].delay:Je(this,typeof a=="function"?function(V,Q,ee){V[k][A].delay=+a.call(V,V.__data__,Q,ee)}:(a=+a,function(V){V[k][A].delay=a}))},Yr.duration=function(a){var A=this.id,k=this.namespace;return arguments.length<1?this.node()[k][A].duration:Je(this,typeof a=="function"?function(V,Q,ee){V[k][A].duration=Math.max(1,a.call(V,V.__data__,Q,ee))}:(a=Math.max(1,a),function(V){V[k][A].duration=a}))},Yr.each=function(a,A){var k=this.id,V=this.namespace;if(arguments.length<2){var Q=rn,ee=Pa;try{Pa=k,Je(this,function(de,se,ge){rn=de[V][k],a.call(de,de.__data__,se,ge)})}finally{rn=Q,Pa=ee}}else Je(this,function(de){var se=de[V][k];(se.event||(se.event=s.dispatch("start","end","interrupt"))).on(a,A)});return this},Yr.transition=function(){for(var a=this.id,A=++Ci,k=this.namespace,V=[],Q,ee,de,se,ge=0,Re=this.length;ge<Re;ge++){V.push(Q=[]);for(var ee=this[ge],Ne=0,We=ee.length;Ne<We;Ne++)(de=ee[Ne])&&(se=de[k][a],an(de,Ne,k,A,{time:se.time,ease:se.ease,delay:se.delay+se.duration,duration:se.duration})),Q.push(de)}return Ga(V,k,A)};function Sn(a){return a==null?"__transition__":"__transition_"+a+"__"}function an(a,A,k,V,Q){var ee=a[k]||(a[k]={active:0,count:0}),de=ee[V],se,ge,Re,Ne,We;function Ze(Qe){var et=de.delay;if(ge.t=et+se,et<=Qe)return vt(Qe-et);ge.c=vt}function vt(Qe){var et=ee.active,lt=ee[et];lt&&(lt.timer.c=null,lt.timer.t=NaN,--ee.count,delete ee[et],lt.event&&lt.event.interrupt.call(a,a.__data__,lt.index));for(var yt in ee)if(+yt<V){var bt=ee[yt];bt.timer.c=null,bt.timer.t=NaN,--ee.count,delete ee[yt]}ge.c=mt,sr(function(){return ge.c&&mt(Qe||1)&&(ge.c=null,ge.t=NaN),1},0,se),ee.active=V,de.event&&de.event.start.call(a,a.__data__,A),We=[],de.tween.forEach(function(ft,zt){(zt=zt.call(a,a.__data__,A))&&We.push(zt)}),Ne=de.ease,Re=de.duration}function mt(Qe){for(var et=Qe/Re,lt=Ne(et),yt=We.length;yt>0;)We[--yt].call(a,lt);if(et>=1)return de.event&&de.event.end.call(a,a.__data__,A),--ee.count?delete ee[V]:delete a[k],1}de||(se=Q.time,ge=sr(Ze,0,se),de=ee[V]={tween:new _,time:se,timer:ge,delay:Q.delay,duration:Q.duration,ease:Q.ease,index:A},Q=null,++ee.count)}s.svg.axis=function(){var a=s.scale.linear(),A=Di,k=6,V=6,Q=3,ee=[10],de=null,se;function ge(Re){Re.each(function(){var Ne=s.select(this),We=this.__chart__||a,Ze=this.__chart__=a.copy(),vt=de??(Ze.ticks?Ze.ticks.apply(Ze,ee):Ze.domain()),mt=se??(Ze.tickFormat?Ze.tickFormat.apply(Ze,ee):F),Qe=Ne.selectAll(".tick").data(vt,Ze),et=Qe.enter().insert("g",".domain").attr("class","tick").style("opacity",Ce),lt=s.transition(Qe.exit()).style("opacity",Ce).remove(),yt=s.transition(Qe.order()).style("opacity",1),bt=Math.max(k,0)+Q,ft,zt=Ja(Ze),Xt=Ne.selectAll(".domain").data([0]),jt=(Xt.enter().append("path").attr("class","domain"),s.transition(Xt));et.append("line"),et.append("text");var Kt=et.select("line"),qt=yt.select("line"),er=Qe.select("text").text(mt),ur=et.select("text"),tr=yt.select("text"),fr=A==="top"||A==="left"?-1:1,xr,Er,Ar,Zt;if(A==="bottom"||A==="top"?(ft=vo,xr="x",Ar="y",Er="x2",Zt="y2",er.attr("dy",fr<0?"0em":".71em").style("text-anchor","middle"),jt.attr("d","M"+zt[0]+","+fr*V+"V0H"+zt[1]+"V"+fr*V)):(ft=ho,xr="y",Ar="x",Er="y2",Zt="x2",er.attr("dy",".32em").style("text-anchor",fr<0?"end":"start"),jt.attr("d","M"+fr*V+","+zt[0]+"H0V"+zt[1]+"H"+fr*V)),Kt.attr(Zt,fr*k),ur.attr(Ar,fr*bt),qt.attr(Er,0).attr(Zt,fr*k),tr.attr(xr,0).attr(Ar,fr*bt),Ze.rangeBand){var cr=Ze,mr=cr.rangeBand()/2;We=Ze=function(br){return cr(br)+mr}}else We.rangeBand?We=Ze:lt.call(ft,Ze,We);et.call(ft,We,Ze),yt.call(ft,Ze,Ze)})}return ge.scale=function(Re){return arguments.length?(a=Re,ge):a},ge.orient=function(Re){return arguments.length?(A=Re in co?Re+"":Di,ge):A},ge.ticks=function(){return arguments.length?(ee=r(arguments),ge):ee},ge.tickValues=function(Re){return arguments.length?(de=Re,ge):de},ge.tickFormat=function(Re){return arguments.length?(se=Re,ge):se},ge.tickSize=function(Re){var Ne=arguments.length;return Ne?(k=+Re,V=+arguments[Ne-1],ge):k},ge.innerTickSize=function(Re){return arguments.length?(k=+Re,ge):k},ge.outerTickSize=function(Re){return arguments.length?(V=+Re,ge):V},ge.tickPadding=function(Re){return arguments.length?(Q=+Re,ge):Q},ge.tickSubdivide=function(){return arguments.length&&ge},ge};var Di="bottom",co={top:1,right:1,bottom:1,left:1};function vo(a,A,k){a.attr("transform",function(V){var Q=A(V);return"translate("+(isFinite(Q)?Q:k(V))+",0)"})}function ho(a,A,k){a.attr("transform",function(V){var Q=A(V);return"translate(0,"+(isFinite(Q)?Q:k(V))+")"})}s.svg.brush=function(){var a=le(Ne,"brushstart","brush","brushend"),A=null,k=null,V=[0,0],Q=[0,0],ee,de,se=!0,ge=!0,Re=Cn[0];function Ne(Qe){Qe.each(function(){var et=s.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",mt).on("touchstart.brush",mt),lt=et.selectAll(".background").data([0]);lt.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),et.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var yt=et.selectAll(".resize").data(Re,F);yt.exit().remove(),yt.enter().append("g").attr("class",function(Xt){return"resize "+Xt}).style("cursor",function(Xt){return mo[Xt]}).append("rect").attr("x",function(Xt){return/[ew]$/.test(Xt)?-3:null}).attr("y",function(Xt){return/^[ns]/.test(Xt)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),yt.style("display",Ne.empty()?"none":null);var bt=s.transition(et),ft=s.transition(lt),zt;A&&(zt=Ja(A),ft.attr("x",zt[0]).attr("width",zt[1]-zt[0]),Ze(bt)),k&&(zt=Ja(k),ft.attr("y",zt[0]).attr("height",zt[1]-zt[0]),vt(bt)),We(bt)})}Ne.event=function(Qe){Qe.each(function(){var et=a.of(this,arguments),lt={x:V,y:Q,i:ee,j:de},yt=this.__chart__||lt;this.__chart__=lt,Pa?s.select(this).transition().each("start.brush",function(){ee=yt.i,de=yt.j,V=yt.x,Q=yt.y,et({type:"brushstart"})}).tween("brush:brush",function(){var bt=Za(V,lt.x),ft=Za(Q,lt.y);return ee=de=null,function(zt){V=lt.x=bt(zt),Q=lt.y=ft(zt),et({type:"brush",mode:"resize"})}}).each("end.brush",function(){ee=lt.i,de=lt.j,et({type:"brush",mode:"resize"}),et({type:"brushend"})}):(et({type:"brushstart"}),et({type:"brush",mode:"resize"}),et({type:"brushend"}))})};function We(Qe){Qe.selectAll(".resize").attr("transform",function(et){return"translate("+V[+/e$/.test(et)]+","+Q[+/^s/.test(et)]+")"})}function Ze(Qe){Qe.select(".extent").attr("x",V[0]),Qe.selectAll(".extent,.n>rect,.s>rect").attr("width",V[1]-V[0])}function vt(Qe){Qe.select(".extent").attr("y",Q[0]),Qe.selectAll(".extent,.e>rect,.w>rect").attr("height",Q[1]-Q[0])}function mt(){var Qe=this,et=s.select(s.event.target),lt=a.of(Qe,arguments),yt=s.select(Qe),bt=et.datum(),ft=!/^(n|s)$/.test(bt)&&A,zt=!/^(e|w)$/.test(bt)&&k,Xt=et.classed("extent"),jt=At(Qe),Kt,qt=s.mouse(Qe),er,ur=s.select(n(Qe)).on("keydown.brush",xr).on("keyup.brush",Er);if(s.event.changedTouches?ur.on("touchmove.brush",Ar).on("touchend.brush",cr):ur.on("mousemove.brush",Ar).on("mouseup.brush",cr),yt.interrupt().selectAll("*").interrupt(),Xt)qt[0]=V[0]-qt[0],qt[1]=Q[0]-qt[1];else if(bt){var tr=+/w$/.test(bt),fr=+/^n/.test(bt);er=[V[1-tr]-qt[0],Q[1-fr]-qt[1]],qt[0]=V[tr],qt[1]=Q[fr]}else s.event.altKey&&(Kt=qt.slice());yt.style("pointer-events","none").selectAll(".resize").style("display",null),s.select("body").style("cursor",et.style("cursor")),lt({type:"brushstart"}),Ar();function xr(){s.event.keyCode==32&&(Xt||(Kt=null,qt[0]-=V[1],qt[1]-=Q[1],Xt=2),ye())}function Er(){s.event.keyCode==32&&Xt==2&&(qt[0]+=V[1],qt[1]+=Q[1],Xt=0,ye())}function Ar(){var mr=s.mouse(Qe),br=!1;er&&(mr[0]+=er[0],mr[1]+=er[1]),Xt||(s.event.altKey?(Kt||(Kt=[(V[0]+V[1])/2,(Q[0]+Q[1])/2]),qt[0]=V[+(mr[0]<Kt[0])],qt[1]=Q[+(mr[1]<Kt[1])]):Kt=null),ft&&Zt(mr,A,0)&&(Ze(yt),br=!0),zt&&Zt(mr,k,1)&&(vt(yt),br=!0),br&&(We(yt),lt({type:"brush",mode:Xt?"move":"resize"}))}function Zt(mr,br,Pr){var Ur=Ja(br),Wr=Ur[0],Jr=Ur[1],Qr=qt[Pr],Kr=Pr?Q:V,jr=Kr[1]-Kr[0],Xr,qr;if(Xt&&(Wr-=Qr,Jr-=jr+Qr),Xr=(Pr?ge:se)?Math.max(Wr,Math.min(Jr,mr[Pr])):mr[Pr],Xt?qr=(Xr+=Qr)+jr:(Kt&&(Qr=Math.max(Wr,Math.min(Jr,2*Kt[Pr]-Xr))),Qr<Xr?(qr=Xr,Xr=Qr):qr=Qr),Kr[0]!=Xr||Kr[1]!=qr)return Pr?de=null:ee=null,Kr[0]=Xr,Kr[1]=qr,!0}function cr(){Ar(),yt.style("pointer-events","all").selectAll(".resize").style("display",Ne.empty()?"none":null),s.select("body").style("cursor",null),ur.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),jt(),lt({type:"brushend"})}}return Ne.x=function(Qe){return arguments.length?(A=Qe,Re=Cn[!A<<1|!k],Ne):A},Ne.y=function(Qe){return arguments.length?(k=Qe,Re=Cn[!A<<1|!k],Ne):k},Ne.clamp=function(Qe){return arguments.length?(A&&k?(se=!!Qe[0],ge=!!Qe[1]):A?se=!!Qe:k&&(ge=!!Qe),Ne):A&&k?[se,ge]:A?se:k?ge:null},Ne.extent=function(Qe){var et,lt,yt,bt,ft;return arguments.length?(A&&(et=Qe[0],lt=Qe[1],k&&(et=et[0],lt=lt[0]),ee=[et,lt],A.invert&&(et=A(et),lt=A(lt)),lt<et&&(ft=et,et=lt,lt=ft),(et!=V[0]||lt!=V[1])&&(V=[et,lt])),k&&(yt=Qe[0],bt=Qe[1],A&&(yt=yt[1],bt=bt[1]),de=[yt,bt],k.invert&&(yt=k(yt),bt=k(bt)),bt<yt&&(ft=yt,yt=bt,bt=ft),(yt!=Q[0]||bt!=Q[1])&&(Q=[yt,bt])),Ne):(A&&(ee?(et=ee[0],lt=ee[1]):(et=V[0],lt=V[1],A.invert&&(et=A.invert(et),lt=A.invert(lt)),lt<et&&(ft=et,et=lt,lt=ft))),k&&(de?(yt=de[0],bt=de[1]):(yt=Q[0],bt=Q[1],k.invert&&(yt=k.invert(yt),bt=k.invert(bt)),bt<yt&&(ft=yt,yt=bt,bt=ft))),A&&k?[[et,yt],[lt,bt]]:A?[et,lt]:k&&[yt,bt])},Ne.clear=function(){return Ne.empty()||(V=[0,0],Q=[0,0],ee=de=null),Ne},Ne.empty=function(){return!!A&&V[0]==V[1]||!!k&&Q[0]==Q[1]},s.rebind(Ne,a,"on")};var mo={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Cn=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];s.text=$t(function(a){return a.responseText}),s.json=function(a,A){return Et(a,"application/json",yo,A)};function yo(a){return JSON.parse(a.responseText)}s.html=function(a,A){return Et(a,"text/html",po,A)};function po(a){var A=f.createRange();return A.selectNode(f.body),A.createContextualFragment(a.responseText)}s.xml=$t(function(a){return a.responseXML}),o=s,g=typeof o=="function"?o.call(I,e,I,te):o,g!==void 0&&(te.exports=g)}).apply(self)},721:function(te,I,e){e.d(I,{WU:function(){return p},FF:function(){return M}});function o(b){return Math.abs(b=Math.round(b))>=1e21?b.toLocaleString("en").replace(/,/g,""):b.toString(10)}function g(b,w){if((_=(b=w?b.toExponential(w-1):b.toExponential()).indexOf("e"))<0)return null;var _,D=b.slice(0,_);return[D.length>1?D[0]+D.slice(2):D,+b.slice(_+1)]}function s(b){return b=g(Math.abs(b)),b?b[1]:NaN}function i(b,w){return function(_,D){for(var B=_.length,U=[],L=0,O=b[0],R=0;B>0&&O>0&&(R+O+1>D&&(O=Math.max(1,D-R)),U.push(_.substring(B-=O,B+O)),!((R+=O+1)>D));)O=b[L=(L+1)%b.length];return U.reverse().join(w)}}function r(b){return function(w){return w.replace(/[0-9]/g,function(_){return b[+_]})}}var f=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function l(b){if(!(w=f.exec(b)))throw new Error("invalid format: "+b);var w;return new n({fill:w[1],align:w[2],sign:w[3],symbol:w[4],zero:w[5],width:w[6],comma:w[7],precision:w[8]&&w[8].slice(1),trim:w[9],type:w[10]})}l.prototype=n.prototype;function n(b){this.fill=b.fill===void 0?" ":b.fill+"",this.align=b.align===void 0?">":b.align+"",this.sign=b.sign===void 0?"-":b.sign+"",this.symbol=b.symbol===void 0?"":b.symbol+"",this.zero=!!b.zero,this.width=b.width===void 0?void 0:+b.width,this.comma=!!b.comma,this.precision=b.precision===void 0?void 0:+b.precision,this.trim=!!b.trim,this.type=b.type===void 0?"":b.type+""}n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t(b){e:for(var w=b.length,_=1,D=-1,B;_<w;++_)switch(b[_]){case".":D=B=_;break;case"0":D===0&&(D=_),B=_;break;default:if(!+b[_])break e;D>0&&(D=0);break}return D>0?b.slice(0,D)+b.slice(B+1):b}var u;function h(b,w){var _=g(b,w);if(!_)return b+"";var D=_[0],B=_[1],U=B-(u=Math.max(-8,Math.min(8,Math.floor(B/3)))*3)+1,L=D.length;return U===L?D:U>L?D+new Array(U-L+1).join("0"):U>0?D.slice(0,U)+"."+D.slice(U):"0."+new Array(1-U).join("0")+g(b,Math.max(0,w+U-1))[0]}function m(b,w){var _=g(b,w);if(!_)return b+"";var D=_[0],B=_[1];return B<0?"0."+new Array(-B).join("0")+D:D.length>B+1?D.slice(0,B+1)+"."+D.slice(B+1):D+new Array(B-D.length+2).join("0")}var y={"%":function(b,w){return(b*100).toFixed(w)},b:function(b){return Math.round(b).toString(2)},c:function(b){return b+""},d:o,e:function(b,w){return b.toExponential(w)},f:function(b,w){return b.toFixed(w)},g:function(b,w){return b.toPrecision(w)},o:function(b){return Math.round(b).toString(8)},p:function(b,w){return m(b*100,w)},r:m,s:h,X:function(b){return Math.round(b).toString(16).toUpperCase()},x:function(b){return Math.round(b).toString(16)}};function d(b){return b}var T=Array.prototype.map,x=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function M(b){var w=b.grouping===void 0||b.thousands===void 0?d:i(T.call(b.grouping,Number),b.thousands+""),_=b.currency===void 0?"":b.currency[0]+"",D=b.currency===void 0?"":b.currency[1]+"",B=b.decimal===void 0?".":b.decimal+"",U=b.numerals===void 0?d:r(T.call(b.numerals,String)),L=b.percent===void 0?"%":b.percent+"",O=b.minus===void 0?"-":b.minus+"",R=b.nan===void 0?"NaN":b.nan+"";function Z(ie){ie=l(ie);var N=ie.fill,F=ie.align,G=ie.sign,W=ie.symbol,X=ie.zero,J=ie.width,ne=ie.comma,fe=ie.precision,ye=ie.trim,Me=ie.type;Me==="n"?(ne=!0,Me="g"):y[Me]||(fe===void 0&&(fe=12),ye=!0,Me="g"),(X||N==="0"&&F==="=")&&(X=!0,N="0",F="=");var le=W==="$"?_:W==="#"&&/[boxX]/.test(Me)?"0"+Me.toLowerCase():"",ve=W==="$"?D:/[%p]/.test(Me)?L:"",H=y[Me],Y=/[defgprs%]/.test(Me);fe=fe===void 0?6:/[gprs]/.test(Me)?Math.max(1,Math.min(21,fe)):Math.max(0,Math.min(20,fe));function S(E){var z=le,C=ve,K,P,j;if(Me==="c")C=H(E)+C,E="";else{E=+E;var ae=E<0||1/E<0;if(E=isNaN(E)?R:H(Math.abs(E),fe),ye&&(E=t(E)),ae&&+E==0&&G!=="+"&&(ae=!1),z=(ae?G==="("?G:O:G==="-"||G==="("?"":G)+z,C=(Me==="s"?x[8+u/3]:"")+C+(ae&&G==="("?")":""),Y){for(K=-1,P=E.length;++K<P;)if(j=E.charCodeAt(K),48>j||j>57){C=(j===46?B+E.slice(K+1):E.slice(K))+C,E=E.slice(0,K);break}}}ne&&!X&&(E=w(E,1/0));var ue=z.length+E.length+C.length,he=ue<J?new Array(J-ue+1).join(N):"";switch(ne&&X&&(E=w(he+E,he.length?J-C.length:1/0),he=""),F){case"<":E=z+E+C+he;break;case"=":E=z+he+E+C;break;case"^":E=he.slice(0,ue=he.length>>1)+z+E+C+he.slice(ue);break;default:E=he+z+E+C;break}return U(E)}return S.toString=function(){return ie+""},S}function $(ie,N){var F=Z((ie=l(ie),ie.type="f",ie)),G=Math.max(-8,Math.min(8,Math.floor(s(N)/3)))*3,W=Math.pow(10,-G),X=x[8+G/3];return function(J){return F(W*J)+X}}return{format:Z,formatPrefix:$}}var c,p;v({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function v(b){return c=M(b),p=c.format,c.formatPrefix,c}},4096:function(te,I,e){e.d(I,{i$:function(){return kt},Dq:function(){return u},g0:function(){return At}});var o=e(8176),g=e(8480),s=e(9879),i=e(2301),r=e(4823),f=e(9791);function l(Te){if(0<=Te.y&&Te.y<100){var Pe=new Date(-1,Te.m,Te.d,Te.H,Te.M,Te.S,Te.L);return Pe.setFullYear(Te.y),Pe}return new Date(Te.y,Te.m,Te.d,Te.H,Te.M,Te.S,Te.L)}function n(Te){if(0<=Te.y&&Te.y<100){var Pe=new Date(Date.UTC(-1,Te.m,Te.d,Te.H,Te.M,Te.S,Te.L));return Pe.setUTCFullYear(Te.y),Pe}return new Date(Date.UTC(Te.y,Te.m,Te.d,Te.H,Te.M,Te.S,Te.L))}function t(Te,Pe,Ce){return{y:Te,m:Pe,d:Ce,H:0,M:0,S:0,L:0}}function u(Te){var Pe=Te.dateTime,Ce=Te.date,Oe=Te.time,oe=Te.periods,be=Te.days,De=Te.shortDays,Se=Te.months,ze=Te.shortMonths,_e=M(oe),ct=c(oe),ot=M(be),$e=c(be),Ye=M(De),it=c(De),wt=M(Se),Rt=c(Se),Ht=M(ze),Vt=c(ze),Ut={a:re,A:q,b:He,B:Ie,c:null,d:ne,e:ne,f:ve,H:fe,I:ye,j:Me,L:le,m:H,M:Y,p:Ue,q:Ve,Q:rt,s:Mt,S,u:E,U:z,V:C,w:K,W:P,x:null,X:null,y:j,Y:ae,Z:ue,"%":Ct},St={a:Xe,A:Ge,b:Be,B:qe,c:null,d:he,e:he,f:pe,H:Ae,I:ke,j:ce,L:me,m:Ee,M:we,p:at,q:st,Q:rt,s:Mt,S:xe,u:Fe,U:Ke,V:je,w:Je,W:ht,x:null,X:null,y:Tt,Y:gt,Z:tt,"%":Ct},Gt={a:xt,A:_t,b:Nt,B:Jt,c:rr,d:R,e:R,f:G,H:$,I:$,j:Z,L:F,m:O,M:ie,p:Bt,q:L,Q:X,s:J,S:N,u:v,U:b,V:w,w:p,W:_,x:lr,X:Yt,y:B,Y:D,Z:U,"%":W};Ut.x=Ot(Ce,Ut),Ut.X=Ot(Oe,Ut),Ut.c=Ot(Pe,Ut),St.x=Ot(Ce,St),St.X=Ot(Oe,St),St.c=Ot(Pe,St);function Ot(nt,pt){return function(dt){var ut=[],Pt=-1,Lt=0,$t=nt.length,Et,ar,Ft;for(dt instanceof Date||(dt=new Date(+dt));++Pt<$t;)nt.charCodeAt(Pt)===37&&(ut.push(nt.slice(Lt,Pt)),(ar=h[Et=nt.charAt(++Pt)])!=null?Et=nt.charAt(++Pt):ar=Et==="e"?" ":"0",(Ft=pt[Et])&&(Et=Ft(dt,ar)),ut.push(Et),Lt=Pt+1);return ut.push(nt.slice(Lt,Pt)),ut.join("")}}function It(nt,pt){return function(dt){var ut=t(1900,void 0,1),Pt=Qt(ut,nt,dt+="",0),Lt,$t;if(Pt!=dt.length)return null;if("Q"in ut)return new Date(ut.Q);if("s"in ut)return new Date(ut.s*1e3+("L"in ut?ut.L:0));if(pt&&!("Z"in ut)&&(ut.Z=0),"p"in ut&&(ut.H=ut.H%12+ut.p*12),ut.m===void 0&&(ut.m="q"in ut?ut.q:0),"V"in ut){if(ut.V<1||ut.V>53)return null;"w"in ut||(ut.w=1),"Z"in ut?(Lt=n(t(ut.y,0,1)),$t=Lt.getUTCDay(),Lt=$t>4||$t===0?o.l6.ceil(Lt):(0,o.l6)(Lt),Lt=g.Z.offset(Lt,(ut.V-1)*7),ut.y=Lt.getUTCFullYear(),ut.m=Lt.getUTCMonth(),ut.d=Lt.getUTCDate()+(ut.w+6)%7):(Lt=l(t(ut.y,0,1)),$t=Lt.getDay(),Lt=$t>4||$t===0?s.wA.ceil(Lt):(0,s.wA)(Lt),Lt=i.Z.offset(Lt,(ut.V-1)*7),ut.y=Lt.getFullYear(),ut.m=Lt.getMonth(),ut.d=Lt.getDate()+(ut.w+6)%7)}else("W"in ut||"U"in ut)&&("w"in ut||(ut.w="u"in ut?ut.u%7:"W"in ut?1:0),$t="Z"in ut?n(t(ut.y,0,1)).getUTCDay():l(t(ut.y,0,1)).getDay(),ut.m=0,ut.d="W"in ut?(ut.w+6)%7+ut.W*7-($t+5)%7:ut.w+ut.U*7-($t+6)%7);return"Z"in ut?(ut.H+=ut.Z/100|0,ut.M+=ut.Z%100,n(ut)):l(ut)}}function Qt(nt,pt,dt,ut){for(var Pt=0,Lt=pt.length,$t=dt.length,Et,ar;Pt<Lt;){if(ut>=$t)return-1;if(Et=pt.charCodeAt(Pt++),Et===37){if(Et=pt.charAt(Pt++),ar=Gt[Et in h?pt.charAt(Pt++):Et],!ar||(ut=ar(nt,dt,ut))<0)return-1}else if(Et!=dt.charCodeAt(ut++))return-1}return ut}function Bt(nt,pt,dt){var ut=_e.exec(pt.slice(dt));return ut?(nt.p=ct[ut[0].toLowerCase()],dt+ut[0].length):-1}function xt(nt,pt,dt){var ut=Ye.exec(pt.slice(dt));return ut?(nt.w=it[ut[0].toLowerCase()],dt+ut[0].length):-1}function _t(nt,pt,dt){var ut=ot.exec(pt.slice(dt));return ut?(nt.w=$e[ut[0].toLowerCase()],dt+ut[0].length):-1}function Nt(nt,pt,dt){var ut=Ht.exec(pt.slice(dt));return ut?(nt.m=Vt[ut[0].toLowerCase()],dt+ut[0].length):-1}function Jt(nt,pt,dt){var ut=wt.exec(pt.slice(dt));return ut?(nt.m=Rt[ut[0].toLowerCase()],dt+ut[0].length):-1}function rr(nt,pt,dt){return Qt(nt,Pe,pt,dt)}function lr(nt,pt,dt){return Qt(nt,Ce,pt,dt)}function Yt(nt,pt,dt){return Qt(nt,Oe,pt,dt)}function re(nt){return De[nt.getDay()]}function q(nt){return be[nt.getDay()]}function He(nt){return ze[nt.getMonth()]}function Ie(nt){return Se[nt.getMonth()]}function Ue(nt){return oe[+(nt.getHours()>=12)]}function Ve(nt){return 1+~~(nt.getMonth()/3)}function Xe(nt){return De[nt.getUTCDay()]}function Ge(nt){return be[nt.getUTCDay()]}function Be(nt){return ze[nt.getUTCMonth()]}function qe(nt){return Se[nt.getUTCMonth()]}function at(nt){return oe[+(nt.getUTCHours()>=12)]}function st(nt){return 1+~~(nt.getUTCMonth()/3)}return{format:function(nt){var pt=Ot(nt+="",Ut);return pt.toString=function(){return nt},pt},parse:function(nt){var pt=It(nt+="",!1);return pt.toString=function(){return nt},pt},utcFormat:function(nt){var pt=Ot(nt+="",St);return pt.toString=function(){return nt},pt},utcParse:function(nt){var pt=It(nt+="",!0);return pt.toString=function(){return nt},pt}}}var h={"-":"",_:" ",0:"0"},m=/^\s*\d+/,y=/^%/,d=/[\\^$*+?|[\]().{}]/g;function T(Te,Pe,Ce){var Oe=Te<0?"-":"",oe=(Oe?-Te:Te)+"",be=oe.length;return Oe+(be<Ce?new Array(Ce-be+1).join(Pe)+oe:oe)}function x(Te){return Te.replace(d,"\\$&")}function M(Te){return new RegExp("^(?:"+Te.map(x).join("|")+")","i")}function c(Te){for(var Pe={},Ce=-1,Oe=Te.length;++Ce<Oe;)Pe[Te[Ce].toLowerCase()]=Ce;return Pe}function p(Te,Pe,Ce){var Oe=m.exec(Pe.slice(Ce,Ce+1));return Oe?(Te.w=+Oe[0],Ce+Oe[0].length):-1}function v(Te,Pe,Ce){var Oe=m.exec(Pe.slice(Ce,Ce+1));return Oe?(Te.u=+Oe[0],Ce+Oe[0].length):-1}function b(Te,Pe,Ce){var Oe=m.exec(Pe.slice(Ce,Ce+2));return Oe?(Te.U=+Oe[0],Ce+Oe[0].length):-1}function w(Te,Pe,Ce){var Oe=m.exec(Pe.slice(Ce,Ce+2));return Oe?(Te.V=+Oe[0],Ce+Oe[0].length):-1}function _(Te,Pe,Ce){var Oe=m.exec(Pe.slice(Ce,Ce+2));return Oe?(Te.W=+Oe[0],Ce+Oe[0].length):-1}function D(Te,Pe,Ce){var Oe=m.exec(Pe.slice(Ce,Ce+4));return Oe?(Te.y=+Oe[0],Ce+Oe[0].length):-1}function B(Te,Pe,Ce){var Oe=m.exec(Pe.slice(Ce,Ce+2));return Oe?(Te.y=+Oe[0]+(+Oe[0]>68?1900:2e3),Ce+Oe[0].length):-1}function U(Te,Pe,Ce){var Oe=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Pe.slice(Ce,Ce+6));return Oe?(Te.Z=Oe[1]?0:-(Oe[2]+(Oe[3]||"00")),Ce+Oe[0].length):-1}function L(Te,Pe,Ce){var Oe=m.exec(Pe.slice(Ce,Ce+1));return Oe?(Te.q=Oe[0]*3-3,Ce+Oe[0].length):-1}function O(Te,Pe,Ce){var Oe=m.exec(Pe.slice(Ce,Ce+2));return Oe?(Te.m=Oe[0]-1,Ce+Oe[0].length):-1}function R(Te,Pe,Ce){var Oe=m.exec(Pe.slice(Ce,Ce+2));return Oe?(Te.d=+Oe[0],Ce+Oe[0].length):-1}function Z(Te,Pe,Ce){var Oe=m.exec(Pe.slice(Ce,Ce+3));return Oe?(Te.m=0,Te.d=+Oe[0],Ce+Oe[0].length):-1}function $(Te,Pe,Ce){var Oe=m.exec(Pe.slice(Ce,Ce+2));return Oe?(Te.H=+Oe[0],Ce+Oe[0].length):-1}function ie(Te,Pe,Ce){var Oe=m.exec(Pe.slice(Ce,Ce+2));return Oe?(Te.M=+Oe[0],Ce+Oe[0].length):-1}function N(Te,Pe,Ce){var Oe=m.exec(Pe.slice(Ce,Ce+2));return Oe?(Te.S=+Oe[0],Ce+Oe[0].length):-1}function F(Te,Pe,Ce){var Oe=m.exec(Pe.slice(Ce,Ce+3));return Oe?(Te.L=+Oe[0],Ce+Oe[0].length):-1}function G(Te,Pe,Ce){var Oe=m.exec(Pe.slice(Ce,Ce+6));return Oe?(Te.L=Math.floor(Oe[0]/1e3),Ce+Oe[0].length):-1}function W(Te,Pe,Ce){var Oe=y.exec(Pe.slice(Ce,Ce+1));return Oe?Ce+Oe[0].length:-1}function X(Te,Pe,Ce){var Oe=m.exec(Pe.slice(Ce));return Oe?(Te.Q=+Oe[0],Ce+Oe[0].length):-1}function J(Te,Pe,Ce){var Oe=m.exec(Pe.slice(Ce));return Oe?(Te.s=+Oe[0],Ce+Oe[0].length):-1}function ne(Te,Pe){return T(Te.getDate(),Pe,2)}function fe(Te,Pe){return T(Te.getHours(),Pe,2)}function ye(Te,Pe){return T(Te.getHours()%12||12,Pe,2)}function Me(Te,Pe){return T(1+i.Z.count((0,r.Z)(Te),Te),Pe,3)}function le(Te,Pe){return T(Te.getMilliseconds(),Pe,3)}function ve(Te,Pe){return le(Te,Pe)+"000"}function H(Te,Pe){return T(Te.getMonth()+1,Pe,2)}function Y(Te,Pe){return T(Te.getMinutes(),Pe,2)}function S(Te,Pe){return T(Te.getSeconds(),Pe,2)}function E(Te){var Pe=Te.getDay();return Pe===0?7:Pe}function z(Te,Pe){return T(s.OM.count((0,r.Z)(Te)-1,Te),Pe,2)}function C(Te,Pe){var Ce=Te.getDay();return Te=Ce>=4||Ce===0?(0,s.bL)(Te):s.bL.ceil(Te),T(s.bL.count((0,r.Z)(Te),Te)+((0,r.Z)(Te).getDay()===4),Pe,2)}function K(Te){return Te.getDay()}function P(Te,Pe){return T(s.wA.count((0,r.Z)(Te)-1,Te),Pe,2)}function j(Te,Pe){return T(Te.getFullYear()%100,Pe,2)}function ae(Te,Pe){return T(Te.getFullYear()%1e4,Pe,4)}function ue(Te){var Pe=Te.getTimezoneOffset();return(Pe>0?"-":(Pe*=-1,"+"))+T(Pe/60|0,"0",2)+T(Pe%60,"0",2)}function he(Te,Pe){return T(Te.getUTCDate(),Pe,2)}function Ae(Te,Pe){return T(Te.getUTCHours(),Pe,2)}function ke(Te,Pe){return T(Te.getUTCHours()%12||12,Pe,2)}function ce(Te,Pe){return T(1+g.Z.count((0,f.Z)(Te),Te),Pe,3)}function me(Te,Pe){return T(Te.getUTCMilliseconds(),Pe,3)}function pe(Te,Pe){return me(Te,Pe)+"000"}function Ee(Te,Pe){return T(Te.getUTCMonth()+1,Pe,2)}function we(Te,Pe){return T(Te.getUTCMinutes(),Pe,2)}function xe(Te,Pe){return T(Te.getUTCSeconds(),Pe,2)}function Fe(Te){var Pe=Te.getUTCDay();return Pe===0?7:Pe}function Ke(Te,Pe){return T(o.Ox.count((0,f.Z)(Te)-1,Te),Pe,2)}function je(Te,Pe){var Ce=Te.getUTCDay();return Te=Ce>=4||Ce===0?(0,o.hB)(Te):o.hB.ceil(Te),T(o.hB.count((0,f.Z)(Te),Te)+((0,f.Z)(Te).getUTCDay()===4),Pe,2)}function Je(Te){return Te.getUTCDay()}function ht(Te,Pe){return T(o.l6.count((0,f.Z)(Te)-1,Te),Pe,2)}function Tt(Te,Pe){return T(Te.getUTCFullYear()%100,Pe,2)}function gt(Te,Pe){return T(Te.getUTCFullYear()%1e4,Pe,4)}function tt(){return"+0000"}function Ct(){return"%"}function rt(Te){return+Te}function Mt(Te){return Math.floor(+Te/1e3)}var Dt,kt,At;Le({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Le(Te){return Dt=u(Te),kt=Dt.format,Dt.parse,At=Dt.utcFormat,Dt.utcParse,Dt}},2301:function(te,I,e){e.d(I,{a:function(){return i}});var o=e(52),g=e(4263),s=(0,o.Z)(function(r){r.setHours(0,0,0,0)},function(r,f){r.setDate(r.getDate()+f)},function(r,f){return(f-r-(f.getTimezoneOffset()-r.getTimezoneOffset())*g.yB)/g.UD},function(r){return r.getDate()-1});I.Z=s;var i=s.range},4263:function(te,I,e){e.d(I,{UD:function(){return i},Y2:function(){return s},Ym:function(){return o},iM:function(){return r},yB:function(){return g}});var o=1e3,g=6e4,s=36e5,i=864e5,r=6048e5},1041:function(te,I,e){e.r(I),e.d(I,{timeDay:function(){return T.Z},timeDays:function(){return T.a},timeFriday:function(){return x.mC},timeFridays:function(){return x.b$},timeHour:function(){return y},timeHours:function(){return d},timeInterval:function(){return o.Z},timeMillisecond:function(){return s},timeMilliseconds:function(){return i},timeMinute:function(){return u},timeMinutes:function(){return h},timeMonday:function(){return x.wA},timeMondays:function(){return x.bJ},timeMonth:function(){return c},timeMonths:function(){return p},timeSaturday:function(){return x.EY},timeSaturdays:function(){return x.Ff},timeSecond:function(){return l},timeSeconds:function(){return n},timeSunday:function(){return x.OM},timeSundays:function(){return x.vm},timeThursday:function(){return x.bL},timeThursdays:function(){return x.$t},timeTuesday:function(){return x.sy},timeTuesdays:function(){return x.aU},timeWednesday:function(){return x.zg},timeWednesdays:function(){return x.Ld},timeWeek:function(){return x.OM},timeWeeks:function(){return x.vm},timeYear:function(){return v.Z},timeYears:function(){return v.g},utcDay:function(){return L.Z},utcDays:function(){return L.y},utcFriday:function(){return O.QQ},utcFridays:function(){return O.fz},utcHour:function(){return B},utcHours:function(){return U},utcMillisecond:function(){return s},utcMilliseconds:function(){return i},utcMinute:function(){return w},utcMinutes:function(){return _},utcMonday:function(){return O.l6},utcMondays:function(){return O.$3},utcMonth:function(){return Z},utcMonths:function(){return $},utcSaturday:function(){return O.g4},utcSaturdays:function(){return O.Q_},utcSecond:function(){return l},utcSeconds:function(){return n},utcSunday:function(){return O.Ox},utcSundays:function(){return O.SU},utcThursday:function(){return O.hB},utcThursdays:function(){return O.xj},utcTuesday:function(){return O.J1},utcTuesdays:function(){return O.DK},utcWednesday:function(){return O.b3},utcWednesdays:function(){return O.uy},utcWeek:function(){return O.Ox},utcWeeks:function(){return O.SU},utcYear:function(){return ie.Z},utcYears:function(){return ie.D}});var o=e(52),g=(0,o.Z)(function(){},function(N,F){N.setTime(+N+F)},function(N,F){return F-N});g.every=function(N){return N=Math.floor(N),!isFinite(N)||!(N>0)?null:N>1?(0,o.Z)(function(F){F.setTime(Math.floor(F/N)*N)},function(F,G){F.setTime(+F+G*N)},function(F,G){return(G-F)/N}):g};var s=g,i=g.range,r=e(4263),f=(0,o.Z)(function(N){N.setTime(N-N.getMilliseconds())},function(N,F){N.setTime(+N+F*r.Ym)},function(N,F){return(F-N)/r.Ym},function(N){return N.getUTCSeconds()}),l=f,n=f.range,t=(0,o.Z)(function(N){N.setTime(N-N.getMilliseconds()-N.getSeconds()*r.Ym)},function(N,F){N.setTime(+N+F*r.yB)},function(N,F){return(F-N)/r.yB},function(N){return N.getMinutes()}),u=t,h=t.range,m=(0,o.Z)(function(N){N.setTime(N-N.getMilliseconds()-N.getSeconds()*r.Ym-N.getMinutes()*r.yB)},function(N,F){N.setTime(+N+F*r.Y2)},function(N,F){return(F-N)/r.Y2},function(N){return N.getHours()}),y=m,d=m.range,T=e(2301),x=e(9879),M=(0,o.Z)(function(N){N.setDate(1),N.setHours(0,0,0,0)},function(N,F){N.setMonth(N.getMonth()+F)},function(N,F){return F.getMonth()-N.getMonth()+(F.getFullYear()-N.getFullYear())*12},function(N){return N.getMonth()}),c=M,p=M.range,v=e(4823),b=(0,o.Z)(function(N){N.setUTCSeconds(0,0)},function(N,F){N.setTime(+N+F*r.yB)},function(N,F){return(F-N)/r.yB},function(N){return N.getUTCMinutes()}),w=b,_=b.range,D=(0,o.Z)(function(N){N.setUTCMinutes(0,0,0)},function(N,F){N.setTime(+N+F*r.Y2)},function(N,F){return(F-N)/r.Y2},function(N){return N.getUTCHours()}),B=D,U=D.range,L=e(8480),O=e(8176),R=(0,o.Z)(function(N){N.setUTCDate(1),N.setUTCHours(0,0,0,0)},function(N,F){N.setUTCMonth(N.getUTCMonth()+F)},function(N,F){return F.getUTCMonth()-N.getUTCMonth()+(F.getUTCFullYear()-N.getUTCFullYear())*12},function(N){return N.getUTCMonth()}),Z=R,$=R.range,ie=e(9791)},52:function(te,I,e){e.d(I,{Z:function(){return s}});var o=new Date,g=new Date;function s(i,r,f,l){function n(t){return i(t=arguments.length===0?new Date:new Date(+t)),t}return n.floor=function(t){return i(t=new Date(+t)),t},n.ceil=function(t){return i(t=new Date(t-1)),r(t,1),i(t),t},n.round=function(t){var u=n(t),h=n.ceil(t);return t-u<h-t?u:h},n.offset=function(t,u){return r(t=new Date(+t),u==null?1:Math.floor(u)),t},n.range=function(t,u,h){var m=[],y;if(t=n.ceil(t),h=h==null?1:Math.floor(h),!(t<u)||!(h>0))return m;do m.push(y=new Date(+t)),r(t,h),i(t);while(y<t&&t<u);return m},n.filter=function(t){return s(function(u){if(u>=u)for(;i(u),!t(u);)u.setTime(u-1)},function(u,h){if(u>=u)if(h<0)for(;++h<=0;)for(;r(u,-1),!t(u););else for(;--h>=0;)for(;r(u,1),!t(u););})},f&&(n.count=function(t,u){return o.setTime(+t),g.setTime(+u),i(o),i(g),Math.floor(f(o,g))},n.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?n.filter(l?function(u){return l(u)%t===0}:function(u){return n.count(0,u)%t===0}):n}),n}},8480:function(te,I,e){e.d(I,{y:function(){return i}});var o=e(52),g=e(4263),s=(0,o.Z)(function(r){r.setUTCHours(0,0,0,0)},function(r,f){r.setUTCDate(r.getUTCDate()+f)},function(r,f){return(f-r)/g.UD},function(r){return r.getUTCDate()-1});I.Z=s;var i=s.range},8176:function(te,I,e){e.d(I,{$3:function(){return m},DK:function(){return y},J1:function(){return f},Ox:function(){return i},QQ:function(){return t},Q_:function(){return M},SU:function(){return h},b3:function(){return l},fz:function(){return x},g4:function(){return u},hB:function(){return n},l6:function(){return r},uy:function(){return d},xj:function(){return T}});var o=e(52),g=e(4263);function s(c){return(0,o.Z)(function(p){p.setUTCDate(p.getUTCDate()-(p.getUTCDay()+7-c)%7),p.setUTCHours(0,0,0,0)},function(p,v){p.setUTCDate(p.getUTCDate()+v*7)},function(p,v){return(v-p)/g.iM})}var i=s(0),r=s(1),f=s(2),l=s(3),n=s(4),t=s(5),u=s(6),h=i.range,m=r.range,y=f.range,d=l.range,T=n.range,x=t.range,M=u.range},9791:function(te,I,e){e.d(I,{D:function(){return s}});var o=e(52),g=(0,o.Z)(function(i){i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0)},function(i,r){i.setUTCFullYear(i.getUTCFullYear()+r)},function(i,r){return r.getUTCFullYear()-i.getUTCFullYear()},function(i){return i.getUTCFullYear()});g.every=function(i){return!isFinite(i=Math.floor(i))||!(i>0)?null:(0,o.Z)(function(r){r.setUTCFullYear(Math.floor(r.getUTCFullYear()/i)*i),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},function(r,f){r.setUTCFullYear(r.getUTCFullYear()+f*i)})},I.Z=g;var s=g.range},9879:function(te,I,e){e.d(I,{$t:function(){return T},EY:function(){return u},Ff:function(){return M},Ld:function(){return d},OM:function(){return i},aU:function(){return y},b$:function(){return x},bJ:function(){return m},bL:function(){return n},mC:function(){return t},sy:function(){return f},vm:function(){return h},wA:function(){return r},zg:function(){return l}});var o=e(52),g=e(4263);function s(c){return(0,o.Z)(function(p){p.setDate(p.getDate()-(p.getDay()+7-c)%7),p.setHours(0,0,0,0)},function(p,v){p.setDate(p.getDate()+v*7)},function(p,v){return(v-p-(v.getTimezoneOffset()-p.getTimezoneOffset())*g.yB)/g.iM})}var i=s(0),r=s(1),f=s(2),l=s(3),n=s(4),t=s(5),u=s(6),h=i.range,m=r.range,y=f.range,d=l.range,T=n.range,x=t.range,M=u.range},4823:function(te,I,e){e.d(I,{g:function(){return s}});var o=e(52),g=(0,o.Z)(function(i){i.setMonth(0,1),i.setHours(0,0,0,0)},function(i,r){i.setFullYear(i.getFullYear()+r)},function(i,r){return r.getFullYear()-i.getFullYear()},function(i){return i.getFullYear()});g.every=function(i){return!isFinite(i=Math.floor(i))||!(i>0)?null:(0,o.Z)(function(r){r.setFullYear(Math.floor(r.getFullYear()/i)*i),r.setMonth(0,1),r.setHours(0,0,0,0)},function(r,f){r.setFullYear(r.getFullYear()+f*i)})},I.Z=g;var s=g.range},5398:function(te){var I=typeof Reflect=="object"?Reflect:null,e=I&&typeof I.apply=="function"?I.apply:function(v,b,w){return Function.prototype.apply.call(v,b,w)},o;I&&typeof I.ownKeys=="function"?o=I.ownKeys:Object.getOwnPropertySymbols?o=function(v){return Object.getOwnPropertyNames(v).concat(Object.getOwnPropertySymbols(v))}:o=function(v){return Object.getOwnPropertyNames(v)};function g(p){console&&console.warn&&console.warn(p)}var s=Number.isNaN||function(v){return v!==v};function i(){i.init.call(this)}te.exports=i,te.exports.once=x,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var r=10;function f(p){if(typeof p!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof p)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return r},set:function(p){if(typeof p!="number"||p<0||s(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+p+".");r=p}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(v){if(typeof v!="number"||v<0||s(v))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+v+".");return this._maxListeners=v,this};function l(p){return p._maxListeners===void 0?i.defaultMaxListeners:p._maxListeners}i.prototype.getMaxListeners=function(){return l(this)},i.prototype.emit=function(v){for(var b=[],w=1;w<arguments.length;w++)b.push(arguments[w]);var _=v==="error",D=this._events;if(D!==void 0)_=_&&D.error===void 0;else if(!_)return!1;if(_){var B;if(b.length>0&&(B=b[0]),B instanceof Error)throw B;var U=new Error("Unhandled error."+(B?" ("+B.message+")":""));throw U.context=B,U}var L=D[v];if(L===void 0)return!1;if(typeof L=="function")e(L,this,b);else for(var O=L.length,R=y(L,O),w=0;w<O;++w)e(R[w],this,b);return!0};function n(p,v,b,w){var _,D,B;if(f(b),D=p._events,D===void 0?(D=p._events=Object.create(null),p._eventsCount=0):(D.newListener!==void 0&&(p.emit("newListener",v,b.listener?b.listener:b),D=p._events),B=D[v]),B===void 0)B=D[v]=b,++p._eventsCount;else if(typeof B=="function"?B=D[v]=w?[b,B]:[B,b]:w?B.unshift(b):B.push(b),_=l(p),_>0&&B.length>_&&!B.warned){B.warned=!0;var U=new Error("Possible EventEmitter memory leak detected. "+B.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");U.name="MaxListenersExceededWarning",U.emitter=p,U.type=v,U.count=B.length,g(U)}return p}i.prototype.addListener=function(v,b){return n(this,v,b,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(v,b){return n(this,v,b,!0)};function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(p,v,b){var w={fired:!1,wrapFn:void 0,target:p,type:v,listener:b},_=t.bind(w);return _.listener=b,w.wrapFn=_,_}i.prototype.once=function(v,b){return f(b),this.on(v,u(this,v,b)),this},i.prototype.prependOnceListener=function(v,b){return f(b),this.prependListener(v,u(this,v,b)),this},i.prototype.removeListener=function(v,b){var w,_,D,B,U;if(f(b),_=this._events,_===void 0)return this;if(w=_[v],w===void 0)return this;if(w===b||w.listener===b)--this._eventsCount===0?this._events=Object.create(null):(delete _[v],_.removeListener&&this.emit("removeListener",v,w.listener||b));else if(typeof w!="function"){for(D=-1,B=w.length-1;B>=0;B--)if(w[B]===b||w[B].listener===b){U=w[B].listener,D=B;break}if(D<0)return this;D===0?w.shift():d(w,D),w.length===1&&(_[v]=w[0]),_.removeListener!==void 0&&this.emit("removeListener",v,U||b)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(v){var b,w,_;if(w=this._events,w===void 0)return this;if(w.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):w[v]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete w[v]),this;if(arguments.length===0){var D=Object.keys(w),B;for(_=0;_<D.length;++_)B=D[_],B!=="removeListener"&&this.removeAllListeners(B);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(b=w[v],typeof b=="function")this.removeListener(v,b);else if(b!==void 0)for(_=b.length-1;_>=0;_--)this.removeListener(v,b[_]);return this};function h(p,v,b){var w=p._events;if(w===void 0)return[];var _=w[v];return _===void 0?[]:typeof _=="function"?b?[_.listener||_]:[_]:b?T(_):y(_,_.length)}i.prototype.listeners=function(v){return h(this,v,!0)},i.prototype.rawListeners=function(v){return h(this,v,!1)},i.listenerCount=function(p,v){return typeof p.listenerCount=="function"?p.listenerCount(v):m.call(p,v)},i.prototype.listenerCount=m;function m(p){var v=this._events;if(v!==void 0){var b=v[p];if(typeof b=="function")return 1;if(b!==void 0)return b.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]};function y(p,v){for(var b=new Array(v),w=0;w<v;++w)b[w]=p[w];return b}function d(p,v){for(;v+1<p.length;v++)p[v]=p[v+1];p.pop()}function T(p){for(var v=new Array(p.length),b=0;b<v.length;++b)v[b]=p[b].listener||p[b];return v}function x(p,v){return new Promise(function(b,w){function _(B){p.removeListener(v,D),w(B)}function D(){typeof p.removeListener=="function"&&p.removeListener("error",_),b([].slice.call(arguments))}c(p,v,D,{once:!0}),v!=="error"&&M(p,_,{once:!0})})}function M(p,v,b){typeof p.on=="function"&&c(p,"error",v,b)}function c(p,v,b,w){if(typeof p.on=="function")w.once?p.once(v,b):p.on(v,b);else if(typeof p.addEventListener=="function")p.addEventListener(v,function _(D){w.once&&p.removeEventListener(v,_),b(D)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof p)}},2770:function(te,I,e){var o=e(8546);te.exports=function(g){var s=typeof g;if(s==="string"){var i=g;if(g=+g,g===0&&o(i))return!1}else if(s!=="number")return!1;return g-g<1}},5400:function(te){te.exports=I;function I(e,o){var g=o[0],s=o[1],i=o[2],r=o[3],f=o[4],l=o[5],n=o[6],t=o[7],u=o[8],h=o[9],m=o[10],y=o[11],d=o[12],T=o[13],x=o[14],M=o[15];return e[0]=l*(m*M-y*x)-h*(n*M-t*x)+T*(n*y-t*m),e[1]=-(s*(m*M-y*x)-h*(i*M-r*x)+T*(i*y-r*m)),e[2]=s*(n*M-t*x)-l*(i*M-r*x)+T*(i*t-r*n),e[3]=-(s*(n*y-t*m)-l*(i*y-r*m)+h*(i*t-r*n)),e[4]=-(f*(m*M-y*x)-u*(n*M-t*x)+d*(n*y-t*m)),e[5]=g*(m*M-y*x)-u*(i*M-r*x)+d*(i*y-r*m),e[6]=-(g*(n*M-t*x)-f*(i*M-r*x)+d*(i*t-r*n)),e[7]=g*(n*y-t*m)-f*(i*y-r*m)+u*(i*t-r*n),e[8]=f*(h*M-y*T)-u*(l*M-t*T)+d*(l*y-t*h),e[9]=-(g*(h*M-y*T)-u*(s*M-r*T)+d*(s*y-r*h)),e[10]=g*(l*M-t*T)-f*(s*M-r*T)+d*(s*t-r*l),e[11]=-(g*(l*y-t*h)-f*(s*y-r*h)+u*(s*t-r*l)),e[12]=-(f*(h*x-m*T)-u*(l*x-n*T)+d*(l*m-n*h)),e[13]=g*(h*x-m*T)-u*(s*x-i*T)+d*(s*m-i*h),e[14]=-(g*(l*x-n*T)-f*(s*x-i*T)+d*(s*n-i*l)),e[15]=g*(l*m-n*h)-f*(s*m-i*h)+u*(s*n-i*l),e}},2331:function(te){te.exports=I;function I(e){var o=new Float32Array(16);return o[0]=e[0],o[1]=e[1],o[2]=e[2],o[3]=e[3],o[4]=e[4],o[5]=e[5],o[6]=e[6],o[7]=e[7],o[8]=e[8],o[9]=e[9],o[10]=e[10],o[11]=e[11],o[12]=e[12],o[13]=e[13],o[14]=e[14],o[15]=e[15],o}},1042:function(te){te.exports=I;function I(e,o){return e[0]=o[0],e[1]=o[1],e[2]=o[2],e[3]=o[3],e[4]=o[4],e[5]=o[5],e[6]=o[6],e[7]=o[7],e[8]=o[8],e[9]=o[9],e[10]=o[10],e[11]=o[11],e[12]=o[12],e[13]=o[13],e[14]=o[14],e[15]=o[15],e}},1902:function(te){te.exports=I;function I(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},9887:function(te){te.exports=I;function I(e){var o=e[0],g=e[1],s=e[2],i=e[3],r=e[4],f=e[5],l=e[6],n=e[7],t=e[8],u=e[9],h=e[10],m=e[11],y=e[12],d=e[13],T=e[14],x=e[15],M=o*f-g*r,c=o*l-s*r,p=o*n-i*r,v=g*l-s*f,b=g*n-i*f,w=s*n-i*l,_=t*d-u*y,D=t*T-h*y,B=t*x-m*y,U=u*T-h*d,L=u*x-m*d,O=h*x-m*T;return M*O-c*L+p*U+v*B-b*D+w*_}},7812:function(te){te.exports=I;function I(e,o){var g=o[0],s=o[1],i=o[2],r=o[3],f=g+g,l=s+s,n=i+i,t=g*f,u=s*f,h=s*l,m=i*f,y=i*l,d=i*n,T=r*f,x=r*l,M=r*n;return e[0]=1-h-d,e[1]=u+M,e[2]=m-x,e[3]=0,e[4]=u-M,e[5]=1-t-d,e[6]=y+T,e[7]=0,e[8]=m+x,e[9]=y-T,e[10]=1-t-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},4045:function(te){te.exports=I;function I(e,o,g){var s,i,r,f=g[0],l=g[1],n=g[2],t=Math.sqrt(f*f+l*l+n*n);return Math.abs(t)<1e-6?null:(t=1/t,f*=t,l*=t,n*=t,s=Math.sin(o),i=Math.cos(o),r=1-i,e[0]=f*f*r+i,e[1]=l*f*r+n*s,e[2]=n*f*r-l*s,e[3]=0,e[4]=f*l*r-n*s,e[5]=l*l*r+i,e[6]=n*l*r+f*s,e[7]=0,e[8]=f*n*r+l*s,e[9]=l*n*r-f*s,e[10]=n*n*r+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},5973:function(te){te.exports=I;function I(e,o,g){var s=o[0],i=o[1],r=o[2],f=o[3],l=s+s,n=i+i,t=r+r,u=s*l,h=s*n,m=s*t,y=i*n,d=i*t,T=r*t,x=f*l,M=f*n,c=f*t;return e[0]=1-(y+T),e[1]=h+c,e[2]=m-M,e[3]=0,e[4]=h-c,e[5]=1-(u+T),e[6]=d+x,e[7]=0,e[8]=m+M,e[9]=d-x,e[10]=1-(u+y),e[11]=0,e[12]=g[0],e[13]=g[1],e[14]=g[2],e[15]=1,e}},1472:function(te){te.exports=I;function I(e,o){return e[0]=o[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=o[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},4669:function(te){te.exports=I;function I(e,o){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=o[0],e[13]=o[1],e[14]=o[2],e[15]=1,e}},5262:function(te){te.exports=I;function I(e,o){var g=Math.sin(o),s=Math.cos(o);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=g,e[7]=0,e[8]=0,e[9]=-g,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},331:function(te){te.exports=I;function I(e,o){var g=Math.sin(o),s=Math.cos(o);return e[0]=s,e[1]=0,e[2]=-g,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=g,e[9]=0,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},1049:function(te){te.exports=I;function I(e,o){var g=Math.sin(o),s=Math.cos(o);return e[0]=s,e[1]=g,e[2]=0,e[3]=0,e[4]=-g,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},5195:function(te){te.exports=I;function I(e,o,g,s,i,r,f){var l=1/(g-o),n=1/(i-s),t=1/(r-f);return e[0]=r*2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r*2*n,e[6]=0,e[7]=0,e[8]=(g+o)*l,e[9]=(i+s)*n,e[10]=(f+r)*t,e[11]=-1,e[12]=0,e[13]=0,e[14]=f*r*2*t,e[15]=0,e}},1551:function(te){te.exports=I;function I(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},9576:function(te,I,e){te.exports={create:e(1902),clone:e(2331),copy:e(1042),identity:e(1551),transpose:e(8654),invert:e(5874),adjoint:e(5400),determinant:e(9887),multiply:e(1362),translate:e(1283),scale:e(789),rotate:e(5074),rotateX:e(5545),rotateY:e(4918),rotateZ:e(5692),fromRotation:e(4045),fromRotationTranslation:e(5973),fromScaling:e(1472),fromTranslation:e(4669),fromXRotation:e(5262),fromYRotation:e(331),fromZRotation:e(1049),fromQuat:e(7812),frustum:e(5195),perspective:e(7864),perspectiveFromFieldOfView:e(5279),ortho:e(378),lookAt:e(5551),str:e(6726)}},5874:function(te){te.exports=I;function I(e,o){var g=o[0],s=o[1],i=o[2],r=o[3],f=o[4],l=o[5],n=o[6],t=o[7],u=o[8],h=o[9],m=o[10],y=o[11],d=o[12],T=o[13],x=o[14],M=o[15],c=g*l-s*f,p=g*n-i*f,v=g*t-r*f,b=s*n-i*l,w=s*t-r*l,_=i*t-r*n,D=u*T-h*d,B=u*x-m*d,U=u*M-y*d,L=h*x-m*T,O=h*M-y*T,R=m*M-y*x,Z=c*R-p*O+v*L+b*U-w*B+_*D;return Z?(Z=1/Z,e[0]=(l*R-n*O+t*L)*Z,e[1]=(i*O-s*R-r*L)*Z,e[2]=(T*_-x*w+M*b)*Z,e[3]=(m*w-h*_-y*b)*Z,e[4]=(n*U-f*R-t*B)*Z,e[5]=(g*R-i*U+r*B)*Z,e[6]=(x*v-d*_-M*p)*Z,e[7]=(u*_-m*v+y*p)*Z,e[8]=(f*O-l*U+t*D)*Z,e[9]=(s*U-g*O-r*D)*Z,e[10]=(d*w-T*v+M*c)*Z,e[11]=(h*v-u*w-y*c)*Z,e[12]=(l*B-f*L-n*D)*Z,e[13]=(g*L-s*B+i*D)*Z,e[14]=(T*p-d*b-x*c)*Z,e[15]=(u*b-h*p+m*c)*Z,e):null}},5551:function(te,I,e){var o=e(1551);te.exports=g;function g(s,i,r,f){var l,n,t,u,h,m,y,d,T,x,M=i[0],c=i[1],p=i[2],v=f[0],b=f[1],w=f[2],_=r[0],D=r[1],B=r[2];return Math.abs(M-_)<1e-6&&Math.abs(c-D)<1e-6&&Math.abs(p-B)<1e-6?o(s):(y=M-_,d=c-D,T=p-B,x=1/Math.sqrt(y*y+d*d+T*T),y*=x,d*=x,T*=x,l=b*T-w*d,n=w*y-v*T,t=v*d-b*y,x=Math.sqrt(l*l+n*n+t*t),x?(x=1/x,l*=x,n*=x,t*=x):(l=0,n=0,t=0),u=d*t-T*n,h=T*l-y*t,m=y*n-d*l,x=Math.sqrt(u*u+h*h+m*m),x?(x=1/x,u*=x,h*=x,m*=x):(u=0,h=0,m=0),s[0]=l,s[1]=u,s[2]=y,s[3]=0,s[4]=n,s[5]=h,s[6]=d,s[7]=0,s[8]=t,s[9]=m,s[10]=T,s[11]=0,s[12]=-(l*M+n*c+t*p),s[13]=-(u*M+h*c+m*p),s[14]=-(y*M+d*c+T*p),s[15]=1,s)}},1362:function(te){te.exports=I;function I(e,o,g){var s=o[0],i=o[1],r=o[2],f=o[3],l=o[4],n=o[5],t=o[6],u=o[7],h=o[8],m=o[9],y=o[10],d=o[11],T=o[12],x=o[13],M=o[14],c=o[15],p=g[0],v=g[1],b=g[2],w=g[3];return e[0]=p*s+v*l+b*h+w*T,e[1]=p*i+v*n+b*m+w*x,e[2]=p*r+v*t+b*y+w*M,e[3]=p*f+v*u+b*d+w*c,p=g[4],v=g[5],b=g[6],w=g[7],e[4]=p*s+v*l+b*h+w*T,e[5]=p*i+v*n+b*m+w*x,e[6]=p*r+v*t+b*y+w*M,e[7]=p*f+v*u+b*d+w*c,p=g[8],v=g[9],b=g[10],w=g[11],e[8]=p*s+v*l+b*h+w*T,e[9]=p*i+v*n+b*m+w*x,e[10]=p*r+v*t+b*y+w*M,e[11]=p*f+v*u+b*d+w*c,p=g[12],v=g[13],b=g[14],w=g[15],e[12]=p*s+v*l+b*h+w*T,e[13]=p*i+v*n+b*m+w*x,e[14]=p*r+v*t+b*y+w*M,e[15]=p*f+v*u+b*d+w*c,e}},378:function(te){te.exports=I;function I(e,o,g,s,i,r,f){var l=1/(o-g),n=1/(s-i),t=1/(r-f);return e[0]=-2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*t,e[11]=0,e[12]=(o+g)*l,e[13]=(i+s)*n,e[14]=(f+r)*t,e[15]=1,e}},7864:function(te){te.exports=I;function I(e,o,g,s,i){var r=1/Math.tan(o/2),f=1/(s-i);return e[0]=r/g,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+s)*f,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*s*f,e[15]=0,e}},5279:function(te){te.exports=I;function I(e,o,g,s){var i=Math.tan(o.upDegrees*Math.PI/180),r=Math.tan(o.downDegrees*Math.PI/180),f=Math.tan(o.leftDegrees*Math.PI/180),l=Math.tan(o.rightDegrees*Math.PI/180),n=2/(f+l),t=2/(i+r);return e[0]=n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=-((f-l)*n*.5),e[9]=(i-r)*t*.5,e[10]=s/(g-s),e[11]=-1,e[12]=0,e[13]=0,e[14]=s*g/(g-s),e[15]=0,e}},5074:function(te){te.exports=I;function I(e,o,g,s){var i=s[0],r=s[1],f=s[2],l=Math.sqrt(i*i+r*r+f*f),n,t,u,h,m,y,d,T,x,M,c,p,v,b,w,_,D,B,U,L,O,R,Z,$;return Math.abs(l)<1e-6?null:(l=1/l,i*=l,r*=l,f*=l,n=Math.sin(g),t=Math.cos(g),u=1-t,h=o[0],m=o[1],y=o[2],d=o[3],T=o[4],x=o[5],M=o[6],c=o[7],p=o[8],v=o[9],b=o[10],w=o[11],_=i*i*u+t,D=r*i*u+f*n,B=f*i*u-r*n,U=i*r*u-f*n,L=r*r*u+t,O=f*r*u+i*n,R=i*f*u+r*n,Z=r*f*u-i*n,$=f*f*u+t,e[0]=h*_+T*D+p*B,e[1]=m*_+x*D+v*B,e[2]=y*_+M*D+b*B,e[3]=d*_+c*D+w*B,e[4]=h*U+T*L+p*O,e[5]=m*U+x*L+v*O,e[6]=y*U+M*L+b*O,e[7]=d*U+c*L+w*O,e[8]=h*R+T*Z+p*$,e[9]=m*R+x*Z+v*$,e[10]=y*R+M*Z+b*$,e[11]=d*R+c*Z+w*$,o!==e&&(e[12]=o[12],e[13]=o[13],e[14]=o[14],e[15]=o[15]),e)}},5545:function(te){te.exports=I;function I(e,o,g){var s=Math.sin(g),i=Math.cos(g),r=o[4],f=o[5],l=o[6],n=o[7],t=o[8],u=o[9],h=o[10],m=o[11];return o!==e&&(e[0]=o[0],e[1]=o[1],e[2]=o[2],e[3]=o[3],e[12]=o[12],e[13]=o[13],e[14]=o[14],e[15]=o[15]),e[4]=r*i+t*s,e[5]=f*i+u*s,e[6]=l*i+h*s,e[7]=n*i+m*s,e[8]=t*i-r*s,e[9]=u*i-f*s,e[10]=h*i-l*s,e[11]=m*i-n*s,e}},4918:function(te){te.exports=I;function I(e,o,g){var s=Math.sin(g),i=Math.cos(g),r=o[0],f=o[1],l=o[2],n=o[3],t=o[8],u=o[9],h=o[10],m=o[11];return o!==e&&(e[4]=o[4],e[5]=o[5],e[6]=o[6],e[7]=o[7],e[12]=o[12],e[13]=o[13],e[14]=o[14],e[15]=o[15]),e[0]=r*i-t*s,e[1]=f*i-u*s,e[2]=l*i-h*s,e[3]=n*i-m*s,e[8]=r*s+t*i,e[9]=f*s+u*i,e[10]=l*s+h*i,e[11]=n*s+m*i,e}},5692:function(te){te.exports=I;function I(e,o,g){var s=Math.sin(g),i=Math.cos(g),r=o[0],f=o[1],l=o[2],n=o[3],t=o[4],u=o[5],h=o[6],m=o[7];return o!==e&&(e[8]=o[8],e[9]=o[9],e[10]=o[10],e[11]=o[11],e[12]=o[12],e[13]=o[13],e[14]=o[14],e[15]=o[15]),e[0]=r*i+t*s,e[1]=f*i+u*s,e[2]=l*i+h*s,e[3]=n*i+m*s,e[4]=t*i-r*s,e[5]=u*i-f*s,e[6]=h*i-l*s,e[7]=m*i-n*s,e}},789:function(te){te.exports=I;function I(e,o,g){var s=g[0],i=g[1],r=g[2];return e[0]=o[0]*s,e[1]=o[1]*s,e[2]=o[2]*s,e[3]=o[3]*s,e[4]=o[4]*i,e[5]=o[5]*i,e[6]=o[6]*i,e[7]=o[7]*i,e[8]=o[8]*r,e[9]=o[9]*r,e[10]=o[10]*r,e[11]=o[11]*r,e[12]=o[12],e[13]=o[13],e[14]=o[14],e[15]=o[15],e}},6726:function(te){te.exports=I;function I(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},1283:function(te){te.exports=I;function I(e,o,g){var s=g[0],i=g[1],r=g[2],f,l,n,t,u,h,m,y,d,T,x,M;return o===e?(e[12]=o[0]*s+o[4]*i+o[8]*r+o[12],e[13]=o[1]*s+o[5]*i+o[9]*r+o[13],e[14]=o[2]*s+o[6]*i+o[10]*r+o[14],e[15]=o[3]*s+o[7]*i+o[11]*r+o[15]):(f=o[0],l=o[1],n=o[2],t=o[3],u=o[4],h=o[5],m=o[6],y=o[7],d=o[8],T=o[9],x=o[10],M=o[11],e[0]=f,e[1]=l,e[2]=n,e[3]=t,e[4]=u,e[5]=h,e[6]=m,e[7]=y,e[8]=d,e[9]=T,e[10]=x,e[11]=M,e[12]=f*s+u*i+d*r+o[12],e[13]=l*s+h*i+T*r+o[13],e[14]=n*s+m*i+x*r+o[14],e[15]=t*s+y*i+M*r+o[15]),e}},8654:function(te){te.exports=I;function I(e,o){if(e===o){var g=o[1],s=o[2],i=o[3],r=o[6],f=o[7],l=o[11];e[1]=o[4],e[2]=o[8],e[3]=o[12],e[4]=g,e[6]=o[9],e[7]=o[13],e[8]=s,e[9]=r,e[11]=o[14],e[12]=i,e[13]=f,e[14]=l}else e[0]=o[0],e[1]=o[4],e[2]=o[8],e[3]=o[12],e[4]=o[1],e[5]=o[5],e[6]=o[9],e[7]=o[13],e[8]=o[2],e[9]=o[6],e[10]=o[10],e[11]=o[14],e[12]=o[3],e[13]=o[7],e[14]=o[11],e[15]=o[15];return e}},7035:function(te,I,e){var o=e(4404),g;typeof e.g.matchMedia=="function"?g=!e.g.matchMedia("(hover: none)").matches:g=o,te.exports=g},8520:function(te,I,e){var o=e(4404);function g(){var s=!1;try{var i=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("test",null,i),window.removeEventListener("test",null,i)}catch{s=!1}return s}te.exports=o&&g()},4404:function(te){te.exports=!0},8546:function(te){te.exports=function(I){for(var e=I.length,o,g=0;g<e;g++)if(o=I.charCodeAt(g),(o<9||o>13)&&o!==32&&o!==133&&o!==160&&o!==5760&&o!==6158&&(o<8192||o>8205)&&o!==8232&&o!==8233&&o!==8239&&o!==8287&&o!==8288&&o!==12288&&o!==65279)return!1;return!0}},8956:function(te){var I={left:0,top:0};te.exports=e;function e(g,s,i){s=s||g.currentTarget||g.srcElement,Array.isArray(i)||(i=[0,0]);var r=g.clientX||0,f=g.clientY||0,l=o(s);return i[0]=r-l.left,i[1]=f-l.top,i}function o(g){return g===window||g===document||g===document.body?I:g.getBoundingClientRect()}},7417:function(te,I,e){var o;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(s,i,r){i[s]=i[s]||r(),te.exports?te.exports=i[s]:(o=function(){return i[s]}.call(I,e,I,te),o!==void 0&&(te.exports=o))})("Promise",typeof e.g<"u"?e.g:this,function(){var s,i,r,f=Object.prototype.toString,l=typeof setImmediate<"u"?function(v){return setImmediate(v)}:setTimeout;try{Object.defineProperty({},"x",{}),s=function(v,b,w,_){return Object.defineProperty(v,b,{value:w,writable:!0,configurable:_!==!1})}}catch{s=function(b,w,_){return b[w]=_,b}}r=function(){var v,b,w;function _(D,B){this.fn=D,this.self=B,this.next=void 0}return{add:function(B,U){w=new _(B,U),b?b.next=w:v=w,b=w,w=void 0},drain:function(){var B=v;for(v=b=i=void 0;B;)B.fn.call(B.self),B=B.next}}}();function n(p,v){r.add(p,v),i||(i=l(r.drain))}function t(p){var v,b=typeof p;return p!=null&&(b=="object"||b=="function")&&(v=p.then),typeof v=="function"?v:!1}function u(){for(var p=0;p<this.chain.length;p++)h(this,this.state===1?this.chain[p].success:this.chain[p].failure,this.chain[p]);this.chain.length=0}function h(p,v,b){var w,_;try{v===!1?b.reject(p.msg):(v===!0?w=p.msg:w=v.call(void 0,p.msg),w===b.promise?b.reject(TypeError("Promise-chain cycle")):(_=t(w))?_.call(w,b.resolve,b.reject):b.resolve(w))}catch(D){b.reject(D)}}function m(p){var v,b=this;if(!b.triggered){b.triggered=!0,b.def&&(b=b.def);try{(v=t(p))?n(function(){var w=new T(b);try{v.call(p,function(){m.apply(w,arguments)},function(){y.apply(w,arguments)})}catch(_){y.call(w,_)}}):(b.msg=p,b.state=1,b.chain.length>0&&n(u,b))}catch(w){y.call(new T(b),w)}}}function y(p){var v=this;v.triggered||(v.triggered=!0,v.def&&(v=v.def),v.msg=p,v.state=2,v.chain.length>0&&n(u,v))}function d(p,v,b,w){for(var _=0;_<v.length;_++)(function(B){p.resolve(v[B]).then(function(L){b(B,L)},w)})(_)}function T(p){this.def=p,this.triggered=!1}function x(p){this.promise=p,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function M(p){if(typeof p!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var v=new x(this);this.then=function(w,_){var D={success:typeof w=="function"?w:!0,failure:typeof _=="function"?_:!1};return D.promise=new this.constructor(function(U,L){if(typeof U!="function"||typeof L!="function")throw TypeError("Not a function");D.resolve=U,D.reject=L}),v.chain.push(D),v.state!==0&&n(u,v),D.promise},this.catch=function(w){return this.then(void 0,w)};try{p.call(void 0,function(w){m.call(v,w)},function(w){y.call(v,w)})}catch(b){y.call(v,b)}}var c=s({},"constructor",M,!1);return M.prototype=c,s(c,"__NPO__",0,!1),s(M,"resolve",function(v){var b=this;return v&&typeof v=="object"&&v.__NPO__===1?v:new b(function(_,D){if(typeof _!="function"||typeof D!="function")throw TypeError("Not a function");_(v)})}),s(M,"reject",function(v){return new this(function(w,_){if(typeof w!="function"||typeof _!="function")throw TypeError("Not a function");_(v)})}),s(M,"all",function(v){var b=this;return f.call(v)!="[object Array]"?b.reject(TypeError("Not an array")):v.length===0?b.resolve([]):new b(function(_,D){if(typeof _!="function"||typeof D!="function")throw TypeError("Not a function");var B=v.length,U=Array(B),L=0;d(b,v,function(R,Z){U[R]=Z,++L===B&&_(U)},D)})}),s(M,"race",function(v){var b=this;return f.call(v)!="[object Array]"?b.reject(TypeError("Not an array")):new b(function(_,D){if(typeof _!="function"||typeof D!="function")throw TypeError("Not a function");d(b,v,function(U,L){_(L)},D)})}),M})},6131:function(te){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var I=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function g(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function s(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var r={},f=0;f<10;f++)r["_"+String.fromCharCode(f)]=f;var l=Object.getOwnPropertyNames(r).map(function(t){return r[t]});if(l.join("")!=="0123456789")return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),Object.keys(Object.assign({},n)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}te.exports=s()?Object.assign:function(i,r){for(var f,l=g(i),n,t=1;t<arguments.length;t++){f=Object(arguments[t]);for(var u in f)e.call(f,u)&&(l[u]=f[u]);if(I){n=I(f);for(var h=0;h<n.length;h++)o.call(f,n[h])&&(l[n[h]]=f[n[h]])}}return l}},5616:function(te){te.exports=o;var I={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function o(i){var r=[];return i.replace(e,function(f,l,n){var t=l.toLowerCase();for(n=s(n),t=="m"&&n.length>2&&(r.push([l].concat(n.splice(0,2))),t="l",l=l=="m"?"l":"L");;){if(n.length==I[t])return n.unshift(l),r.push(n);if(n.length<I[t])throw new Error("malformed path data");r.push([l].concat(n.splice(0,I[t])))}}),r}var g=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function s(i){var r=i.match(g);return r?r.map(Number):[]}},8258:function(te){te.exports=function(e,o,g,s){var i=e[0],r=e[1],f=!1;g===void 0&&(g=0),s===void 0&&(s=o.length);for(var l=s-g,n=0,t=l-1;n<l;t=n++){var u=o[n+g][0],h=o[n+g][1],m=o[t+g][0],y=o[t+g][1],d=h>r!=y>r&&i<(m-u)*(r-h)/(y-h)+u;d&&(f=!f)}return f}},2142:function(te,I,e){/*
* @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
* @license MIT
* @preserve Project Home: https://github.com/voidqk/polybooljs
*/var o=e(9444),g=e(9023),s=e(7263),i=e(1328),r=e(5968),f=e(670),l=!1,n=g(),t;t={buildLog:function(h){return h===!0?l=o():h===!1&&(l=!1),l===!1?!1:l.list},epsilon:function(h){return n.epsilon(h)},segments:function(h){var m=s(!0,n,l);return h.regions.forEach(m.addRegion),{segments:m.calculate(h.inverted),inverted:h.inverted}},combine:function(h,m){var y=s(!1,n,l);return{combined:y.calculate(h.segments,h.inverted,m.segments,m.inverted),inverted1:h.inverted,inverted2:m.inverted}},selectUnion:function(h){return{segments:r.union(h.combined,l),inverted:h.inverted1||h.inverted2}},selectIntersect:function(h){return{segments:r.intersect(h.combined,l),inverted:h.inverted1&&h.inverted2}},selectDifference:function(h){return{segments:r.difference(h.combined,l),inverted:h.inverted1&&!h.inverted2}},selectDifferenceRev:function(h){return{segments:r.differenceRev(h.combined,l),inverted:!h.inverted1&&h.inverted2}},selectXor:function(h){return{segments:r.xor(h.combined,l),inverted:h.inverted1!==h.inverted2}},polygon:function(h){return{regions:i(h.segments,n,l),inverted:h.inverted}},polygonFromGeoJSON:function(h){return f.toPolygon(t,h)},polygonToGeoJSON:function(h){return f.fromPolygon(t,n,h)},union:function(h,m){return u(h,m,t.selectUnion)},intersect:function(h,m){return u(h,m,t.selectIntersect)},difference:function(h,m){return u(h,m,t.selectDifference)},differenceRev:function(h,m){return u(h,m,t.selectDifferenceRev)},xor:function(h,m){return u(h,m,t.selectXor)}};function u(h,m,y){var d=t.segments(h),T=t.segments(m),x=t.combine(d,T),M=y(x);return t.polygon(M)}typeof window=="object"&&(window.PolyBool=t),te.exports=t},9444:function(te){function I(){var e,o=0,g=!1;function s(i,r){return e.list.push({type:i,data:r?JSON.parse(JSON.stringify(r)):void 0}),e}return e={list:[],segmentId:function(){return o++},checkIntersection:function(i,r){return s("check",{seg1:i,seg2:r})},segmentChop:function(i,r){return s("div_seg",{seg:i,pt:r}),s("chop",{seg:i,pt:r})},statusRemove:function(i){return s("pop_seg",{seg:i})},segmentUpdate:function(i){return s("seg_update",{seg:i})},segmentNew:function(i,r){return s("new_seg",{seg:i,primary:r})},segmentRemove:function(i){return s("rem_seg",{seg:i})},tempStatus:function(i,r,f){return s("temp_status",{seg:i,above:r,below:f})},rewind:function(i){return s("rewind",{seg:i})},status:function(i,r,f){return s("status",{seg:i,above:r,below:f})},vert:function(i){return i===g?e:(g=i,s("vert",{x:i}))},log:function(i){return typeof i!="string"&&(i=JSON.stringify(i,!1,"  ")),s("log",{txt:i})},reset:function(){return s("reset")},selected:function(i){return s("selected",{segs:i})},chainStart:function(i){return s("chain_start",{seg:i})},chainRemoveHead:function(i,r){return s("chain_rem_head",{index:i,pt:r})},chainRemoveTail:function(i,r){return s("chain_rem_tail",{index:i,pt:r})},chainNew:function(i,r){return s("chain_new",{pt1:i,pt2:r})},chainMatch:function(i){return s("chain_match",{index:i})},chainClose:function(i){return s("chain_close",{index:i})},chainAddHead:function(i,r){return s("chain_add_head",{index:i,pt:r})},chainAddTail:function(i,r){return s("chain_add_tail",{index:i,pt:r})},chainConnect:function(i,r){return s("chain_con",{index1:i,index2:r})},chainReverse:function(i){return s("chain_rev",{index:i})},chainJoin:function(i,r){return s("chain_join",{index1:i,index2:r})},done:function(){return s("done")}},e}te.exports=I},9023:function(te){function I(e){typeof e!="number"&&(e=1e-10);var o={epsilon:function(g){return typeof g=="number"&&(e=g),e},pointAboveOrOnLine:function(g,s,i){var r=s[0],f=s[1],l=i[0],n=i[1],t=g[0],u=g[1];return(l-r)*(u-f)-(n-f)*(t-r)>=-e},pointBetween:function(g,s,i){var r=g[1]-s[1],f=i[0]-s[0],l=g[0]-s[0],n=i[1]-s[1],t=l*f+r*n;if(t<e)return!1;var u=f*f+n*n;return!(t-u>-e)},pointsSameX:function(g,s){return Math.abs(g[0]-s[0])<e},pointsSameY:function(g,s){return Math.abs(g[1]-s[1])<e},pointsSame:function(g,s){return o.pointsSameX(g,s)&&o.pointsSameY(g,s)},pointsCompare:function(g,s){return o.pointsSameX(g,s)?o.pointsSameY(g,s)?0:g[1]<s[1]?-1:1:g[0]<s[0]?-1:1},pointsCollinear:function(g,s,i){var r=g[0]-s[0],f=g[1]-s[1],l=s[0]-i[0],n=s[1]-i[1];return Math.abs(r*n-l*f)<e},linesIntersect:function(g,s,i,r){var f=s[0]-g[0],l=s[1]-g[1],n=r[0]-i[0],t=r[1]-i[1],u=f*t-l*n;if(Math.abs(u)<e)return!1;var h=g[0]-i[0],m=g[1]-i[1],y=(n*m-t*h)/u,d=(f*m-l*h)/u,T={alongA:0,alongB:0,pt:[g[0]+y*f,g[1]+y*l]};return y<=-e?T.alongA=-2:y<e?T.alongA=-1:y-1<=-e?T.alongA=0:y-1<e?T.alongA=1:T.alongA=2,d<=-e?T.alongB=-2:d<e?T.alongB=-1:d-1<=-e?T.alongB=0:d-1<e?T.alongB=1:T.alongB=2,T},pointInsideRegion:function(g,s){for(var i=g[0],r=g[1],f=s[s.length-1][0],l=s[s.length-1][1],n=!1,t=0;t<s.length;t++){var u=s[t][0],h=s[t][1];h-r>e!=l-r>e&&(f-u)*(r-h)/(l-h)+u-i>e&&(n=!n),f=u,l=h}return n}};return o}te.exports=I},670:function(te){var I={toPolygon:function(e,o){function g(r){if(r.length<=0)return e.segments({inverted:!1,regions:[]});function f(t){var u=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[u]})}for(var l=f(r[0]),n=1;n<r.length;n++)l=e.selectDifference(e.combine(l,f(r[n])));return l}if(o.type==="Polygon")return e.polygon(g(o.coordinates));if(o.type==="MultiPolygon"){for(var s=e.segments({inverted:!1,regions:[]}),i=0;i<o.coordinates.length;i++)s=e.selectUnion(e.combine(s,g(o.coordinates[i])));return e.polygon(s)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,o,g){g=e.polygon(e.segments(g));function s(y,d){return o.pointInsideRegion([(y[0][0]+y[1][0])*.5,(y[0][1]+y[1][1])*.5],d)}function i(y){return{region:y,children:[]}}var r=i(null);function f(y,d){for(var T=0;T<y.children.length;T++){var x=y.children[T];if(s(d,x.region)){f(x,d);return}}for(var M=i(d),T=0;T<y.children.length;T++){var x=y.children[T];s(x.region,d)&&(M.children.push(x),y.children.splice(T,1),T--)}y.children.push(M)}for(var l=0;l<g.regions.length;l++){var n=g.regions[l];n.length<3||f(r,n)}function t(y,d){for(var T=0,x=y[y.length-1][0],M=y[y.length-1][1],c=[],p=0;p<y.length;p++){var v=y[p][0],b=y[p][1];c.push([v,b]),T+=b*x-v*M,x=v,M=b}var w=T<0;return w!==d&&c.reverse(),c.push([c[0][0],c[0][1]]),c}var u=[];function h(y){var d=[t(y.region,!1)];u.push(d);for(var T=0;T<y.children.length;T++)d.push(m(y.children[T]))}function m(y){for(var d=0;d<y.children.length;d++)h(y.children[d]);return t(y.region,!0)}for(var l=0;l<r.children.length;l++)h(r.children[l]);return u.length<=0?{type:"Polygon",coordinates:[]}:u.length==1?{type:"Polygon",coordinates:u[0]}:{type:"MultiPolygon",coordinates:u}}};te.exports=I},7263:function(te,I,e){var o=e(6859);function g(s,i,r){function f(M,c){return{id:r?r.segmentId():-1,start:M,end:c,myFill:{above:null,below:null},otherFill:null}}function l(M,c,p){return{id:r?r.segmentId():-1,start:M,end:c,myFill:{above:p.myFill.above,below:p.myFill.below},otherFill:null}}var n=o.create();function t(M,c,p,v,b,w){var _=i.pointsCompare(c,b);return _!==0?_:i.pointsSame(p,w)?0:M!==v?M?1:-1:i.pointAboveOrOnLine(p,v?b:w,v?w:b)?1:-1}function u(M,c){n.insertBefore(M,function(p){var v=t(M.isStart,M.pt,c,p.isStart,p.pt,p.other.pt);return v<0})}function h(M,c){var p=o.node({isStart:!0,pt:M.start,seg:M,primary:c,other:null,status:null});return u(p,M.end),p}function m(M,c,p){var v=o.node({isStart:!1,pt:c.end,seg:c,primary:p,other:M,status:null});M.other=v,u(v,M.pt)}function y(M,c){var p=h(M,c);return m(p,M,c),p}function d(M,c){r&&r.segmentChop(M.seg,c),M.other.remove(),M.seg.end=c,M.other.pt=c,u(M.other,M.pt)}function T(M,c){var p=l(c,M.seg.end,M.seg);return d(M,c),y(p,M.primary)}function x(M,c){var p=o.create();function v(N,F){var G=N.seg.start,W=N.seg.end,X=F.seg.start,J=F.seg.end;return i.pointsCollinear(G,X,J)?i.pointsCollinear(W,X,J)||i.pointAboveOrOnLine(W,X,J)?1:-1:i.pointAboveOrOnLine(G,X,J)?1:-1}function b(N){return p.findTransition(function(F){var G=v(N,F.ev);return G>0})}function w(N,F){var G=N.seg,W=F.seg,X=G.start,J=G.end,ne=W.start,fe=W.end;r&&r.checkIntersection(G,W);var ye=i.linesIntersect(X,J,ne,fe);if(ye===!1){if(!i.pointsCollinear(X,J,ne)||i.pointsSame(X,fe)||i.pointsSame(J,ne))return!1;var Me=i.pointsSame(X,ne),le=i.pointsSame(J,fe);if(Me&&le)return F;var ve=!Me&&i.pointBetween(X,ne,fe),H=!le&&i.pointBetween(J,ne,fe);if(Me)return H?T(F,J):T(N,fe),F;ve&&(le||(H?T(F,J):T(N,fe)),T(F,X))}else ye.alongA===0&&(ye.alongB===-1?T(N,ne):ye.alongB===0?T(N,ye.pt):ye.alongB===1&&T(N,fe)),ye.alongB===0&&(ye.alongA===-1?T(F,X):ye.alongA===0?T(F,ye.pt):ye.alongA===1&&T(F,J));return!1}for(var _=[];!n.isEmpty();){var D=n.getHead();if(r&&r.vert(D.pt[0]),D.isStart){let N=function(){if(U){var F=w(D,U);if(F)return F}return L?w(D,L):!1};r&&r.segmentNew(D.seg,D.primary);var B=b(D),U=B.before?B.before.ev:null,L=B.after?B.after.ev:null;r&&r.tempStatus(D.seg,U?U.seg:!1,L?L.seg:!1);var O=N();if(O){if(s){var R;D.seg.myFill.below===null?R=!0:R=D.seg.myFill.above!==D.seg.myFill.below,R&&(O.seg.myFill.above=!O.seg.myFill.above)}else O.seg.otherFill=D.seg.myFill;r&&r.segmentUpdate(O.seg),D.other.remove(),D.remove()}if(n.getHead()!==D){r&&r.rewind(D.seg);continue}if(s){var R;D.seg.myFill.below===null?R=!0:R=D.seg.myFill.above!==D.seg.myFill.below,L?D.seg.myFill.below=L.seg.myFill.above:D.seg.myFill.below=M,R?D.seg.myFill.above=!D.seg.myFill.below:D.seg.myFill.above=D.seg.myFill.below}else if(D.seg.otherFill===null){var Z;L?D.primary===L.primary?Z=L.seg.otherFill.above:Z=L.seg.myFill.above:Z=D.primary?c:M,D.seg.otherFill={above:Z,below:Z}}r&&r.status(D.seg,U?U.seg:!1,L?L.seg:!1),D.other.status=B.insert(o.node({ev:D}))}else{var $=D.status;if($===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(p.exists($.prev)&&p.exists($.next)&&w($.prev.ev,$.next.ev),r&&r.statusRemove($.ev.seg),$.remove(),!D.primary){var ie=D.seg.myFill;D.seg.myFill=D.seg.otherFill,D.seg.otherFill=ie}_.push(D.seg)}n.getHead().remove()}return r&&r.done(),_}return s?{addRegion:function(M){for(var c,p=M[M.length-1],v=0;v<M.length;v++){c=p,p=M[v];var b=i.pointsCompare(c,p);b!==0&&y(f(b<0?c:p,b<0?p:c),!0)}},calculate:function(M){return x(M,!1)}}:{calculate:function(M,c,p,v){return M.forEach(function(b){y(l(b.start,b.end,b),!0)}),p.forEach(function(b){y(l(b.start,b.end,b),!1)}),x(c,v)}}}te.exports=g},6859:function(te){var I={create:function(){var e={root:{root:!0,next:null},exists:function(o){return!(o===null||o===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(o,g){for(var s=e.root,i=e.root.next;i!==null;){if(g(i)){o.prev=i.prev,o.next=i,i.prev.next=o,i.prev=o;return}s=i,i=i.next}s.next=o,o.prev=s,o.next=null},findTransition:function(o){for(var g=e.root,s=e.root.next;s!==null&&!o(s);)g=s,s=s.next;return{before:g===e.root?null:g,after:s,insert:function(i){return i.prev=g,i.next=s,g.next=i,s!==null&&(s.prev=i),i}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};te.exports=I},1328:function(te){function I(e,o,g){var s=[],i=[];return e.forEach(function(r){var f=r.start,l=r.end;if(o.pointsSame(f,l)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}g&&g.chainStart(r);var n={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},u=n;function h(O,R,Z){return u.index=O,u.matches_head=R,u.matches_pt1=Z,u===n?(u=t,!1):(u=null,!0)}for(var m=0;m<s.length;m++){var y=s[m],d=y[0];y[1];var T=y[y.length-1];if(y[y.length-2],o.pointsSame(d,f)){if(h(m,!0,!0))break}else if(o.pointsSame(d,l)){if(h(m,!0,!1))break}else if(o.pointsSame(T,f)){if(h(m,!1,!0))break}else if(o.pointsSame(T,l)&&h(m,!1,!1))break}if(u===n){s.push([f,l]),g&&g.chainNew(f,l);return}if(u===t){g&&g.chainMatch(n.index);var x=n.index,M=n.matches_pt1?l:f,c=n.matches_head,y=s[x],p=c?y[0]:y[y.length-1],v=c?y[1]:y[y.length-2],b=c?y[y.length-1]:y[0],w=c?y[y.length-2]:y[1];if(o.pointsCollinear(v,p,M)&&(c?(g&&g.chainRemoveHead(n.index,M),y.shift()):(g&&g.chainRemoveTail(n.index,M),y.pop()),p=v),o.pointsSame(b,M)){s.splice(x,1),o.pointsCollinear(w,b,p)&&(c?(g&&g.chainRemoveTail(n.index,p),y.pop()):(g&&g.chainRemoveHead(n.index,p),y.shift())),g&&g.chainClose(n.index),i.push(y);return}c?(g&&g.chainAddHead(n.index,M),y.unshift(M)):(g&&g.chainAddTail(n.index,M),y.push(M));return}function _(O){g&&g.chainReverse(O),s[O].reverse()}function D(O,R){var Z=s[O],$=s[R],ie=Z[Z.length-1],N=Z[Z.length-2],F=$[0],G=$[1];o.pointsCollinear(N,ie,F)&&(g&&g.chainRemoveTail(O,ie),Z.pop(),ie=N),o.pointsCollinear(ie,F,G)&&(g&&g.chainRemoveHead(R,F),$.shift()),g&&g.chainJoin(O,R),s[O]=Z.concat($),s.splice(R,1)}var B=n.index,U=t.index;g&&g.chainConnect(B,U);var L=s[B].length<s[U].length;n.matches_head?t.matches_head?L?(_(B),D(B,U)):(_(U),D(U,B)):D(U,B):t.matches_head?D(B,U):L?(_(B),D(U,B)):(_(U),D(B,U))}),i}te.exports=I},5968:function(te){function I(o,g,s){var i=[];return o.forEach(function(r){var f=(r.myFill.above?8:0)+(r.myFill.below?4:0)+(r.otherFill&&r.otherFill.above?2:0)+(r.otherFill&&r.otherFill.below?1:0);g[f]!==0&&i.push({id:s?s.segmentId():-1,start:r.start,end:r.end,myFill:{above:g[f]===1,below:g[f]===2},otherFill:null})}),s&&s.selected(i),i}var e={union:function(o,g){return I(o,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],g)},intersect:function(o,g){return I(o,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],g)},difference:function(o,g){return I(o,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],g)},differenceRev:function(o,g){return I(o,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],g)},xor:function(o,g){return I(o,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],g)}};te.exports=e},4267:function(te,I,e){var o;(function(g){var s=/^\s+/,i=/\s+$/,r=0,f=g.round,l=g.min,n=g.max,t=g.random;function u(C,K){if(C=C||"",K=K||{},C instanceof u)return C;if(!(this instanceof u))return new u(C,K);var P=h(C);this._originalInput=C,this._r=P.r,this._g=P.g,this._b=P.b,this._a=P.a,this._roundA=f(100*this._a)/100,this._format=K.format||P.format,this._gradientType=K.gradientType,this._r<1&&(this._r=f(this._r)),this._g<1&&(this._g=f(this._g)),this._b<1&&(this._b=f(this._b)),this._ok=P.ok,this._tc_id=r++}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var C=this.toRgb();return(C.r*299+C.g*587+C.b*114)/1e3},getLuminance:function(){var C=this.toRgb(),K,P,j,ae,ue,he;return K=C.r/255,P=C.g/255,j=C.b/255,K<=.03928?ae=K/12.92:ae=g.pow((K+.055)/1.055,2.4),P<=.03928?ue=P/12.92:ue=g.pow((P+.055)/1.055,2.4),j<=.03928?he=j/12.92:he=g.pow((j+.055)/1.055,2.4),.2126*ae+.7152*ue+.0722*he},setAlpha:function(C){return this._a=W(C),this._roundA=f(100*this._a)/100,this},toHsv:function(){var C=T(this._r,this._g,this._b);return{h:C.h*360,s:C.s,v:C.v,a:this._a}},toHsvString:function(){var C=T(this._r,this._g,this._b),K=f(C.h*360),P=f(C.s*100),j=f(C.v*100);return this._a==1?"hsv("+K+", "+P+"%, "+j+"%)":"hsva("+K+", "+P+"%, "+j+"%, "+this._roundA+")"},toHsl:function(){var C=y(this._r,this._g,this._b);return{h:C.h*360,s:C.s,l:C.l,a:this._a}},toHslString:function(){var C=y(this._r,this._g,this._b),K=f(C.h*360),P=f(C.s*100),j=f(C.l*100);return this._a==1?"hsl("+K+", "+P+"%, "+j+"%)":"hsla("+K+", "+P+"%, "+j+"%, "+this._roundA+")"},toHex:function(C){return M(this._r,this._g,this._b,C)},toHexString:function(C){return"#"+this.toHex(C)},toHex8:function(C){return c(this._r,this._g,this._b,this._a,C)},toHex8String:function(C){return"#"+this.toHex8(C)},toRgb:function(){return{r:f(this._r),g:f(this._g),b:f(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+f(this._r)+", "+f(this._g)+", "+f(this._b)+")":"rgba("+f(this._r)+", "+f(this._g)+", "+f(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:f(X(this._r,255)*100)+"%",g:f(X(this._g,255)*100)+"%",b:f(X(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+f(X(this._r,255)*100)+"%, "+f(X(this._g,255)*100)+"%, "+f(X(this._b,255)*100)+"%)":"rgba("+f(X(this._r,255)*100)+"%, "+f(X(this._g,255)*100)+"%, "+f(X(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:F[M(this._r,this._g,this._b,!0)]||!1},toFilter:function(C){var K="#"+p(this._r,this._g,this._b,this._a),P=K,j=this._gradientType?"GradientType = 1, ":"";if(C){var ae=u(C);P="#"+p(ae._r,ae._g,ae._b,ae._a)}return"progid:DXImageTransform.Microsoft.gradient("+j+"startColorstr="+K+",endColorstr="+P+")"},toString:function(C){var K=!!C;C=C||this._format;var P=!1,j=this._a<1&&this._a>=0,ae=!K&&j&&(C==="hex"||C==="hex6"||C==="hex3"||C==="hex4"||C==="hex8"||C==="name");return ae?C==="name"&&this._a===0?this.toName():this.toRgbString():(C==="rgb"&&(P=this.toRgbString()),C==="prgb"&&(P=this.toPercentageRgbString()),(C==="hex"||C==="hex6")&&(P=this.toHexString()),C==="hex3"&&(P=this.toHexString(!0)),C==="hex4"&&(P=this.toHex8String(!0)),C==="hex8"&&(P=this.toHex8String()),C==="name"&&(P=this.toName()),C==="hsl"&&(P=this.toHslString()),C==="hsv"&&(P=this.toHsvString()),P||this.toHexString())},clone:function(){return u(this.toString())},_applyModification:function(C,K){var P=C.apply(null,[this].concat([].slice.call(K)));return this._r=P._r,this._g=P._g,this._b=P._b,this.setAlpha(P._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(D,arguments)},darken:function(){return this._applyModification(B,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(U,arguments)},_applyCombination:function(C,K){return C.apply(null,[this].concat([].slice.call(K)))},analogous:function(){return this._applyCombination($,arguments)},complement:function(){return this._applyCombination(L,arguments)},monochromatic:function(){return this._applyCombination(ie,arguments)},splitcomplement:function(){return this._applyCombination(Z,arguments)},triad:function(){return this._applyCombination(O,arguments)},tetrad:function(){return this._applyCombination(R,arguments)}},u.fromRatio=function(C,K){if(typeof C=="object"){var P={};for(var j in C)C.hasOwnProperty(j)&&(j==="a"?P[j]=C[j]:P[j]=le(C[j]));C=P}return u(C,K)};function h(C){var K={r:0,g:0,b:0},P=1,j=null,ae=null,ue=null,he=!1,Ae=!1;return typeof C=="string"&&(C=E(C)),typeof C=="object"&&(S(C.r)&&S(C.g)&&S(C.b)?(K=m(C.r,C.g,C.b),he=!0,Ae=String(C.r).substr(-1)==="%"?"prgb":"rgb"):S(C.h)&&S(C.s)&&S(C.v)?(j=le(C.s),ae=le(C.v),K=x(C.h,j,ae),he=!0,Ae="hsv"):S(C.h)&&S(C.s)&&S(C.l)&&(j=le(C.s),ue=le(C.l),K=d(C.h,j,ue),he=!0,Ae="hsl"),C.hasOwnProperty("a")&&(P=C.a)),P=W(P),{ok:he,format:C.format||Ae,r:l(255,n(K.r,0)),g:l(255,n(K.g,0)),b:l(255,n(K.b,0)),a:P}}function m(C,K,P){return{r:X(C,255)*255,g:X(K,255)*255,b:X(P,255)*255}}function y(C,K,P){C=X(C,255),K=X(K,255),P=X(P,255);var j=n(C,K,P),ae=l(C,K,P),ue,he,Ae=(j+ae)/2;if(j==ae)ue=he=0;else{var ke=j-ae;switch(he=Ae>.5?ke/(2-j-ae):ke/(j+ae),j){case C:ue=(K-P)/ke+(K<P?6:0);break;case K:ue=(P-C)/ke+2;break;case P:ue=(C-K)/ke+4;break}ue/=6}return{h:ue,s:he,l:Ae}}function d(C,K,P){var j,ae,ue;C=X(C,360),K=X(K,100),P=X(P,100);function he(ce,me,pe){return pe<0&&(pe+=1),pe>1&&(pe-=1),pe<.16666666666666666?ce+(me-ce)*6*pe:pe<.5?me:pe<.6666666666666666?ce+(me-ce)*(.6666666666666666-pe)*6:ce}if(K===0)j=ae=ue=P;else{var Ae=P<.5?P*(1+K):P+K-P*K,ke=2*P-Ae;j=he(ke,Ae,C+.3333333333333333),ae=he(ke,Ae,C),ue=he(ke,Ae,C-.3333333333333333)}return{r:j*255,g:ae*255,b:ue*255}}function T(C,K,P){C=X(C,255),K=X(K,255),P=X(P,255);var j=n(C,K,P),ae=l(C,K,P),ue,he,Ae=j,ke=j-ae;if(he=j===0?0:ke/j,j==ae)ue=0;else{switch(j){case C:ue=(K-P)/ke+(K<P?6:0);break;case K:ue=(P-C)/ke+2;break;case P:ue=(C-K)/ke+4;break}ue/=6}return{h:ue,s:he,v:Ae}}function x(C,K,P){C=X(C,360)*6,K=X(K,100),P=X(P,100);var j=g.floor(C),ae=C-j,ue=P*(1-K),he=P*(1-ae*K),Ae=P*(1-(1-ae)*K),ke=j%6,ce=[P,he,ue,ue,Ae,P][ke],me=[Ae,P,P,he,ue,ue][ke],pe=[ue,ue,Ae,P,P,he][ke];return{r:ce*255,g:me*255,b:pe*255}}function M(C,K,P,j){var ae=[Me(f(C).toString(16)),Me(f(K).toString(16)),Me(f(P).toString(16))];return j&&ae[0].charAt(0)==ae[0].charAt(1)&&ae[1].charAt(0)==ae[1].charAt(1)&&ae[2].charAt(0)==ae[2].charAt(1)?ae[0].charAt(0)+ae[1].charAt(0)+ae[2].charAt(0):ae.join("")}function c(C,K,P,j,ae){var ue=[Me(f(C).toString(16)),Me(f(K).toString(16)),Me(f(P).toString(16)),Me(ve(j))];return ae&&ue[0].charAt(0)==ue[0].charAt(1)&&ue[1].charAt(0)==ue[1].charAt(1)&&ue[2].charAt(0)==ue[2].charAt(1)&&ue[3].charAt(0)==ue[3].charAt(1)?ue[0].charAt(0)+ue[1].charAt(0)+ue[2].charAt(0)+ue[3].charAt(0):ue.join("")}function p(C,K,P,j){var ae=[Me(ve(j)),Me(f(C).toString(16)),Me(f(K).toString(16)),Me(f(P).toString(16))];return ae.join("")}u.equals=function(C,K){return!C||!K?!1:u(C).toRgbString()==u(K).toRgbString()},u.random=function(){return u.fromRatio({r:t(),g:t(),b:t()})};function v(C,K){K=K===0?0:K||10;var P=u(C).toHsl();return P.s-=K/100,P.s=J(P.s),u(P)}function b(C,K){K=K===0?0:K||10;var P=u(C).toHsl();return P.s+=K/100,P.s=J(P.s),u(P)}function w(C){return u(C).desaturate(100)}function _(C,K){K=K===0?0:K||10;var P=u(C).toHsl();return P.l+=K/100,P.l=J(P.l),u(P)}function D(C,K){K=K===0?0:K||10;var P=u(C).toRgb();return P.r=n(0,l(255,P.r-f(255*-(K/100)))),P.g=n(0,l(255,P.g-f(255*-(K/100)))),P.b=n(0,l(255,P.b-f(255*-(K/100)))),u(P)}function B(C,K){K=K===0?0:K||10;var P=u(C).toHsl();return P.l-=K/100,P.l=J(P.l),u(P)}function U(C,K){var P=u(C).toHsl(),j=(P.h+K)%360;return P.h=j<0?360+j:j,u(P)}function L(C){var K=u(C).toHsl();return K.h=(K.h+180)%360,u(K)}function O(C){var K=u(C).toHsl(),P=K.h;return[u(C),u({h:(P+120)%360,s:K.s,l:K.l}),u({h:(P+240)%360,s:K.s,l:K.l})]}function R(C){var K=u(C).toHsl(),P=K.h;return[u(C),u({h:(P+90)%360,s:K.s,l:K.l}),u({h:(P+180)%360,s:K.s,l:K.l}),u({h:(P+270)%360,s:K.s,l:K.l})]}function Z(C){var K=u(C).toHsl(),P=K.h;return[u(C),u({h:(P+72)%360,s:K.s,l:K.l}),u({h:(P+216)%360,s:K.s,l:K.l})]}function $(C,K,P){K=K||6,P=P||30;var j=u(C).toHsl(),ae=360/P,ue=[u(C)];for(j.h=(j.h-(ae*K>>1)+720)%360;--K;)j.h=(j.h+ae)%360,ue.push(u(j));return ue}function ie(C,K){K=K||6;for(var P=u(C).toHsv(),j=P.h,ae=P.s,ue=P.v,he=[],Ae=1/K;K--;)he.push(u({h:j,s:ae,v:ue})),ue=(ue+Ae)%1;return he}u.mix=function(C,K,P){P=P===0?0:P||50;var j=u(C).toRgb(),ae=u(K).toRgb(),ue=P/100,he={r:(ae.r-j.r)*ue+j.r,g:(ae.g-j.g)*ue+j.g,b:(ae.b-j.b)*ue+j.b,a:(ae.a-j.a)*ue+j.a};return u(he)},u.readability=function(C,K){var P=u(C),j=u(K);return(g.max(P.getLuminance(),j.getLuminance())+.05)/(g.min(P.getLuminance(),j.getLuminance())+.05)},u.isReadable=function(C,K,P){var j=u.readability(C,K),ae,ue;switch(ue=!1,ae=z(P),ae.level+ae.size){case"AAsmall":case"AAAlarge":ue=j>=4.5;break;case"AAlarge":ue=j>=3;break;case"AAAsmall":ue=j>=7;break}return ue},u.mostReadable=function(C,K,P){var j=null,ae=0,ue,he,Ae,ke;P=P||{},he=P.includeFallbackColors,Ae=P.level,ke=P.size;for(var ce=0;ce<K.length;ce++)ue=u.readability(C,K[ce]),ue>ae&&(ae=ue,j=u(K[ce]));return u.isReadable(C,j,{level:Ae,size:ke})||!he?j:(P.includeFallbackColors=!1,u.mostReadable(C,["#fff","#000"],P))};var N=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},F=u.hexNames=G(N);function G(C){var K={};for(var P in C)C.hasOwnProperty(P)&&(K[C[P]]=P);return K}function W(C){return C=parseFloat(C),(isNaN(C)||C<0||C>1)&&(C=1),C}function X(C,K){fe(C)&&(C="100%");var P=ye(C);return C=l(K,n(0,parseFloat(C))),P&&(C=parseInt(C*K,10)/100),g.abs(C-K)<1e-6?1:C%K/parseFloat(K)}function J(C){return l(1,n(0,C))}function ne(C){return parseInt(C,16)}function fe(C){return typeof C=="string"&&C.indexOf(".")!=-1&&parseFloat(C)===1}function ye(C){return typeof C=="string"&&C.indexOf("%")!=-1}function Me(C){return C.length==1?"0"+C:""+C}function le(C){return C<=1&&(C=C*100+"%"),C}function ve(C){return g.round(parseFloat(C)*255).toString(16)}function H(C){return ne(C)/255}var Y=function(){var C="[-\\+]?\\d+%?",K="[-\\+]?\\d*\\.\\d+%?",P="(?:"+K+")|(?:"+C+")",j="[\\s|\\(]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?",ae="[\\s|\\(]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?";return{CSS_UNIT:new RegExp(P),rgb:new RegExp("rgb"+j),rgba:new RegExp("rgba"+ae),hsl:new RegExp("hsl"+j),hsla:new RegExp("hsla"+ae),hsv:new RegExp("hsv"+j),hsva:new RegExp("hsva"+ae),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function S(C){return!!Y.CSS_UNIT.exec(C)}function E(C){C=C.replace(s,"").replace(i,"").toLowerCase();var K=!1;if(N[C])C=N[C],K=!0;else if(C=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var P;return(P=Y.rgb.exec(C))?{r:P[1],g:P[2],b:P[3]}:(P=Y.rgba.exec(C))?{r:P[1],g:P[2],b:P[3],a:P[4]}:(P=Y.hsl.exec(C))?{h:P[1],s:P[2],l:P[3]}:(P=Y.hsla.exec(C))?{h:P[1],s:P[2],l:P[3],a:P[4]}:(P=Y.hsv.exec(C))?{h:P[1],s:P[2],v:P[3]}:(P=Y.hsva.exec(C))?{h:P[1],s:P[2],v:P[3],a:P[4]}:(P=Y.hex8.exec(C))?{r:ne(P[1]),g:ne(P[2]),b:ne(P[3]),a:H(P[4]),format:K?"name":"hex8"}:(P=Y.hex6.exec(C))?{r:ne(P[1]),g:ne(P[2]),b:ne(P[3]),format:K?"name":"hex"}:(P=Y.hex4.exec(C))?{r:ne(P[1]+""+P[1]),g:ne(P[2]+""+P[2]),b:ne(P[3]+""+P[3]),a:H(P[4]+""+P[4]),format:K?"name":"hex8"}:(P=Y.hex3.exec(C))?{r:ne(P[1]+""+P[1]),g:ne(P[2]+""+P[2]),b:ne(P[3]+""+P[3]),format:K?"name":"hex"}:!1}function z(C){var K,P;return C=C||{level:"AA",size:"small"},K=(C.level||"AA").toUpperCase(),P=(C.size||"small").toLowerCase(),K!=="AA"&&K!=="AAA"&&(K="AA"),P!=="small"&&P!=="large"&&(P="small"),{level:K,size:P}}te.exports?te.exports=u:(o=function(){return u}.call(I,e,I,te),o!==void 0&&(te.exports=o))})(Math)},3961:function(te,I,e){var o=e(3489),g=e(6131),s=o.instance();function i(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}i.prototype=new o.baseCalendar,g(i.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(y,d){if(typeof y=="string"){var T=y.match(f);return T?T[0]:""}var x=this._validateYear(y),M=y.month(),c=""+this.toChineseMonth(x,M);return d&&c.length<2&&(c="0"+c),this.isIntercalaryMonth(x,M)&&(c+="i"),c},monthNames:function(y){if(typeof y=="string"){var d=y.match(l);return d?d[0]:""}var T=this._validateYear(y),x=y.month(),M=this.toChineseMonth(T,x),c=["","","","","","","","","","","",""][M-1];return this.isIntercalaryMonth(T,x)&&(c=""+c),c},monthNamesShort:function(y){if(typeof y=="string"){var d=y.match(n);return d?d[0]:""}var T=this._validateYear(y),x=y.month(),M=this.toChineseMonth(T,x),c=["","","","","","","","","","","",""][M-1];return this.isIntercalaryMonth(T,x)&&(c=""+c),c},parseMonth:function(y,d){y=this._validateYear(y);var T=parseInt(d),x;if(isNaN(T))d[0]===""&&(x=!0,d=d.substring(1)),d[d.length-1]===""&&(d=d.substring(0,d.length-1)),T=1+["","","","","","","","","","","",""].indexOf(d);else{var M=d[d.length-1];x=M==="i"||M==="I"}var c=this.toMonthIndex(y,T,x);return c},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(y,d){if(y.year&&(y=y.year()),typeof y!="number"||y<1888||y>2111)throw d.replace(/\{0\}/,this.local.name);return y},toMonthIndex:function(y,d,T){var x=this.intercalaryMonth(y),M=T&&d!==x;if(M||d<1||d>12)throw o.local.invalidMonth.replace(/\{0\}/,this.local.name);var c;return x?!T&&d<=x?c=d-1:c=d:c=d-1,c},toChineseMonth:function(y,d){y.year&&(y=y.year(),d=y.month());var T=this.intercalaryMonth(y),x=T?12:11;if(d<0||d>x)throw o.local.invalidMonth.replace(/\{0\}/,this.local.name);var M;return T?d<T?M=d+1:M=d:M=d+1,M},intercalaryMonth:function(y){y=this._validateYear(y);var d=t[y-t[0]],T=d>>13;return T},isIntercalaryMonth:function(y,d){y.year&&(y=y.year(),d=y.month());var T=this.intercalaryMonth(y);return!!T&&T===d},leapYear:function(y){return this.intercalaryMonth(y)!==0},weekOfYear:function(y,d,T){var x=this._validateYear(y,o.local.invalidyear),M=u[x-u[0]],c=M>>9&4095,p=M>>5&15,v=M&31,b;b=s.newDate(c,p,v),b.add(4-(b.dayOfWeek()||7),"d");var w=this.toJD(y,d,T)-b.toJD();return 1+Math.floor(w/7)},monthsInYear:function(y){return this.leapYear(y)?13:12},daysInMonth:function(y,d){y.year&&(d=y.month(),y=y.year()),y=this._validateYear(y);var T=t[y-t[0]],x=T>>13,M=x?12:11;if(d>M)throw o.local.invalidMonth.replace(/\{0\}/,this.local.name);var c=T&1<<12-d?30:29;return c},weekDay:function(y,d,T){return(this.dayOfWeek(y,d,T)||7)<6},toJD:function(y,d,T){var x=this._validate(y,c,T,o.local.invalidDate);y=this._validateYear(x.year()),d=x.month(),T=x.day();var M=this.isIntercalaryMonth(y,d),c=this.toChineseMonth(y,d),p=m(y,c,T,M);return s.toJD(p.year,p.month,p.day)},fromJD:function(y){var d=s.fromJD(y),T=h(d.year(),d.month(),d.day()),x=this.toMonthIndex(T.year,T.month,T.isIntercalary);return this.newDate(T.year,x,T.day)},fromString:function(y){var d=y.match(r),T=this._validateYear(+d[1]),x=+d[2],M=!!d[3],c=this.toMonthIndex(T,x,M),p=+d[4];return this.newDate(T,c,p)},add:function(y,d,T){var x=y.year(),M=y.month(),c=this.isIntercalaryMonth(x,M),p=this.toChineseMonth(x,M),v=Object.getPrototypeOf(i.prototype).add.call(this,y,d,T);if(T==="y"){var b=v.year(),w=v.month(),_=this.isIntercalaryMonth(b,p),D=c&&_?this.toMonthIndex(b,p,!0):this.toMonthIndex(b,p,!1);D!==w&&v.month(D)}return v}});var r=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,f=/^\d?\d[iI]?/m,l=/^??[]?/m,n=/^??[]?/m;o.calendars.chinese=i;var t=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],u=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function h(y,d,T,x){var M,c;if(typeof y=="object")M=y,c=d||{};else{var p=typeof y=="number"&&y>=1888&&y<=2111;if(!p)throw new Error("Solar year outside range 1888-2111");var v=typeof d=="number"&&d>=1&&d<=12;if(!v)throw new Error("Solar month outside range 1 - 12");var b=typeof T=="number"&&T>=1&&T<=31;if(!b)throw new Error("Solar day outside range 1 - 31");M={year:y,month:d,day:T},c=x||{}}var w=u[M.year-u[0]],_=M.year<<9|M.month<<5|M.day;c.year=_>=w?M.year:M.year-1,w=u[c.year-u[0]];var D=w>>9&4095,B=w>>5&15,U=w&31,L,O=new Date(D,B-1,U),R=new Date(M.year,M.month-1,M.day);L=Math.round((R-O)/864e5);var Z=t[c.year-t[0]],$;for($=0;$<13;$++){var ie=Z&1<<12-$?30:29;if(L<ie)break;L-=ie}var N=Z>>13;return!N||$<N?(c.isIntercalary=!1,c.month=1+$):$===N?(c.isIntercalary=!0,c.month=$):(c.isIntercalary=!1,c.month=$),c.day=1+L,c}function m(y,d,T,x,M){var c,p;if(typeof y=="object")p=y,c=d||{};else{var v=typeof y=="number"&&y>=1888&&y<=2111;if(!v)throw new Error("Lunar year outside range 1888-2111");var b=typeof d=="number"&&d>=1&&d<=12;if(!b)throw new Error("Lunar month outside range 1 - 12");var w=typeof T=="number"&&T>=1&&T<=30;if(!w)throw new Error("Lunar day outside range 1 - 30");var _;typeof x=="object"?(_=!1,c=x):(_=!!x,c=M||{}),p={year:y,month:d,day:T,isIntercalary:_}}var D;D=p.day-1;var B=t[p.year-t[0]],U=B>>13,L;U&&(p.month>U||p.isIntercalary)?L=p.month:L=p.month-1;for(var O=0;O<L;O++){var R=B&1<<12-O?30:29;D+=R}var Z=u[p.year-u[0]],$=Z>>9&4095,ie=Z>>5&15,N=Z&31,F=new Date($,ie-1,N+D);return c.year=F.getFullYear(),c.month=1+F.getMonth(),c.day=F.getDate(),c}},8751:function(te,I,e){var o=e(3489),g=e(6131);function s(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}s.prototype=new o.baseCalendar,g(s.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(f){var r=this._validate(f,this.minMonth,this.minDay,o.local.invalidYear),f=r.year()+(r.year()<0?1:0);return f%4===3||f%4===-1},monthsInYear:function(i){return this._validate(i,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear),13},weekOfYear:function(i,r,f){var l=this.newDate(i,r,f);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(i,r){var f=this._validate(i,r,this.minDay,o.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===13&&this.leapYear(f.year())?1:0)},weekDay:function(i,r,f){return(this.dayOfWeek(i,r,f)||7)<6},toJD:function(i,r,f){var l=this._validate(i,r,f,o.local.invalidDate);return i=l.year(),i<0&&i++,l.day()+(l.month()-1)*30+(i-1)*365+Math.floor(i/4)+this.jdEpoch-1},fromJD:function(i){var r=Math.floor(i)+.5-this.jdEpoch,f=Math.floor((r-Math.floor((r+366)/1461))/365)+1;f<=0&&f--,r=Math.floor(i)+.5-this.newDate(f,1,1).toJD();var l=Math.floor(r/30)+1,n=r-(l-1)*30+1;return this.newDate(f,l,n)}}),o.calendars.coptic=s},6825:function(te,I,e){var o=e(3489),g=e(6131);function s(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}s.prototype=new o.baseCalendar,g(s.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(r){return this._validate(r,this.minMonth,this.minDay,o.local.invalidYear),!1},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,o.local.invalidYear),13},daysInYear:function(r){return this._validate(r,this.minMonth,this.minDay,o.local.invalidYear),400},weekOfYear:function(r,f,l){var n=this.newDate(r,f,l);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/8)+1},daysInMonth:function(r,f){var l=this._validate(r,f,this.minDay,o.local.invalidMonth);return this.daysPerMonth[l.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(r,f,l){var n=this._validate(r,f,l,o.local.invalidDate);return(n.day()+1)%8},weekDay:function(r,f,l){var n=this.dayOfWeek(r,f,l);return n>=2&&n<=6},extraInfo:function(r,f,l){var n=this._validate(r,f,l,o.local.invalidDate);return{century:i[Math.floor((n.year()-1)/100)+1]||""}},toJD:function(r,f,l){var n=this._validate(r,f,l,o.local.invalidDate);return r=n.year()+(n.year()<0?1:0),f=n.month(),l=n.day(),l+(f>1?16:0)+(f>2?(f-2)*32:0)+(r-1)*400+this.jdEpoch-1},fromJD:function(r){r=Math.floor(r+.5)-Math.floor(this.jdEpoch)-1;var f=Math.floor(r/400)+1;r-=(f-1)*400,r+=r>15?16:0;var l=Math.floor(r/32)+1,n=r-(l-1)*32+1;return this.newDate(f<=0?f-1:f,l,n)}});var i={20:"Fruitbat",21:"Anchovy"};o.calendars.discworld=s},7715:function(te,I,e){var o=e(3489),g=e(6131);function s(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}s.prototype=new o.baseCalendar,g(s.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(f){var r=this._validate(f,this.minMonth,this.minDay,o.local.invalidYear),f=r.year()+(r.year()<0?1:0);return f%4===3||f%4===-1},monthsInYear:function(i){return this._validate(i,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear),13},weekOfYear:function(i,r,f){var l=this.newDate(i,r,f);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(i,r){var f=this._validate(i,r,this.minDay,o.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===13&&this.leapYear(f.year())?1:0)},weekDay:function(i,r,f){return(this.dayOfWeek(i,r,f)||7)<6},toJD:function(i,r,f){var l=this._validate(i,r,f,o.local.invalidDate);return i=l.year(),i<0&&i++,l.day()+(l.month()-1)*30+(i-1)*365+Math.floor(i/4)+this.jdEpoch-1},fromJD:function(i){var r=Math.floor(i)+.5-this.jdEpoch,f=Math.floor((r-Math.floor((r+366)/1461))/365)+1;f<=0&&f--,r=Math.floor(i)+.5-this.newDate(f,1,1).toJD();var l=Math.floor(r/30)+1,n=r-(l-1)*30+1;return this.newDate(f,l,n)}}),o.calendars.ethiopian=s},9384:function(te,I,e){var o=e(3489),g=e(6131);function s(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}s.prototype=new o.baseCalendar,g(s.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(r){var f=this._validate(r,this.minMonth,this.minDay,o.local.invalidYear);return this._leapYear(f.year())},_leapYear:function(r){return r=r<0?r+1:r,i(r*7+1,19)<7},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,o.local.invalidYear),this._leapYear(r.year?r.year():r)?13:12},weekOfYear:function(r,f,l){var n=this.newDate(r,f,l);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(r){var f=this._validate(r,this.minMonth,this.minDay,o.local.invalidYear);return r=f.year(),this.toJD(r===-1?1:r+1,7,1)-this.toJD(r,7,1)},daysInMonth:function(r,f){return r.year&&(f=r.month(),r=r.year()),this._validate(r,f,this.minDay,o.local.invalidMonth),f===12&&this.leapYear(r)||f===8&&i(this.daysInYear(r),10)===5?30:f===9&&i(this.daysInYear(r),10)===3?29:this.daysPerMonth[f-1]},weekDay:function(r,f,l){return this.dayOfWeek(r,f,l)!==6},extraInfo:function(r,f,l){var n=this._validate(r,f,l,o.local.invalidDate);return{yearType:(this.leapYear(n)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(n)%10-3]}},toJD:function(r,f,l){var n=this._validate(r,f,l,o.local.invalidDate);r=n.year(),f=n.month(),l=n.day();var t=r<=0?r+1:r,u=this.jdEpoch+this._delay1(t)+this._delay2(t)+l+1;if(f<7){for(var h=7;h<=this.monthsInYear(r);h++)u+=this.daysInMonth(r,h);for(var h=1;h<f;h++)u+=this.daysInMonth(r,h)}else for(var h=7;h<f;h++)u+=this.daysInMonth(r,h);return u},_delay1:function(r){var f=Math.floor((235*r-234)/19),l=12084+13753*f,n=f*29+Math.floor(l/25920);return i(3*(n+1),7)<3&&n++,n},_delay2:function(r){var f=this._delay1(r-1),l=this._delay1(r),n=this._delay1(r+1);return n-l===356?2:l-f===382?1:0},fromJD:function(r){r=Math.floor(r)+.5;for(var f=Math.floor((r-this.jdEpoch)*98496/35975351)-1;r>=this.toJD(f===-1?1:f+1,7,1);)f++;for(var l=r<this.toJD(f,1,1)?7:1;r>this.toJD(f,l,this.daysInMonth(f,l));)l++;var n=r-this.toJD(f,l,1)+1;return this.newDate(f,l,n)}});function i(r,f){return r-f*Math.floor(r/f)}o.calendars.hebrew=s},3805:function(te,I,e){var o=e(3489),g=e(6131);function s(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}s.prototype=new o.baseCalendar,g(s.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(i){var r=this._validate(i,this.minMonth,this.minDay,o.local.invalidYear);return(r.year()*11+14)%30<11},weekOfYear:function(i,r,f){var l=this.newDate(i,r,f);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInYear:function(i){return this.leapYear(i)?355:354},daysInMonth:function(i,r){var f=this._validate(i,r,this.minDay,o.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===12&&this.leapYear(f.year())?1:0)},weekDay:function(i,r,f){return this.dayOfWeek(i,r,f)!==5},toJD:function(i,r,f){var l=this._validate(i,r,f,o.local.invalidDate);return i=l.year(),r=l.month(),f=l.day(),i=i<=0?i+1:i,f+Math.ceil(29.5*(r-1))+(i-1)*354+Math.floor((3+11*i)/30)+this.jdEpoch-1},fromJD:function(i){i=Math.floor(i)+.5;var r=Math.floor((30*(i-this.jdEpoch)+10646)/10631);r=r<=0?r-1:r;var f=Math.min(12,Math.ceil((i-29-this.toJD(r,1,1))/29.5)+1),l=i-this.toJD(r,f,1)+1;return this.newDate(r,f,l)}}),o.calendars.islamic=s},8874:function(te,I,e){var o=e(3489),g=e(6131);function s(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}s.prototype=new o.baseCalendar,g(s.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(f){var r=this._validate(f,this.minMonth,this.minDay,o.local.invalidYear),f=r.year()<0?r.year()+1:r.year();return f%4===0},weekOfYear:function(i,r,f){var l=this.newDate(i,r,f);return l.add(4-(l.dayOfWeek()||7),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(i,r){var f=this._validate(i,r,this.minDay,o.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===2&&this.leapYear(f.year())?1:0)},weekDay:function(i,r,f){return(this.dayOfWeek(i,r,f)||7)<6},toJD:function(i,r,f){var l=this._validate(i,r,f,o.local.invalidDate);return i=l.year(),r=l.month(),f=l.day(),i<0&&i++,r<=2&&(i--,r+=12),Math.floor(365.25*(i+4716))+Math.floor(30.6001*(r+1))+f-1524.5},fromJD:function(i){var r=Math.floor(i+.5),f=r+1524,l=Math.floor((f-122.1)/365.25),n=Math.floor(365.25*l),t=Math.floor((f-n)/30.6001),u=t-Math.floor(t<14?1:13),h=l-Math.floor(u>2?4716:4715),m=f-n-Math.floor(30.6001*t);return h<=0&&h--,this.newDate(h,u,m)}}),o.calendars.julian=s},3290:function(te,I,e){var o=e(3489),g=e(6131);function s(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}s.prototype=new o.baseCalendar,g(s.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(f){return this._validate(f,this.minMonth,this.minDay,o.local.invalidYear),!1},formatYear:function(f){var l=this._validate(f,this.minMonth,this.minDay,o.local.invalidYear);f=l.year();var n=Math.floor(f/400);f=f%400,f+=f<0?400:0;var t=Math.floor(f/20);return n+"."+t+"."+f%20},forYear:function(f){if(f=f.split("."),f.length<3)throw"Invalid Mayan year";for(var l=0,n=0;n<f.length;n++){var t=parseInt(f[n],10);if(Math.abs(t)>19||n>0&&t<0)throw"Invalid Mayan year";l=l*20+t}return l},monthsInYear:function(f){return this._validate(f,this.minMonth,this.minDay,o.local.invalidYear),18},weekOfYear:function(f,l,n){return this._validate(f,l,n,o.local.invalidDate),0},daysInYear:function(f){return this._validate(f,this.minMonth,this.minDay,o.local.invalidYear),360},daysInMonth:function(f,l){return this._validate(f,l,this.minDay,o.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(f,l,n){var t=this._validate(f,l,n,o.local.invalidDate);return t.day()},weekDay:function(f,l,n){return this._validate(f,l,n,o.local.invalidDate),!0},extraInfo:function(f,l,n){var t=this._validate(f,l,n,o.local.invalidDate),u=t.toJD(),h=this._toHaab(u),m=this._toTzolkin(u);return{haabMonthName:this.local.haabMonths[h[0]-1],haabMonth:h[0],haabDay:h[1],tzolkinDayName:this.local.tzolkinMonths[m[0]-1],tzolkinDay:m[0],tzolkinTrecena:m[1]}},_toHaab:function(f){f-=this.jdEpoch;var l=i(f+8+(18-1)*20,365);return[Math.floor(l/20)+1,i(l,20)]},_toTzolkin:function(f){return f-=this.jdEpoch,[r(f+20,20),r(f+4,13)]},toJD:function(f,l,n){var t=this._validate(f,l,n,o.local.invalidDate);return t.day()+t.month()*20+t.year()*360+this.jdEpoch},fromJD:function(f){f=Math.floor(f)+.5-this.jdEpoch;var l=Math.floor(f/360);f=f%360,f+=f<0?360:0;var n=Math.floor(f/20),t=f%20;return this.newDate(l,n,t)}});function i(f,l){return f-l*Math.floor(f/l)}function r(f,l){return i(f-1,l)+1}o.calendars.mayan=s},9108:function(te,I,e){var o=e(3489),g=e(6131);function s(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}s.prototype=new o.baseCalendar;var i=o.instance("gregorian");g(s.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(r){var f=this._validate(r,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return i.leapYear(f.year()+(f.year()<1?1:0)+1469)},weekOfYear:function(r,f,l){var n=this.newDate(r,f,l);return n.add(1-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(r,f){var l=this._validate(r,f,this.minDay,o.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===12&&this.leapYear(l.year())?1:0)},weekDay:function(r,f,l){return(this.dayOfWeek(r,f,l)||7)<6},toJD:function(t,f,l){var n=this._validate(t,f,l,o.local.invalidMonth),t=n.year();t<0&&t++;for(var u=n.day(),h=1;h<n.month();h++)u+=this.daysPerMonth[h-1];return u+i.toJD(t+1468,3,13)},fromJD:function(r){r=Math.floor(r+.5);for(var f=Math.floor((r-(this.jdEpoch-1))/366);r>=this.toJD(f+1,1,1);)f++;for(var l=r-Math.floor(this.toJD(f,1,1)+.5)+1,n=1;l>this.daysInMonth(f,n);)l-=this.daysInMonth(f,n),n++;return this.newDate(f,n,l)}}),o.calendars.nanakshahi=s},5422:function(te,I,e){var o=e(3489),g=e(6131);function s(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}s.prototype=new o.baseCalendar,g(s.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(i){return this.daysInYear(i)!==this.daysPerYear},weekOfYear:function(i,r,f){var l=this.newDate(i,r,f);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInYear:function(i){var r=this._validate(i,this.minMonth,this.minDay,o.local.invalidYear);if(i=r.year(),typeof this.NEPALI_CALENDAR_DATA[i]>"u")return this.daysPerYear;for(var f=0,l=this.minMonth;l<=12;l++)f+=this.NEPALI_CALENDAR_DATA[i][l];return f},daysInMonth:function(i,r){return i.year&&(r=i.month(),i=i.year()),this._validate(i,r,this.minDay,o.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[i]>"u"?this.daysPerMonth[r-1]:this.NEPALI_CALENDAR_DATA[i][r]},weekDay:function(i,r,f){return this.dayOfWeek(i,r,f)!==6},toJD:function(i,r,f){var l=this._validate(i,r,f,o.local.invalidDate);i=l.year(),r=l.month(),f=l.day();var n=o.instance(),t=0,u=r,h=i;this._createMissingCalendarData(i);var m=i-(u>9||u===9&&f>=this.NEPALI_CALENDAR_DATA[h][0]?56:57);for(r!==9&&(t=f,u--);u!==9;)u<=0&&(u=12,h--),t+=this.NEPALI_CALENDAR_DATA[h][u],u--;return r===9?(t+=f-this.NEPALI_CALENDAR_DATA[h][0],t<0&&(t+=n.daysInYear(m))):t+=this.NEPALI_CALENDAR_DATA[h][9]-this.NEPALI_CALENDAR_DATA[h][0],n.newDate(m,1,1).add(t,"d").toJD()},fromJD:function(i){var r=o.instance(),f=r.fromJD(i),l=f.year(),n=f.dayOfYear(),t=l+56;this._createMissingCalendarData(t);for(var u=9,h=this.NEPALI_CALENDAR_DATA[t][0],m=this.NEPALI_CALENDAR_DATA[t][u]-h+1;n>m;)u++,u>12&&(u=1,t++),m+=this.NEPALI_CALENDAR_DATA[t][u];var y=this.NEPALI_CALENDAR_DATA[t][u]-(m-n);return this.newDate(t,u,y)},_createMissingCalendarData:function(i){var r=this.daysPerMonth.slice(0);r.unshift(17);for(var f=i-1;f<i+2;f++)typeof this.NEPALI_CALENDAR_DATA[f]>"u"&&(this.NEPALI_CALENDAR_DATA[f]=r)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),o.calendars.nepali=s},4320:function(te,I,e){var o=e(3489),g=e(6131);function s(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}s.prototype=new o.baseCalendar,g(s.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(r){var f=this._validate(r,this.minMonth,this.minDay,o.local.invalidYear);return((f.year()-(f.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(r,f,l){var n=this.newDate(r,f,l);return n.add(-((n.dayOfWeek()+1)%7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(r,f){var l=this._validate(r,f,this.minDay,o.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===12&&this.leapYear(l.year())?1:0)},weekDay:function(r,f,l){return this.dayOfWeek(r,f,l)!==5},toJD:function(r,f,l){var n=this._validate(r,f,l,o.local.invalidDate);r=n.year(),f=n.month(),l=n.day();var t=r-(r>=0?474:473),u=474+i(t,2820);return l+(f<=7?(f-1)*31:(f-1)*30+6)+Math.floor((u*682-110)/2816)+(u-1)*365+Math.floor(t/2820)*1029983+this.jdEpoch-1},fromJD:function(r){r=Math.floor(r)+.5;var f=r-this.toJD(475,1,1),l=Math.floor(f/1029983),n=i(f,1029983),t=2820;if(n!==1029982){var u=Math.floor(n/366),h=i(n,366);t=Math.floor((2134*u+2816*h+2815)/1028522)+u+1}var m=t+2820*l+474;m=m<=0?m-1:m;var y=r-this.toJD(m,1,1)+1,d=y<=186?Math.ceil(y/31):Math.ceil((y-6)/30),T=r-this.toJD(m,d,1)+1;return this.newDate(m,d,T)}});function i(r,f){return r-f*Math.floor(r/f)}o.calendars.persian=s,o.calendars.jalali=s},1320:function(te,I,e){var o=e(3489),g=e(6131),s=o.instance();function i(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}i.prototype=new o.baseCalendar,g(i.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(l){var f=this._validate(l,this.minMonth,this.minDay,o.local.invalidYear),l=this._t2gYear(f.year());return s.leapYear(l)},weekOfYear:function(t,f,l){var n=this._validate(t,this.minMonth,this.minDay,o.local.invalidYear),t=this._t2gYear(n.year());return s.weekOfYear(t,n.month(),n.day())},daysInMonth:function(r,f){var l=this._validate(r,f,this.minDay,o.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===2&&this.leapYear(l.year())?1:0)},weekDay:function(r,f,l){return(this.dayOfWeek(r,f,l)||7)<6},toJD:function(t,f,l){var n=this._validate(t,f,l,o.local.invalidDate),t=this._t2gYear(n.year());return s.toJD(t,n.month(),n.day())},fromJD:function(r){var f=s.fromJD(r),l=this._g2tYear(f.year());return this.newDate(l,f.month(),f.day())},_t2gYear:function(r){return r+this.yearsOffset+(r>=-this.yearsOffset&&r<=-1?1:0)},_g2tYear:function(r){return r-this.yearsOffset-(r>=1&&r<=this.yearsOffset?1:0)}}),o.calendars.taiwan=i},1367:function(te,I,e){var o=e(3489),g=e(6131),s=o.instance();function i(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}i.prototype=new o.baseCalendar,g(i.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var f=this._validate(l,this.minMonth,this.minDay,o.local.invalidYear),l=this._t2gYear(f.year());return s.leapYear(l)},weekOfYear:function(t,f,l){var n=this._validate(t,this.minMonth,this.minDay,o.local.invalidYear),t=this._t2gYear(n.year());return s.weekOfYear(t,n.month(),n.day())},daysInMonth:function(r,f){var l=this._validate(r,f,this.minDay,o.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===2&&this.leapYear(l.year())?1:0)},weekDay:function(r,f,l){return(this.dayOfWeek(r,f,l)||7)<6},toJD:function(t,f,l){var n=this._validate(t,f,l,o.local.invalidDate),t=this._t2gYear(n.year());return s.toJD(t,n.month(),n.day())},fromJD:function(r){var f=s.fromJD(r),l=this._g2tYear(f.year());return this.newDate(l,f.month(),f.day())},_t2gYear:function(r){return r-this.yearsOffset-(r>=1&&r<=this.yearsOffset?1:0)},_g2tYear:function(r){return r+this.yearsOffset+(r>=-this.yearsOffset&&r<=-1?1:0)}}),o.calendars.thai=i},1457:function(te,I,e){var o=e(3489),g=e(6131);function s(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}s.prototype=new o.baseCalendar,g(s.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(r){var f=this._validate(r,this.minMonth,this.minDay,o.local.invalidYear);return this.daysInYear(f.year())===355},weekOfYear:function(r,f,l){var n=this.newDate(r,f,l);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(r){for(var f=0,l=1;l<=12;l++)f+=this.daysInMonth(r,l);return f},daysInMonth:function(r,f){for(var l=this._validate(r,f,this.minDay,o.local.invalidMonth),n=l.toJD()-24e5+.5,t=0,u=0;u<i.length;u++){if(i[u]>n)return i[t]-i[t-1];t++}return 30},weekDay:function(r,f,l){return this.dayOfWeek(r,f,l)!==5},toJD:function(r,f,l){var n=this._validate(r,f,l,o.local.invalidDate),t=12*(n.year()-1)+n.month()-15292,u=n.day()+i[t-1]-1;return u+24e5-.5},fromJD:function(r){for(var f=r-24e5+.5,l=0,n=0;n<i.length&&!(i[n]>f);n++)l++;var t=l+15292,u=Math.floor((t-1)/12),h=u+1,m=t-12*u,y=f-i[l-1]+1;return this.newDate(h,m,y)},isValid:function(r,f,l){var n=o.baseCalendar.prototype.isValid.apply(this,arguments);return n&&(r=r.year!=null?r.year:r,n=r>=1276&&r<=1500),n},_validate:function(r,f,l,n){var t=o.baseCalendar.prototype._validate.apply(this,arguments);if(t.year<1276||t.year>1500)throw n.replace(/\{0\}/,this.local.name);return t}}),o.calendars.ummalqura=s;var i=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},3489:function(te,I,e){var o=e(6131);function g(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}o(g.prototype,{instance:function(n,t){n=(n||"gregorian").toLowerCase(),t=t||"";var u=this._localCals[n+"-"+t];if(!u&&this.calendars[n]&&(u=new this.calendars[n](t),this._localCals[n+"-"+t]=u),!u)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,n);return u},newDate:function(n,t,u,h,m){return h=(n!=null&&n.year?n.calendar():typeof h=="string"?this.instance(h,m):h)||this.instance(),h.newDate(n,t,u)},substituteDigits:function(n){return function(t){return(t+"").replace(/[0-9]/g,function(u){return n[u]})}},substituteChineseDigits:function(n,t){return function(u){for(var h="",m=0;u>0;){var y=u%10;h=(y===0?"":n[y]+t[m])+h,m++,u=Math.floor(u/10)}return h.indexOf(n[1]+t[1])===0&&(h=h.substr(1)),h||n[0]}}});function s(n,t,u,h){if(this._calendar=n,this._year=t,this._month=u,this._day=h,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(l.local.invalidDate||l.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function i(n,t){return n=""+n,"000000".substring(0,t-n.length)+n}o(s.prototype,{newDate:function(n,t,u){return this._calendar.newDate(n??this,t,u)},year:function(n){return arguments.length===0?this._year:this.set(n,"y")},month:function(n){return arguments.length===0?this._month:this.set(n,"m")},day:function(n){return arguments.length===0?this._day:this.set(n,"d")},date:function(n,t,u){if(!this._calendar.isValid(n,t,u))throw(l.local.invalidDate||l.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=n,this._month=t,this._day=u,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(n,t){return this._calendar.add(this,n,t)},set:function(n,t){return this._calendar.set(this,n,t)},compareTo:function(n){if(this._calendar.name!==n._calendar.name)throw(l.local.differentCalendars||l.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,n._calendar.local.name);var t=this._year!==n._year?this._year-n._year:this._month!==n._month?this.monthOfYear()-n.monthOfYear():this._day-n._day;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(n){return this._calendar.fromJD(n)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(n){return this._calendar.fromJSDate(n)},toString:function(){return(this.year()<0?"-":"")+i(Math.abs(this.year()),4)+"-"+i(this.month(),2)+"-"+i(this.day(),2)}});function r(){this.shortYearCutoff="+10"}o(r.prototype,{_validateLevel:0,newDate:function(n,t,u){return n==null?this.today():(n.year&&(this._validate(n,t,u,l.local.invalidDate||l.regionalOptions[""].invalidDate),u=n.day(),t=n.month(),n=n.year()),new s(this,n,t,u))},today:function(){return this.fromJSDate(new Date)},epoch:function(n){var t=this._validate(n,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear);return t.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(n){var t=this._validate(n,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+i(Math.abs(t.year()),4)},monthsInYear:function(n){return this._validate(n,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear),12},monthOfYear:function(n,t){var u=this._validate(n,t,this.minDay,l.local.invalidMonth||l.regionalOptions[""].invalidMonth);return(u.month()+this.monthsInYear(u)-this.firstMonth)%this.monthsInYear(u)+this.minMonth},fromMonthOfYear:function(n,t){var u=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(n)+this.minMonth;return this._validate(n,u,this.minDay,l.local.invalidMonth||l.regionalOptions[""].invalidMonth),u},daysInYear:function(n){var t=this._validate(n,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(n,t,u){var h=this._validate(n,t,u,l.local.invalidDate||l.regionalOptions[""].invalidDate);return h.toJD()-this.newDate(h.year(),this.fromMonthOfYear(h.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(n,t,u){var h=this._validate(n,t,u,l.local.invalidDate||l.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(h))+2)%this.daysInWeek()},extraInfo:function(n,t,u){return this._validate(n,t,u,l.local.invalidDate||l.regionalOptions[""].invalidDate),{}},add:function(n,t,u){return this._validate(n,this.minMonth,this.minDay,l.local.invalidDate||l.regionalOptions[""].invalidDate),this._correctAdd(n,this._add(n,t,u),t,u)},_add:function(n,t,u){if(this._validateLevel++,u==="d"||u==="w"){var h=n.toJD()+t*(u==="w"?this.daysInWeek():1),m=n.calendar().fromJD(h);return this._validateLevel--,[m.year(),m.month(),m.day()]}try{var y=n.year()+(u==="y"?t:0),d=n.monthOfYear()+(u==="m"?t:0),m=n.day(),T=function(c){for(;d<c.minMonth;)y--,d+=c.monthsInYear(y);for(var p=c.monthsInYear(y);d>p-1+c.minMonth;)y++,d-=p,p=c.monthsInYear(y)};u==="y"?(n.month()!==this.fromMonthOfYear(y,d)&&(d=this.newDate(y,n.month(),this.minDay).monthOfYear()),d=Math.min(d,this.monthsInYear(y)),m=Math.min(m,this.daysInMonth(y,this.fromMonthOfYear(y,d)))):u==="m"&&(T(this),m=Math.min(m,this.daysInMonth(y,this.fromMonthOfYear(y,d))));var x=[y,this.fromMonthOfYear(y,d),m];return this._validateLevel--,x}catch(M){throw this._validateLevel--,M}},_correctAdd:function(n,t,u,h){if(!this.hasYearZero&&(h==="y"||h==="m")&&(t[0]===0||n.year()>0!=t[0]>0)){var m={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[h],y=u<0?-1:1;t=this._add(n,u*m[0]+y*m[1],m[2])}return n.date(t[0],t[1],t[2])},set:function(n,t,u){this._validate(n,this.minMonth,this.minDay,l.local.invalidDate||l.regionalOptions[""].invalidDate);var h=u==="y"?t:n.year(),m=u==="m"?t:n.month(),y=u==="d"?t:n.day();return(u==="y"||u==="m")&&(y=Math.min(y,this.daysInMonth(h,m))),n.date(h,m,y)},isValid:function(n,t,u){this._validateLevel++;var h=this.hasYearZero||n!==0;if(h){var m=this.newDate(n,t,this.minDay);h=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(m)&&u>=this.minDay&&u-this.minDay<this.daysInMonth(m)}return this._validateLevel--,h},toJSDate:function(n,t,u){var h=this._validate(n,t,u,l.local.invalidDate||l.regionalOptions[""].invalidDate);return l.instance().fromJD(this.toJD(h)).toJSDate()},fromJSDate:function(n){return this.fromJD(l.instance().fromJSDate(n).toJD())},_validate:function(n,t,u,h){if(n.year){if(this._validateLevel===0&&this.name!==n.calendar().name)throw(l.local.differentCalendars||l.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,n.calendar().local.name);return n}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(n,t,u))throw h.replace(/\{0\}/,this.local.name);var m=this.newDate(n,t,u);return this._validateLevel--,m}catch(y){throw this._validateLevel--,y}}});function f(n){this.local=this.regionalOptions[n]||this.regionalOptions[""]}f.prototype=new r,o(f.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(u){var t=this._validate(u,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear),u=t.year()+(t.year()<0?1:0);return u%4===0&&(u%100!==0||u%400===0)},weekOfYear:function(n,t,u){var h=this.newDate(n,t,u);return h.add(4-(h.dayOfWeek()||7),"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInMonth:function(n,t){var u=this._validate(n,t,this.minDay,l.local.invalidMonth||l.regionalOptions[""].invalidMonth);return this.daysPerMonth[u.month()-1]+(u.month()===2&&this.leapYear(u.year())?1:0)},weekDay:function(n,t,u){return(this.dayOfWeek(n,t,u)||7)<6},toJD:function(n,t,u){var h=this._validate(n,t,u,l.local.invalidDate||l.regionalOptions[""].invalidDate);n=h.year(),t=h.month(),u=h.day(),n<0&&n++,t<3&&(t+=12,n--);var m=Math.floor(n/100),y=2-m+Math.floor(m/4);return Math.floor(365.25*(n+4716))+Math.floor(30.6001*(t+1))+u+y-1524.5},fromJD:function(n){var t=Math.floor(n+.5),u=Math.floor((t-186721625e-2)/36524.25);u=t+1+u-Math.floor(u/4);var h=u+1524,m=Math.floor((h-122.1)/365.25),y=Math.floor(365.25*m),d=Math.floor((h-y)/30.6001),T=h-y-Math.floor(d*30.6001),x=d-(d>13.5?13:1),M=m-(x>2.5?4716:4715);return M<=0&&M--,this.newDate(M,x,T)},toJSDate:function(n,t,u){var h=this._validate(n,t,u,l.local.invalidDate||l.regionalOptions[""].invalidDate),m=new Date(h.year(),h.month()-1,h.day());return m.setHours(0),m.setMinutes(0),m.setSeconds(0),m.setMilliseconds(0),m.setHours(m.getHours()>12?m.getHours()+2:0),m},fromJSDate:function(n){return this.newDate(n.getFullYear(),n.getMonth()+1,n.getDate())}});var l=te.exports=new g;l.cdate=s,l.baseCalendar=r,l.calendars.gregorian=f},4338:function(te,I,e){var o=e(6131),g=e(3489);o(g.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),g.local=g.regionalOptions[""],o(g.cdate.prototype,{formatDate:function(s,i){return typeof s!="string"&&(i=s,s=""),this._calendar.formatDate(s||"",this,i)}}),o(g.baseCalendar.prototype,{UNIX_EPOCH:g.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:g.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(s,i,r){if(typeof s!="string"&&(r=i,i=s,s=""),!i)return"";if(i.calendar()!==this)throw g.local.invalidFormat||g.regionalOptions[""].invalidFormat;s=s||this.local.dateFormat,r=r||{};var f=r.dayNamesShort||this.local.dayNamesShort,l=r.dayNames||this.local.dayNames,n=r.monthNumbers||this.local.monthNumbers,t=r.monthNamesShort||this.local.monthNamesShort,u=r.monthNames||this.local.monthNames;r.calculateWeek||this.local.calculateWeek;for(var h=function(w,_){for(var D=1;b+D<s.length&&s.charAt(b+D)===w;)D++;return b+=D-1,Math.floor(D/(_||1))>1},m=function(w,_,D,B){var U=""+_;if(h(w,B))for(;U.length<D;)U="0"+U;return U},y=function(w,_,D,B){return h(w)?B[_]:D[_]},d=this,T=function(w){return typeof n=="function"?n.call(d,w,h("m")):c(m("m",w.month(),2))},x=function(w,_){return _?typeof u=="function"?u.call(d,w):u[w.month()-d.minMonth]:typeof t=="function"?t.call(d,w):t[w.month()-d.minMonth]},M=this.local.digits,c=function(w){return r.localNumbers&&M?M(w):w},p="",v=!1,b=0;b<s.length;b++)if(v)s.charAt(b)==="'"&&!h("'")?v=!1:p+=s.charAt(b);else switch(s.charAt(b)){case"d":p+=c(m("d",i.day(),2));break;case"D":p+=y("D",i.dayOfWeek(),f,l);break;case"o":p+=m("o",i.dayOfYear(),3);break;case"w":p+=m("w",i.weekOfYear(),2);break;case"m":p+=T(i);break;case"M":p+=x(i,h("M"));break;case"y":p+=h("y",2)?i.year():(i.year()%100<10?"0":"")+i.year()%100;break;case"Y":h("Y",2),p+=i.formatYear();break;case"J":p+=i.toJD();break;case"@":p+=(i.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":p+=(i.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":h("'")?p+="'":v=!0;break;default:p+=s.charAt(b)}return p},parseDate:function(s,i,r){if(i==null)throw g.local.invalidArguments||g.regionalOptions[""].invalidArguments;if(i=typeof i=="object"?i.toString():i+"",i==="")return null;s=s||this.local.dateFormat,r=r||{};var f=r.shortYearCutoff||this.shortYearCutoff;f=typeof f!="string"?f:this.today().year()%100+parseInt(f,10);for(var l=r.dayNamesShort||this.local.dayNamesShort,n=r.dayNames||this.local.dayNames,t=r.parseMonth||this.local.parseMonth,u=r.monthNumbers||this.local.monthNumbers,h=r.monthNamesShort||this.local.monthNamesShort,m=r.monthNames||this.local.monthNames,y=-1,d=-1,T=-1,x=-1,M=-1,c=!1,p=!1,v=function($,ie){for(var N=1;O+N<s.length&&s.charAt(O+N)===$;)N++;return O+=N-1,Math.floor(N/(ie||1))>1},b=function($,ie){var N=v($,ie),F=[2,3,N?4:2,N?4:2,10,11,20]["oyYJ@!".indexOf($)+1],G=new RegExp("^-?\\d{1,"+F+"}"),W=i.substring(L).match(G);if(!W)throw(g.local.missingNumberAt||g.regionalOptions[""].missingNumberAt).replace(/\{0\}/,L);return L+=W[0].length,parseInt(W[0],10)},w=this,_=function(){if(typeof u=="function"){v("m");var $=u.call(w,i.substring(L));return L+=$.length,$}return b("m")},D=function($,ie,N,F){for(var G=v($,F)?N:ie,W=0;W<G.length;W++)if(i.substr(L,G[W].length).toLowerCase()===G[W].toLowerCase())return L+=G[W].length,W+w.minMonth;throw(g.local.unknownNameAt||g.regionalOptions[""].unknownNameAt).replace(/\{0\}/,L)},B=function(){if(typeof m=="function"){var $=v("M")?m.call(w,i.substring(L)):h.call(w,i.substring(L));return L+=$.length,$}return D("M",h,m)},U=function(){if(i.charAt(L)!==s.charAt(O))throw(g.local.unexpectedLiteralAt||g.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,L);L++},L=0,O=0;O<s.length;O++)if(p)s.charAt(O)==="'"&&!v("'")?p=!1:U();else switch(s.charAt(O)){case"d":x=b("d");break;case"D":D("D",l,n);break;case"o":M=b("o");break;case"w":b("w");break;case"m":T=_();break;case"M":T=B();break;case"y":var R=O;c=!v("y",2),O=R,d=b("y",2);break;case"Y":d=b("Y",2);break;case"J":y=b("J")+.5,i.charAt(L)==="."&&(L++,b("J"));break;case"@":y=b("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":y=b("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":L=i.length;break;case"'":v("'")?U():p=!0;break;default:U()}if(L<i.length)throw g.local.unexpectedText||g.regionalOptions[""].unexpectedText;if(d===-1?d=this.today().year():d<100&&c&&(d+=f===-1?1900:this.today().year()-this.today().year()%100-(d<=f?0:100)),typeof T=="string"&&(T=t.call(this,d,T)),M>-1){T=1,x=M;for(var Z=this.daysInMonth(d,T);x>Z;Z=this.daysInMonth(d,T))T++,x-=Z}return y>-1?this.fromJD(y):this.newDate(d,T,x)},determineDate:function(s,i,r,f,l){r&&typeof r!="object"&&(l=f,f=r,r=null),typeof f!="string"&&(l=f,f="");var n=this,t=function(u){try{return n.parseDate(f,u,l)}catch{}u=u.toLowerCase();for(var h=(u.match(/^c/)&&r?r.newDate():null)||n.today(),m=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,y=m.exec(u);y;)h.add(parseInt(y[1],10),y[2]||"d"),y=m.exec(u);return h};return i=i?i.newDate():null,s=s==null?i:typeof s=="string"?t(s):typeof s=="number"?isNaN(s)||s===1/0||s===-1/0?i:n.today().add(s,"d"):n.newDate(s),s}})}},ma={};function _r(te){var I=ma[te];if(I!==void 0)return I.exports;var e=ma[te]={exports:{}};return xa[te].call(e.exports,e,e.exports,_r),e.exports}(function(){_r.d=function(te,I){for(var e in I)_r.o(I,e)&&!_r.o(te,e)&&Object.defineProperty(te,e,{enumerable:!0,get:I[e]})}})(),function(){_r.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){_r.o=function(te,I){return Object.prototype.hasOwnProperty.call(te,I)}}(),function(){_r.r=function(te){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(te,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(te,"__esModule",{value:!0})}}();var ba=_r(2576);return ba}()})})(Ri);var Ia=Ri.exports;const Po=Co("<div>");let Pi={autosize:!0,margin:{l:50,r:50,b:50,t:50,pad:0},paper_bgcolor:"rgba(0, 0, 0, 0)",plot_bgcolor:"rgba(0, 0, 0, 0)",font:{color:"black"}};function Eo(Ir){let aa="plot_div_"+Math.random();const xa=50;let ma=null;return ko({id:"MathJax-script",src:"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-svg.js"}),Ao(()=>{let _r={...Pi,...Ir.layout,width:Ir.width,height:Ir.height};Ia.newPlot(aa,Ir.data,_r,{responsive:!1,displaylogo:!1,displayModeBar:!0,modeBarButtonsToAdd:[{title:"SVG_EXPORT",name:"SVG_EXPORT",icon:Ia.Icons.camera,click:function(ba){Ia.downloadImage(ba,{width:Ir.width??400,height:Ir.height??400,filename:Ir.exportName??"plot",format:Ir.exportFormat??"svg"})}}]})}),wo(()=>{Ir.data;let _r={...Pi,...Ir.layout,width:Ir.width,height:Ir.height};ma!=null&&clearTimeout(ma),ma=setTimeout(()=>{Ia.newPlot(aa,Ir.data,_r,{responsive:!1,displaylogo:!1,displayModeBar:!0,modeBarButtonsToAdd:[{title:"SVG_EXPORT",name:"SVG_EXPORT",icon:Ia.Icons.camera,click:function(ba){Ia.downloadImage(ba,{width:Ir.width??400,height:Ir.height??400,filename:Ir.exportName??"plot",format:Ir.exportFormat??"svg"})}}]})},xa)}),(()=>{const _r=Lo(Po);return So(_r,"id",aa),_r})()}export{Eo as default,Pi as defaultLayout};
